{"version":3,"sources":["webpack:///./src/$_lazy_route_resource lazy namespace object","webpack:///./src/app/app-routing.module.ts","webpack:///./src/app/app.component.css","webpack:///./src/app/app.component.html","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/click-stop-propogation.directive.ts","webpack:///./src/app/common/object-editor.component.css","webpack:///./src/app/common/object-list.component.css","webpack:///./src/app/components/app-helper.ts","webpack:///./src/app/filters/keys.ts","webpack:///./src/app/filters/values.ts","webpack:///./src/app/filters/word-count-limit.ts","webpack:///./src/app/focus.directive.ts","webpack:///./src/app/image-chooser-popup/image-chooser-popup.component.css","webpack:///./src/app/image-chooser-popup/image-chooser-popup.component.html","webpack:///./src/app/image-chooser-popup/image-chooser-popup.component.ts","webpack:///./src/app/image-chooser/image-chooser.component.css","webpack:///./src/app/image-chooser/image-chooser.component.html","webpack:///./src/app/image-chooser/image-chooser.component.ts","webpack:///./src/app/image-cropper/image-cropper.component.css","webpack:///./src/app/image-cropper/image-cropper.component.html","webpack:///./src/app/image-cropper/image-cropper.component.ts","webpack:///./src/app/images/images.component.css","webpack:///./src/app/images/images.component.html","webpack:///./src/app/images/images.component.ts","webpack:///./src/app/menu.service.ts","webpack:///./src/app/model.service.ts","webpack:///./src/app/models/base-api-model.ts","webpack:///./src/app/models/cms-image.ts","webpack:///./src/app/models/image-filter.ts","webpack:///./src/app/models/image-filters.ts","webpack:///./src/app/models/image-type.ts","webpack:///./src/app/models/menu-item.ts","webpack:///./src/app/models/notification-event.ts","webpack:///./src/app/models/room.ts","webpack:///./src/app/models/select-item-event.ts","webpack:///./src/app/models/state.ts","webpack:///./src/app/models/sub-menu-images.ts","webpack:///./src/app/models/sub-menu-pages.ts","webpack:///./src/app/models/sub-menu-settings.ts","webpack:///./src/app/models/sub-menu.ts","webpack:///./src/app/models/trainer.ts","webpack:///./src/app/ng-for-in.directive.ts","webpack:///./src/app/notification.service.ts","webpack:///./src/app/page-editor-field/page-editor-field.component.css","webpack:///./src/app/page-editor-field/page-editor-field.component.html","webpack:///./src/app/page-editor-field/page-editor-field.component.ts","webpack:///./src/app/page-editor-tree-item/page-editor-tree-item.component.css","webpack:///./src/app/page-editor-tree-item/page-editor-tree-item.component.html","webpack:///./src/app/page-editor-tree-item/page-editor-tree-item.component.ts","webpack:///./src/app/page-editor-tree/page-editor-tree.component.css","webpack:///./src/app/page-editor-tree/page-editor-tree.component.html","webpack:///./src/app/page-editor-tree/page-editor-tree.component.ts","webpack:///./src/app/page/page.component.css","webpack:///./src/app/page/page.component.html","webpack:///./src/app/page/page.component.ts","webpack:///./src/app/pages-list/pages-list.component.css","webpack:///./src/app/pages-list/pages-list.component.html","webpack:///./src/app/pages-list/pages-list.component.ts","webpack:///./src/app/pages.service.ts","webpack:///./src/app/pages/pages.component.css","webpack:///./src/app/pages/pages.component.html","webpack:///./src/app/pages/pages.component.ts","webpack:///./src/app/room-editor/room-editor.component.html","webpack:///./src/app/room-editor/room-editor.component.ts","webpack:///./src/app/rooms/rooms.component.html","webpack:///./src/app/rooms/rooms.component.ts","webpack:///./src/app/select-item.service.ts","webpack:///./src/app/services/language.service.ts","webpack:///./src/app/settings-list/settings-list.component.css","webpack:///./src/app/settings-list/settings-list.component.html","webpack:///./src/app/settings-list/settings-list.component.ts","webpack:///./src/app/settings.service.ts","webpack:///./src/app/settings/settings.component.css","webpack:///./src/app/settings/settings.component.html","webpack:///./src/app/settings/settings.component.ts","webpack:///./src/app/storage.ts","webpack:///./src/app/sub-menu/images/images.component.css","webpack:///./src/app/sub-menu/images/images.component.html","webpack:///./src/app/sub-menu/images/images.component.ts","webpack:///./src/app/sub-menu/pages/pages.component.css","webpack:///./src/app/sub-menu/pages/pages.component.html","webpack:///./src/app/sub-menu/pages/pages.component.ts","webpack:///./src/app/sub-menu/settings/settings.component.css","webpack:///./src/app/sub-menu/settings/settings.component.html","webpack:///./src/app/sub-menu/settings/settings.component.ts","webpack:///./src/app/sub-menu/sub-menu.component.css","webpack:///./src/app/sub-menu/sub-menu.component.html","webpack:///./src/app/sub-menu/sub-menu.component.ts","webpack:///./src/app/trainer-editor/trainer-editor.component.html","webpack:///./src/app/trainer-editor/trainer-editor.component.ts","webpack:///./src/app/trainers/trainers.component.html","webpack:///./src/app/trainers/trainers.component.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error('Cannot find module \"' + req + '\".');\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","import { NgModule }             from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\n\nimport { PagesComponent }     from './pages/pages.component';\nimport { ImagesComponent }    from './images/images.component';\nimport {TrainersComponent} from \"./trainers/trainers.component\";\nimport {RoomsComponent} from \"./rooms/rooms.component\";\nimport {SettingsListComponent} from \"./settings-list/settings-list.component\";\nimport {SettingsComponent} from \"./settings/settings.component\";\n\nconst routes: Routes = [\n    {\n        path: '',\n        redirectTo: 'pages',\n        pathMatch: 'full'\n    },\n    {\n        path: 'images',\n        component: ImagesComponent,\n        data : {\n            name: 'Изображения'\n        }\n    },\n    {\n        path: 'pages',\n        component: PagesComponent,\n        data : {\n            name: 'Страницы'\n        },\n    },\n    {\n        path: 'trainers',\n        component: TrainersComponent,\n        data : {\n            name: 'Тренеры'\n        }\n    },\n    {\n        path: 'rooms',\n        component: RoomsComponent,\n        data : {\n            name: 'Номера'\n        }\n    },\n    {\n        path: 'settings',\n        component: SettingsComponent,\n        data : {\n            name: 'Настройки'\n        }\n    }\n];\n\n@NgModule({\n    imports: [ RouterModule.forRoot(routes) ],\n    exports: [ RouterModule ]\n})\nexport class AppRoutingModule {}","module.exports = \"/* Application-wide Styles */\\n.bordered-section {\\n  border: 1px solid #444;\\n  margin: 5px;\\n}\\n.shadowed {\\n  box-shadow: 0 0 25px rgba(0, 0, 0, 0.2);\\n}\\n.put-right {\\n  position: absolute;\\n  right: 11px;\\n  left: 350px;\\n  top: 17px;\\n  max-height: 100%;\\n  overflow-y: auto;\\n}\\n.sub-menu {\\n  background-color: #fff;\\n  position: relative;\\n}\\n.sub-menu .navbar-selector-item {\\n  border: none!important;\\n}\\n.triangle.top {\\n  top: 0;\\n  right: 50%;\\n  position: absolute;\\n  content: '';\\n  display: block;\\n  width: 10px;\\n  height: 10px;\\n  background: #fff;\\n  -webkit-transform: rotate(45deg);\\n  transform: rotate(45deg);\\n  z-index: 1;\\n  margin-top: calc(-10px/2);\\n}\\n.sub-menu-items {\\n  display: none;\\n}\\n.active + .sub-menu-items {\\n  display: initial;\\n}\\n.menu-items {\\n  padding-left: 0;\\n  background-color: #eee;\\n}\\n.menu-items li {\\n  text-align: center;\\n}\\n.menu-items li a {\\n  color: #444;\\n  width: 100%;\\n}\\n.menu-items li a.active {\\n  background-color: #bbb;\\n}\\nh1 {\\n  color: #369;\\n  font-family: Arial, Helvetica, sans-serif;\\n  font-size: 250%;\\n}\\nh2,\\nh3 {\\n  color: #444;\\n  font-family: Arial, Helvetica, sans-serif;\\n  font-weight: lighter;\\n}\\nbody {\\n  margin: 2em;\\n}\\nbody,\\ninput[text],\\nbutton {\\n  color: #888;\\n  font-family: Cambria, Georgia;\\n}\\n/* everywhere else */\\n*:not(.fa) {\\n  font-family: Arial, Helvetica, sans-serif;\\n}\\nnav a {\\n  text-decoration: none;\\n  display: inline-block;\\n  background-color: #eee;\\n}\\nnav a:visited,\\na:link {\\n  color: #607D8B;\\n}\\nnav a:hover {\\n  color: #039be5;\\n  background-color: #CFD8DC;\\n}\\nnav a.active {\\n  color: #039be5;\\n}\\n.card-header {\\n  padding: .15rem .15rem!important;\\n}\\n.btn-link {\\n  text-decoration: none!important;\\n  color: #444!important;\\n}\\naccordion-group .panel.card {\\n  margin-bottom: 10px;\\n}\\n.bordered-section {\\n  border: 1px solid #444;\\n  margin: 5px;\\n}\\n.shadowed {\\n  box-shadow: 0 0 25px rgba(0, 0, 0, 0.2);\\n}\\n.put-right {\\n  position: absolute;\\n  right: 11px;\\n  left: 350px;\\n  top: 17px;\\n  max-height: 100%;\\n  overflow-y: auto;\\n}\\n.toolbar-element {\\n  background-color: #fff;\\n  text-align: center;\\n}\\n.toolbar-element div {\\n  display: inline-block;\\n  border: none;\\n  background-color: #fff;\\n  padding: 5px;\\n}\\n.toolbar-element div i {\\n  color: #0D47A1;\\n  width: 31px;\\n  height: 31px;\\n  position: relative;\\n}\\n.toolbar-element div i:before {\\n  display: none;\\n}\\n.toolbar-element div i.fa-plus {\\n  background: url('/admin/assets/icons/plus.svg') no-repeat;\\n}\\n.toolbar-element div i.fa-bars {\\n  background: url('/admin/assets/icons/bars.svg') no-repeat 0 3px;\\n}\\n.module-list {\\n  background: #fff;\\n}\\n.module-list .trainers-list-element,\\n.module-list .toolbar-element {\\n  display: block;\\n}\\n.module-editor {\\n  background: #fff;\\n}\\n.module-editor.module-editor-visible:not(.visible) {\\n  display: none;\\n}\\n/* The switch - the box around the slider */\\n.switch {\\n  position: relative;\\n  display: inline-block;\\n  width: 60px;\\n  height: 34px;\\n}\\n.switch input {\\n  display: none;\\n}\\n.switch .slider {\\n  position: absolute;\\n  cursor: pointer;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n  background-color: #ccc;\\n  transition: .4s;\\n}\\n.switch .slider:before {\\n  position: absolute;\\n  content: \\\"\\\";\\n  height: 26px;\\n  width: 26px;\\n  left: 4px;\\n  bottom: 4px;\\n  background-color: white;\\n  transition: .4s;\\n}\\n.switch .slider.round {\\n  border-radius: 34px;\\n}\\n.switch .slider.round:before {\\n  border-radius: 50%;\\n}\\n.switch input:checked + .slider {\\n  background-color: #97a0a7;\\n}\\n.switch input:focus + .slider {\\n  box-shadow: 0 0 1px #97a0a7;\\n}\\n.switch input:checked + .slider:before {\\n  -webkit-transform: translateX(26px);\\n  transform: translateX(26px);\\n}\\n.ripple {\\n  background-position: center;\\n  transition: background 0.8s;\\n}\\n.ripple:hover {\\n  background: rgba(255, 255, 255, 0.1) radial-gradient(circle, transparent 1%, rgba(255, 255, 255, 0.3) 1%) center / 15000%;\\n}\\n.ripple:active {\\n  background-color: rgba(255, 255, 255, 0.1);\\n  background-size: 100%;\\n  transition: background 0s;\\n}\\n/**\\nбабахаем все стили прямо сюда, временно, разумеется\\n*/\\ndiv.menu ul {\\n  list-style: none;\\n}\\nbody,\\nhtml {\\n  min-height: 100%;\\n}\\nbody {\\n  margin: 0;\\n  padding: 0;\\n}\\nbody app-root {\\n  display: flex;\\n  height: 100%;\\n  flex-direction: column;\\n}\\n.module-wrapper-element {\\n  min-height: 100vh;\\n  position: relative;\\n  flex: 1 1;\\n  margin-left: 250px;\\n  margin-top: 50px;\\n}\\nheader.admin-header {\\n  background-color: #000;\\n  height: 50px;\\n  right: 0;\\n  top: 0;\\n  position: fixed;\\n  left: 0;\\n  z-index: 90;\\n  box-shadow: 0 0 22px rgba(0, 0, 0, 0.5);\\n}\\n.alert-element {\\n  position: fixed;\\n  right: 10px;\\n  top: 60px;\\n  width: 200px;\\n  background-color: #eee;\\n  z-index: 999;\\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);\\n  display: none;\\n}\\n.alert-element .message {\\n  padding: 10px;\\n}\\n.alert-element .close {\\n  position: absolute;\\n  top: 5px;\\n  right: 5px;\\n}\\n.admin-content-wrapper {\\n  height: 100%;\\n  background-color: #dcdcdc;\\n  overflow: hidden;\\n  flex: 1 0 auto;\\n  z-index: 1;\\n  display: flex;\\n}\\n.admin-content-wrapper > .wrapper {\\n  display: flex;\\n  flex-direction: row;\\n  width: 100%;\\n  height: 100%;\\n}\\n.admin-content-wrapper > .wrapper > .menu {\\n  flex: 0 0;\\n}\\n.admin-content-wrapper > .wrapper > .content {\\n  flex: 1 1;\\n}\\n.admin-content-wrapper .wrapper .menu {\\n  height: 100%;\\n  background-color: #eee;\\n  min-width: 200px;\\n  float: left;\\n}\\n.navbar-selector-item {\\n  border-bottom: 1px solid #444;\\n  padding: 10px 20px;\\n  text-align: left;\\n}\\n.navbar-selector-item:first-of-type {\\n  border-top: 1px solid #444;\\n}\\n.navbar-selector-item.active {\\n  position: relative;\\n  background-color: #c5c5c5;\\n}\\n.menu-selector-item a {\\n  padding: 10px 20px;\\n  background-color: #d6d6d6;\\n}\\n.module-menu-element {\\n  width: 320px;\\n}\\n.module-menu-element > div:not(.module-panel) {\\n  box-shadow: 0 0 25px rgba(0, 0, 0, 0.2);\\n}\\n.module-menu-element h3 {\\n  font-size: 20px;\\n  margin-left: 16px;\\n  margin-top: 24px;\\n}\\n.module-menu-element .module-panel {\\n  margin-top: 10px;\\n  margin-left: 15px;\\n  display: inline-flex;\\n  flex-direction: row;\\n  width: 100%;\\n}\\n.page-editor .module-panel .save {\\n  margin-right: 0!important;\\n}\\n.page-editor .module-panel .view {\\n  margin: 0 10px;\\n  padding: 8px;\\n}\\n.module-content-element {\\n  position: absolute;\\n  right: 11px;\\n  left: 350px;\\n  top: 17px;\\n  max-height: 100%;\\n  overflow-y: auto;\\n}\\n.large-popup {\\n  width: 80%;\\n  max-width: none;\\n}\\n.admin-menu-element {\\n  box-shadow: 4px 0 24px rgba(0, 0, 0, 0.15);\\n  left: 0;\\n  top: 50px;\\n  bottom: 0;\\n  position: fixed;\\n  width: 250px;\\n  z-index: 90;\\n}\\n.switch {\\n  top: 6px;\\n}\\n.language-selector-label {\\n  display: inline-block;\\n  top: -12px;\\n  position: relative;\\n  margin: 0 10px;\\n}\\n.module-control-button-element {\\n  background-color: #fff;\\n  border: none;\\n  height: 52px;\\n  padding: 0 20px;\\n  margin-right: 18px;\\n  flex: 0 0;\\n  color: #000;\\n  box-shadow: 0 0 25px rgba(0, 0, 0, 0.2);\\n}\\n.module-control-button-element.default {\\n  background-color: #4a90e2;\\n  color: #fff;\\n}\\n.module-control-button-element.cancel {\\n  background-color: #888;\\n  color: #fff;\\n}\\n.module-control-button-element.delete {\\n  background-color: #bd0e0e;\\n  color: #fff;\\n}\\n.page-editor .module-editor {\\n  position: absolute;\\n  right: 11px;\\n  left: 350px;\\n  top: 17px;\\n  max-height: 100%;\\n  overflow-y: auto;\\n}\\ntrainers:not(.integrated) .module-list,\\nrooms:not(.integrated) .module-list {\\n  float: left;\\n  margin-left: 10px;\\n  margin-right: 10px;\\n}\\ntrainers:not(.integrated) .module-editor,\\nrooms:not(.integrated) .module-editor {\\n  overflow: hidden;\\n}\\n.modal-dialog.vertical {\\n  min-width: 700px!important;\\n}\\n[hidden] {\\n  display: none !important;\\n}\\n.form-control-inline {\\n  width: initial;\\n  display: inline-block;\\n}\\n.modal-dialog {\\n  width: -webkit-min-content;\\n  width: -moz-min-content;\\n  width: min-content;\\n  min-width: 500px;\\n}\\nselect.form-control,\\ninput.form-control {\\n  border-radius: 0!important;\\n  height: 30px!important;\\n  padding: 0!important;\\n  padding-left: 6px!important;\\n}\\nselect.form-control:focus,\\ninput.form-control:focus {\\n  border-color: #ced4da;\\n  -o-box-shadow: none;\\n  box-shadow: none;\\n}\\ninput.color {\\n  display: inline-block;\\n  width: 30px!important;\\n  height: 30px;\\n  outline: none;\\n  border: 2px solid #757575;\\n  border-radius: 2px;\\n}\\n.modal-dialog.image-chooser-popup {\\n  width: 90%!important;\\n  max-width: none!important;\\n}\\nmat-checkbox {\\n  margin-right: 10px;\\n  margin-left: 10px;\\n}\\n.mat-checkbox-checked.mat-primary .mat-checkbox-background,\\n.mat-checkbox-indeterminate.mat-primary .mat-checkbox-background {\\n  background-color: #4a90e2!important;\\n}\\n.trumbowyg-box {\\n  margin-top: 0!important;\\n}\\n\"","module.exports = \"<div class=\\\"alert-element\\\">\\n  <div class=\\\"message\\\">\\n  </div>\\n  <span class=\\\"close\\\" (click)=\\\"hideAlert()\\\">\\n    <i class=\\\"fa fa-close\\\"></i>\\n  </span>\\n</div>\\n<header class=\\\"admin-header\\\">\\n  <div class=\\\"row\\\">\\n    <div class=\\\"col-md-8\\\">\\n      <a class=\\\"header-logo\\\" href=\\\"\\\" title=\\\"beshitza.ru\\\">\\n        <img src=\\\"assets/img/logo_header.jpg\\\">\\n      </a>\\n    </div>\\n    <div class=\\\"col-md-2\\\">\\n      <span class=\\\"language-selector-label\\\">RU</span>\\n      <label class=\\\"switch\\\">\\n        <input type=\\\"checkbox\\\" class=\\\"switch\\\" id=\\\"switch-language\\\" [ngModel]=\\\"languageEn\\\"  (change)=\\\"toggleLanguage()\\\">\\n        <span class=\\\"slider round\\\"></span>\\n      </label>\\n      <span class=\\\"language-selector-label\\\">EN</span>\\n    </div>\\n    <div class=\\\"col-md-2\\\">\\n    </div>\\n  </div>\\n</header>\\n<section class=\\\"admin-content-wrapper\\\">\\n  <div class=\\\"wrapper\\\">\\n    <div class=\\\"admin-menu-element\\\">\\n      <nav>\\n        <ul class=\\\"menu-items\\\">\\n          <li *ngFor=\\\"let item of getMenuItems()\\\" class=\\\"menu-selector-item\\\">\\n            <a routerLinkActive=\\\"active\\\" routerLink=\\\"{{item.getPath()}}\\\">{{item.getName()}}</a>\\n            <div class=\\\"sub-menu-items\\\">\\n              <sub-menu [subMenu]=\\\"item.getSubmenu()\\\"></sub-menu>\\n            </div>\\n          </li>\\n        </ul>\\n      </nav>\\n    </div>\\n    <div class=\\\"module-wrapper-element\\\">\\n      <header>\\n      </header>\\n      <router-outlet></router-outlet>\\n    </div>\\n  </div>\\n</section>\"","import { Component } from '@angular/core';\nimport 'rxjs/add/operator/filter';\nimport { ActivatedRoute, Router, NavigationEnd } from '@angular/router';\nimport {MenuService} from \"./menu.service\";\nimport {MenuItem} from \"./models/menu-item\";\nimport {SelectItemService} from \"./select-item.service\";\nimport {SelectItemEvent} from \"./models/select-item-event\";\nimport * as $ from 'jquery';\nimport {NotificationService} from \"./notification.service\";\nimport {NotificationEvent} from \"./models/notification-event\";\n\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  title = 'Админка';\n  currentMenuContent = null;\n  currentRoute    = null;\n  languageEn = false;\n\n  constructor(\n      private route: ActivatedRoute,\n      private router: Router,\n      private menuService: MenuService,\n      private selectItemService: SelectItemService,\n      private notificationService: NotificationService\n  ) {\n      this.notificationService.onError((event: NotificationEvent) => {\n         AppComponent.showErrorAlert(event.message);\n      });\n  }\n\n  private hideAlert()\n  {\n      $('.alert-element').hide();\n  }\n\n  private static showErrorAlert(message: string)\n  {\n      $('.alert-element .message').text(message);\n      $('.alert-element').show();\n  }\n\n  toggleLanguage()\n  {\n      this.languageEn = !this.languageEn;\n      this.selectItemService.emit(new SelectItemEvent(SelectItemEvent.Type.LanguageChange, {\n          language : this.languageEn ? 2 : 1\n      }));\n\n  }\n\n  getMenuItems(): MenuItem[] {\n      return this.menuService.getItems();\n  }\n\n  ngOnInit() {\n    this.router.events\n\t\t.filter(event => event instanceof NavigationEnd)\n\t\t.subscribe(event => {\n          this.currentRoute = this.route.root;\n          while (this.currentRoute.children[0] !== undefined) {\n            this.currentRoute = this.currentRoute.children[0];\n          }\n        })\n  }\n}\n","import {BrowserModule} from '@angular/platform-browser';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\nimport {NgModule} from '@angular/core';\nimport {ModalModule, SortableModule, TabsModule} from 'ngx-bootstrap';\nimport {AppComponent} from './app.component';\nimport {PagesComponent} from './pages/pages.component';\nimport {PagesService} from './pages.service';\nimport {ModelService} from './model.service';\nimport {MenuService} from './menu.service';\nimport {AppRoutingModule} from './app-routing.module';\nimport {ImagesComponent} from './images/images.component';\nimport {TrainersComponent} from './trainers/trainers.component';\nimport {HttpClientModule} from '@angular/common/http';\nimport {PageComponent} from './page/page.component';\nimport {PageEditorTreeComponent} from './page-editor-tree/page-editor-tree.component';\nimport {SubMenuComponent} from './sub-menu/sub-menu.component';\nimport {SubMenuPagesComponent} from './sub-menu/pages/pages.component';\nimport {SubMenuSettingsComponent} from './sub-menu/settings/settings.component';\nimport {PagesListComponent} from './pages-list/pages-list.component';\nimport {SelectItemService} from \"./select-item.service\";\nimport {NgxTrumbowygModule} from 'ngx-trumbowyg';\nimport {TrainerEditorComponent} from './trainer-editor/trainer-editor.component';\nimport {FileHelpersModule} from 'ngx-file-helpers';\nimport {BsDropdownModule} from 'ngx-bootstrap';\nimport {WordCountLimit} from './filters/word-count-limit';\nimport {Values} from './filters/values';\nimport {Keys} from './filters/keys';\nimport {ImageChooserComponent} from './image-chooser/image-chooser.component';\nimport {NgForIn} from './ng-for-in.directive';\nimport {AccordionModule} from 'ngx-bootstrap/accordion';\nimport {PageEditorFieldComponent} from './page-editor-field/page-editor-field.component';\nimport {ColorPickerModule} from 'ngx-color-picker';\nimport {RoomEditorComponent} from \"./room-editor/room-editor.component\";\nimport {RoomsComponent} from \"./rooms/rooms.component\";\nimport {LanguageService} from \"./services/language.service\";\nimport {SettingsListComponent} from \"./settings-list/settings-list.component\";\nimport {SettingsService} from \"./settings.service\";\nimport {SettingsComponent} from \"./settings/settings.component\";\nimport {ClickStopPropagation} from \"./click-stop-propogation.directive\";\nimport { PageEditorTreeItemComponent } from './page-editor-tree-item/page-editor-tree-item.component';\nimport { ImageCropperComponent, CropperSettings } from 'ng2-img-cropper';\nimport { CustomImageCropperComponent } from './image-cropper/image-cropper.component';\nimport {SubMenuImagesComponent} from \"./sub-menu/images/images.component\";\nimport { FocusDirective } from './focus.directive';\nimport { ScrollToModule } from 'ng2-scroll-to-el';\nimport { ImageChooserPopupComponent } from './image-chooser-popup/image-chooser-popup.component';\nimport {MatCheckboxModule} from \"@angular/material\";\n//import { CustomCheckboxModule } from 'angular-custom-checkbox';\n\n@NgModule({\n    declarations: [\n        AppComponent,\n        PagesComponent,\n        ImagesComponent,\n        TrainersComponent,\n        RoomsComponent,\n        PageComponent,\n        SettingsComponent,\n        PageEditorTreeComponent,\n        SubMenuComponent,\n        SubMenuPagesComponent,\n        SubMenuSettingsComponent,\n        SubMenuImagesComponent,\n        PagesListComponent,\n        SettingsListComponent,\n        TrainerEditorComponent,\n        RoomEditorComponent,\n        WordCountLimit,\n        Values,\n        Keys,\n        ImageChooserComponent,\n        NgForIn,\n        PageEditorFieldComponent,\n        ClickStopPropagation,\n        PageEditorTreeItemComponent,\n        ImageCropperComponent,\n        CustomImageCropperComponent,\n        FocusDirective,\n        ImageChooserPopupComponent,\n    ],\n    imports: [\n        BrowserModule,\n        FormsModule,\n        ReactiveFormsModule,\n        AppRoutingModule,\n        HttpClientModule,\n        NgxTrumbowygModule.withConfig({\n            lang: 'ru',\n            svgPath: 'assets/icons/icons.svg',\n            removeformatPasted: true,\n            autogrow: true,\n            btns: [\n                ['formatting'],\n                ['strong', 'em', 'del'],\n                ['superscript', 'subscript'],\n                ['link'],\n                ['justifyLeft', 'justifyCenter', 'justifyRight', 'justifyFull'],\n                ['unorderedList', 'orderedList'],\n                ['horizontalRule'],\n                ['removeformat'],\n                ['fullscreen']\n            ]\n        }),\n        ModalModule.forRoot(),\n        FileHelpersModule,\n        BsDropdownModule.forRoot(),\n        TabsModule.forRoot(),\n        AccordionModule.forRoot(),\n        SortableModule.forRoot(),\n        ColorPickerModule,\n        ScrollToModule.forRoot(),\n        MatCheckboxModule,\n    ],\n    providers: [\n        PagesService, MenuService, SelectItemService, ModelService, LanguageService, SettingsService\n    ],\n    bootstrap: [AppComponent],\n    exports: [ModalModule]\n})\nexport class AppModule {\n}\n","import {Directive, HostListener} from \"@angular/core\";\n\n@Directive({\n    selector: \"[click-stop-propagation]\"\n})\nexport class ClickStopPropagation\n{\n    @HostListener(\"click\", [\"$event\"])\n    public onClick(event: any): void\n    {\n        event.stopPropagation();\n    }\n}","module.exports = \".object-editor {\\n  padding: 10px 10px;\\n  position: relative;\\n}\\n.object-editor:not(.active) .close {\\n  display: none;\\n}\\n.object-editor .field * {\\n  vertical-align: top;\\n  margin-bottom: 10px;\\n}\\n.object-editor .field .label {\\n  width: 120px;\\n  text-align: left;\\n  margin-right: 20px;\\n  display: inline-block;\\n}\\n.object-editor .field input[type=text] {\\n  width: 300px;\\n}\\n.object-editor .close,\\n.object-editor .cancel {\\n  position: absolute;\\n  right: 10px;\\n  top: 10px;\\n}\\n.image-picker {\\n  position: relative;\\n}\\n.image-picker .img-crop img {\\n  width: 400px;\\n}\\n.image-picker [ngxfiledropzone] {\\n  border: 5px dashed #eee;\\n  padding: 50px;\\n  text-align: center;\\n  display: inline-block;\\n  margin-left: 10px;\\n}\\n\"","module.exports = \"::-webkit-scrollbar {\\n  width: 0px;\\n  /* remove scrollbar space */\\n  background: transparent;\\n  /* optional: just make scrollbar invisible */\\n}\\n/* optional: show position indicator in red */\\n::-webkit-scrollbar-thumb {\\n  background: #FF0000;\\n}\\n.object-list-element {\\n  padding: 0;\\n  max-height: 70vh;\\n  overflow-y: scroll;\\n  min-width: 200px;\\n}\\n.object-list-element li {\\n  list-style: none;\\n  padding: 10px 20px;\\n  height: 43px;\\n}\\n.object-list-element li h2 i {\\n  float: right;\\n}\\n.object-name {\\n  font-size: 17px;\\n  overflow: hidden;\\n}\\n.object-id {\\n  float: left;\\n  margin-right: 8px;\\n}\\n.object-item.active {\\n  background-color: #eee;\\n}\\n\"","export class AppHelper {\n    public static uuid(): string {\n        function s4() {\n            return Math.floor((1 + Math.random()) * 0x10000)\n                .toString(16)\n                .substring(1);\n        }\n        return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();\n    }\n}","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n    name: 'keys'\n})\nexport class Keys implements PipeTransform {\n    transform(value: Object): any {\n        return Object.keys(value);\n    }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n    name: 'values'\n})\nexport class Values implements PipeTransform {\n    transform(value: Object): any {\n        return Object.values(value);\n    }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n    name: 'wordCountLimit'\n})\nexport class WordCountLimit implements PipeTransform {\n    transform(value: string, count: number): string {\n        return value.split(\" \").slice(0, count).join(\" \");\n    }\n}\n","import {Directive, Input, EventEmitter, ElementRef, Renderer, Inject} from '@angular/core';\n\n@Directive({\n    selector: '[focus]'\n})\nexport class FocusDirective {\n    @Input('focus') focusEvent: EventEmitter<boolean>;\n\n    constructor(@Inject(ElementRef) private element: ElementRef, private renderer: Renderer) {\n    }\n\n    ngOnInit() {\n        this.focusEvent.subscribe(event => {\n          console.log(event);\n            switch (event) {\n                case true:\n                  this.renderer.invokeElementMethod(this.element.nativeElement, 'focus', []);\n                  break;\n                case false:\n                  console.log('bluring')\n                  this.renderer.invokeElementMethod(this.element.nativeElement, 'blur', []);\n                    break;\n            }\n\n        });\n    }\n}","module.exports = \"h4 {\\n  display: inline-block;\\n}\\n.modal-dialog {\\n  overflow-y: initial !important;\\n}\\n.modal-body {\\n  height: 70vh;\\n  overflow-y: auto;\\n}\\n.modal-header > div:first-child {\\n  flex: 1 1;\\n}\\n.modal-header > div:first-child * {\\n  vertical-align: bottom;\\n}\\n.modal-header > div:first-child h4 {\\n  margin-right: 10px;\\n}\\n.modal-header > div:first-child :nth-child(2) {\\n  height: 68px;\\n  display: inline-block;\\n}\\n.modal-footer {\\n  text-align: right;\\n}\\n.toolbar {\\n  display: inline-block;\\n  width: 300px;\\n}\\n\"","module.exports = \"<ng-template #imageChooser>\\n  <div class=\\\"modal-header\\\">\\n    <div class=\\\"pull-left\\\">\\n      <h4 class=\\\"modal-title\\\">Выберите изображение</h4>\\n      <sub-menu-images [inline]=\\\"true\\\" [showShowTitles]=\\\"false\\\" [fixedImageTypeId]=\\\"fixedImageTypeId\\\"></sub-menu-images>\\n    </div>\\n    <button type=\\\"button\\\" class=\\\"close pull-right\\\" aria-label=\\\"Close\\\" (click)=\\\"modalRef.hide()\\\">\\n      <span aria-hidden=\\\"true\\\">&times;</span>\\n    </button>\\n  </div>\\n  <div class=\\\"modal-body\\\">\\n    <app-images\\n            [selectionMode]=\\\"true\\\"\\n            [fixedImageTypeId]=\\\"fixedImageTypeId\\\"\\n            [multiple]=\\\"multiple\\\"\\n            (selectedImageId)=\\\"outputImageId($event)\\\" (selectedImageIds)=\\\"outputImageIds($event)\\\"></app-images>\\n  </div>\\n  <div class=\\\"modal-footer\\\">\\n    <div class=\\\"toolbar\\\">\\n      <button class=\\\"ripple module-control-button-element default\\\" (click)=\\\"selectItemService.emitImageChooserEvent(); closePopup()\\\">Выбор</button>\\n      <button class=\\\"ripple module-control-button-element delete\\\" (click)=\\\"closePopup()\\\">отмена</button>\\n    </div>\\n  </div>\\n</ng-template>\"","import {Component, EventEmitter, Input, OnInit, Output, ViewChild} from '@angular/core';\nimport {CmsImage} from \"../models/cms-image\";\nimport {BsModalService} from \"ngx-bootstrap\";\nimport {SelectItemService} from \"../select-item.service\";\n\n@Component({\n    selector: 'app-image-chooser-popup',\n    templateUrl: './image-chooser-popup.component.html',\n    styleUrls: ['./image-chooser-popup.component.css'],\n})\nexport class ImageChooserPopupComponent implements OnInit {\n\n\n    @Input() multiple: boolean = false;\n    @Input() fixedImageTypeId: number = null;\n\n    @Output() selectedImageId = new EventEmitter<CmsImage>();\n    @Output() selectedImageIds = new EventEmitter<Array<CmsImage>>();\n\n    private modalRef;\n\n    public constructor(\n        private modalService: BsModalService,\n        private selectItemService: SelectItemService\n    ) {}\n\n    public showPopup()\n    {\n        this.modalRef = this.modalService.show(this.imageChooser, {\n            class: 'image-chooser-popup'\n        });\n    }\n\n    public closePopup()\n    {\n        this.modalRef.hide();\n    }\n\n    public outputImageId(imageId)\n    {\n        this.selectedImageId.emit(imageId);\n    }\n\n    public outputImageIds(imageIds)\n    {\n        this.selectedImageId.emit(imageIds);\n    }\n\n    @ViewChild('imageChooser') imageChooser;\n\n    ngOnInit() {\n    }\n}\n","module.exports = \":host .tick {\\n  position: absolute;\\n  top: 10px;\\n  right: 10px;\\n  width: 15px;\\n  height: 15px;\\n  border: 1px solid #000;\\n  background-color: #fff;\\n}\\n:host .tick.ticked:after {\\n  content: '';\\n  position: absolute;\\n  width: 10px;\\n  height: 10px;\\n  top: 2px;\\n  left: 2px;\\n  border-radius: 5px;\\n  background-color: #000;\\n}\\n\"","module.exports = \"<div class=\\\"image-chooser-element\\\">\\n    <div>\\n        <div class=\\\"images\\\">\\n            <div class=\\\"content module-editor\\\" *ngIf=\\\"images !== null\\\">\\n\\n                <div class=\\\"image-card\\\">\\n                    <div class=\\\"new-image image-wrapper\\\" accept=\\\"image/*\\\" ngxFileDropzone (fileDrop)=\\\"dropped($event)\\\" ngxFilePicker (filePick)=\\\"dropped($event)\\\">\\n                        Добавьте фото<br>\\n                        <i class=\\\"plus\\\"></i><br>\\n                    </div>\\n                </div>\\n\\n                <div *ngFor=\\\"let image of images; let i = index;\\\" class=\\\"image-card\\\" (click)=\\\"markImage(i)\\\" [hidden]=\\\"i >= limit\\\">\\n                    <div class='image-card-wrapper' *ngIf=\\\"i < limit;\\\">\\n                        <img #imagesList src=\\\"/{{image.filename}}\\\" (load)=\\\"detectOrientation(i)\\\">\\n                        <div class=\\\"short-description\\\">\\n                            {{image.description | wordCountLimit: 15 }}\\n                        </div>\\n                    </div>\\n                    <div class=\\\"tick\\\" [class.ticked]=\\\"multiple ? preSelectedImageIds[image.id] : preSelectedImageId === image.id\\\"></div>\\n                </div>\\n\\n                <div class=\\\"image-card\\\" (click)=\\\"loadMore()\\\" *ngIf=\\\"limit < images.length\\\">\\n                    <div class=\\\"load-more image-wrapper\\\">\\n                        Показать<br>ещё\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n<div #bottom></div>\"","import {Component, ElementRef, EventEmitter, Input, OnInit, Output, ViewChild, ViewChildren} from '@angular/core';\nimport {CmsImage} from \"../models/cms-image\";\nimport {ModelService} from \"../model.service\";\nimport {SelectItemService} from \"../select-item.service\";\nimport {SelectItemEvent} from \"../models/select-item-event\";\nimport {ImageFilter} from \"../models/image-filter\";\nimport {ScrollToService} from \"ng2-scroll-to-el\";\nimport {ImageType} from \"../models/image-type\";\n\n@Component({\n  selector: 'app-image-chooser',\n  templateUrl: './image-chooser.component.html',\n  styleUrls: ['./image-chooser.component.css', '../images/images.component.css']\n})\nexport class ImageChooserComponent implements OnInit {\n\n    @ViewChildren('imagesList') imageList;\n\n    private images: CmsImage[];\n\n\n    preSelectedImageId = null;\n    preSelectedImageIds = [];\n\n    @ViewChild('bottom') bottom: ElementRef;\n\n    private limit: number = 10;\n\n    @Input() multiple: boolean = false;\n    @Input() fixedImageTypeId: number = null;\n\n    @Output() selectedImageId = new EventEmitter<CmsImage>();\n    @Output() selectedImageIds = new EventEmitter<Array<CmsImage>>();\n\n\n\n    constructor(\n        private modelService: ModelService,\n        private selectItemService: SelectItemService,\n        private scrollService: ScrollToService\n    )\n    {\n        this.selectItemService.event$.subscribe((event: SelectItemEvent) => {\n            if (event.itemType === SelectItemEvent.Type.ImageChooserApply) {\n                if (this.multiple) {\n                    const result = [];\n                    for (let imageId in this.preSelectedImageIds) {\n                        if (!this.preSelectedImageIds[imageId]) continue;\n                        result.push(this.images.find(i => i.id === Number(imageId)));\n                    }\n                    this.selectedImageIds.emit(result);\n                } else {\n                    this.selectedImageId.emit(this.images.find(i => i.id === Number(this.preSelectedImageId)));\n                }\n            }\n        });\n\n        this.selectItemService.event$.subscribe((event: SelectItemEvent) => {\n            if (event.itemType === SelectItemEvent.Type.ApplyFilter) {\n                const filter: ImageFilter = event.payload.filter;\n                this.loadImages(filter);\n            }\n        });\n    }\n\n    public dropped($event)\n    {\n\n    }\n\n    public loadMore()\n    {\n        if (this.images && this.limit < this.images.length) {\n            this.limit += 14;\n        }\n\n        this.scrollService.scrollTo(this.bottom.nativeElement);\n    }\n\n    public markImage(i: number)\n    {\n        let imageId = this.images[i].id;\n\n        if (this.multiple) {\n            if (this.preSelectedImageIds[imageId] === undefined) {\n                this.preSelectedImageIds[imageId] = true;\n            } else {\n                this.preSelectedImageIds[imageId] = !this.preSelectedImageIds[imageId];\n            }\n        } else {\n            this.preSelectedImageId = imageId;\n        }\n    }\n\n    public detectOrientation(i: number)\n    {\n        let image = this.imageList.toArray()[i].nativeElement;\n\n        if (image.naturalWidth > image.naturalHeight) {\n            image.classList.add('landscape');\n        } else if (image.naturalWidth < image.naturalHeight) {\n            image.classList.add('portrait');\n        }\n    }\n\n    private loadImages(filter: ImageFilter = null) {\n        if (this.fixedImageTypeId !== null) {\n            filter.selectedType = new ImageType();\n            filter.selectedType.id = 1;//this.fixedImageTypeId;\n        }\n\n        this.modelService.getImages(filter).subscribe(images => {\n            images.forEach((rawImage, index) => {images[index] = CmsImage.fromRaw(rawImage);});\n            this.images = images;\n        });\n    }\n\n    ngOnInit() {\n        this.loadImages();\n    }\n\n}\n","module.exports = \"\"","module.exports = \"<img-cropper #cropper [image]=\\\"{}\\\" [settings]=\\\"cropperSettings\\\"></img-cropper>\"","import {\n    ChangeDetectionStrategy, ChangeDetectorRef, Component, Input, OnChanges, OnInit,\n    ViewChild\n} from '@angular/core';\nimport {CmsImage} from \"../models/cms-image\";\nimport {Bounds, CropperSettings, ImageCropperComponent} from \"ngx-img-cropper\";\nimport {SimpleChanges} from \"../../../../frontend/web/js/node_modules/@angular/core\";\nimport {SelectItemService} from \"../select-item.service\";\nimport {SelectItemEvent} from \"../models/select-item-event\";\n\n@Component({\n    selector: 'app-image-cropper',\n    templateUrl: './image-cropper.component.html',\n    styleUrls: ['./image-cropper.component.css']\n})\nexport class CustomImageCropperComponent implements OnInit {\n\n    @Input() image: CmsImage;\n\n    @Input() aspectRatio: number;\n\n    @ViewChild('cropper') cropper: ImageCropperComponent;\n\n    constructor(\n        private selectItemService: SelectItemService,\n    ) {\n        this.cropperSettings = new CropperSettings();\n\n        this.cropperSettings.preserveSize = true;\n        this.cropperSettings.noFileInput = true;\n        this.cropperSettings.cropOnResize = false;\n        this.cropperSettings.minWidth = 500;\n        this.cropperSettings.minHeight = 500;\n        this.cropperSettings.keepAspect = true;\n\n    }\n\n    private imageWidth: number = null;\n    private imageHeight: number = null;\n\n    public cropperSettings: CropperSettings;\n\n    private editingImageObject = new Image();\n\n    private toDataURL = url => fetch(url)\n        .then(response => response.blob())\n        .then(blob => new Promise((resolve, reject) => {\n            const reader = new FileReader()\n            reader.onloadend = () => resolve(reader.result)\n            reader.onerror = reject\n            reader.readAsDataURL(blob);\n        }));\n\n    private loadPreviewData(image: CmsImage) {\n        this.toDataURL('/' + image.filename).then(data => {\n            this.editingImageObject.src = data.toString();\n            let that = this;\n            this.editingImageObject.addEventListener(\"load\", function(){\n                console.log( this.naturalWidth +' x '+ this.naturalHeight );\n\n                that.imageWidth = this.naturalWidth;\n                that.imageHeight = this.naturalHeight;\n\n                that.updateCropperSettings();\n            });\n        });\n    }\n\n    private updateCropperSettings()\n    {\n        const imageAspectRatio = this.imageWidth / this.imageHeight;\n\n        this.cropper.cropper.resizeCanvas(650, 650 / imageAspectRatio);\n        this.cropperSettings.minWidth = this.imageWidth / 5;\n        this.cropperSettings.minHeight = this.imageHeight / 5;\n        this.cropper.cropper.setImage(this.editingImageObject);\n    }\n\n\n    ngOnInit() {\n        this.cropperSettings.width = 100;\n        this.cropperSettings.height = 100 / this.aspectRatio;\n        this.loadPreviewData(this.image);\n    }\n\n}\n","module.exports = \".bordered-section {\\n  border: 1px solid #444;\\n  margin: 5px;\\n}\\n.shadowed {\\n  box-shadow: 0 0 25px rgba(0, 0, 0, 0.2);\\n}\\n.put-right {\\n  position: absolute;\\n  right: 11px;\\n  left: 350px;\\n  top: 17px;\\n  max-height: 100%;\\n  overflow-y: auto;\\n}\\n:host {\\n  height: 100%;\\n  overflow: hidden;\\n}\\n:host .module-editor {\\n  background: none;\\n  padding: 8px;\\n}\\n:host .module-editor:not(.show-descriptions) .short-description {\\n  display: none;\\n}\\n:host .module-editor.show-descriptions .image-card {\\n  padding-top: 14.5%;\\n}\\n.tick {\\n  position: absolute;\\n  top: 10px;\\n  right: 10px;\\n  width: 15px;\\n  height: 15px;\\n  border: 1px solid #000;\\n  background-color: #fff;\\n}\\n.tick.ticked:after {\\n  content: '';\\n  position: absolute;\\n  width: 10px;\\n  height: 10px;\\n  top: 2px;\\n  left: 2px;\\n  border-radius: 5px;\\n  background-color: #000;\\n}\\n.wrapper {\\n  height: 100%;\\n}\\n.wrapper.one .image-card {\\n  width: 99%;\\n  padding-top: 99%;\\n}\\n.wrapper.two .image-card {\\n  width: 49%;\\n  padding-top: 49%;\\n}\\n.wrapper.four .image-card {\\n  width: 24%;\\n  padding-top: 24%;\\n}\\n.image-card {\\n  display: inline-block;\\n  width: 11.5%;\\n  padding-top: 11.5%;\\n  position: relative;\\n  margin: 0.5%;\\n}\\n.image-card:hover .short-description {\\n  height: initial;\\n  white-space: initial;\\n  line-height: 22px;\\n  padding: 13px;\\n  padding-left: 12px;\\n}\\n.image-card:before {\\n  position: absolute;\\n  top: 5px;\\n  right: 5px;\\n  bottom: 0;\\n  left: 5px;\\n  content: \\\"\\\";\\n  border-radius: 6px;\\n  box-shadow: 0 3px 15px 0 rgba(0, 0, 0, 0.4);\\n}\\n.image-card .plus {\\n  width: 31px;\\n  height: 31px;\\n  position: relative;\\n  background: url(/admin/assets/icons/plus.svg) no-repeat;\\n  font-size: 0;\\n  margin-top: 11px;\\n  display: block;\\n}\\n.image-card.ticked .image-card-wrapper:after {\\n  position: absolute;\\n  content: '';\\n  width: 100%;\\n  height: 100%;\\n  border: 4px solid #4a90e2;\\n  display: block;\\n}\\n.image-card .image-card-wrapper {\\n  width: 100%;\\n  height: 100%;\\n  overflow: hidden;\\n  position: absolute;\\n  top: 0;\\n  bottom: 0;\\n  background-color: #fff;\\n  border-radius: 6px;\\n  box-sizing: border-box;\\n}\\n.image-card:before {\\n  position: absolute;\\n  top: 5px;\\n  right: 5px;\\n  bottom: 0;\\n  left: 5px;\\n  content: \\\"\\\";\\n  border-radius: 6px;\\n  box-shadow: 0 3px 15px 0 rgba(0, 0, 0, 0.4);\\n}\\n.image-card img {\\n  position: absolute;\\n  top: 50%;\\n  left: 50%;\\n  -webkit-transform: translateY(-50%) translateX(-50%);\\n          transform: translateY(-50%) translateX(-50%);\\n}\\n.image-card img.landscape {\\n  height: 100%!important;\\n}\\n.image-card img.portrait {\\n  width: 100%!important;\\n}\\n.image-card .new-image,\\n.image-card .load-more {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n  background-color: #fff;\\n  border-radius: 6px;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  align-items: center;\\n  text-align: center;\\n}\\n.image-card .short-description {\\n  position: absolute;\\n  bottom: 0;\\n  white-space: nowrap;\\n  text-overflow: ellipsis;\\n  width: 100%;\\n  overflow: hidden;\\n  padding: 12px;\\n  background-color: #fff;\\n  box-shadow: 0 -4px 7px rgba(0, 0, 0, 0.3);\\n}\\n[ngxFileDropzone] {\\n  text-align: center;\\n}\\n.image-for-crop {\\n  width: 100%;\\n}\\n.tags-list .tag {\\n  border-radius: 18px;\\n  background-color: #f8efc0;\\n  color: #000;\\n  padding: 5px;\\n  margin: 0 4px;\\n  padding-left: 10px;\\n  padding-right: 20px;\\n  display: inline-block;\\n  position: relative;\\n  margin-bottom: 8px;\\n}\\n.tags-list .tag .close {\\n  top: 11px;\\n  right: 6px;\\n  font-size: 0.7em;\\n  position: absolute;\\n}\\n.tags-list .tag.plus {\\n  padding: 5px 12.34px!important;\\n  cursor: pointer;\\n}\\n.tags-list .tag.input {\\n  border: none;\\n  padding-left: 10px;\\n}\\n.tags-list .tag.input:focus {\\n  outline: none;\\n}\\n.image-editor-element .update-image {\\n  position: relative;\\n  text-align: center;\\n  margin: 17px 0;\\n}\\n.image-editor-element .update-image .wrapper {\\n  padding: 10px;\\n}\\n.image-editor-element .update-image .plus {\\n  width: 31px;\\n  height: 31px;\\n  position: relative;\\n  background: url(/admin/assets/icons/plus.svg) no-repeat;\\n  font-size: 0;\\n  margin-top: 11px;\\n  display: inline-block;\\n}\\n.image-editor-element .update-image:before {\\n  position: absolute;\\n  top: 2px;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n  content: \\\"\\\";\\n  border-radius: 6px;\\n  box-shadow: 0 3px 11px 0 rgba(0, 0, 0, 0.2);\\n}\\n.image-editor-element textarea {\\n  width: 100%;\\n  margin-bottom: 9px;\\n}\\n.image-editor-element .tags-list {\\n  margin-bottom: 16px;\\n}\\n.image-editor-element .tags-list .tag:first-child {\\n  margin-left: 0;\\n}\\n.image-editor-element .redactor {\\n  margin-top: 0;\\n}\\n.image-editor-element .redactor.vertical .left-part {\\n  vertical-align: top;\\n  max-width: 200px;\\n  display: inline-block;\\n  margin-right: 16px;\\n  float: left;\\n}\\n.image-editor-element .redactor.vertical .right-part {\\n  vertical-align: top;\\n  overflow: hidden;\\n  padding: 0 9px;\\n}\\n.image-editor-element .redactor.vertical .right-part .update-image {\\n  margin-top: 0!important;\\n}\\n.image-editor-element .redactor:not(.vertical) .right-part {\\n  margin-top: 17px;\\n}\\nsection {\\n  margin-top: 16px;\\n}\\n.preview-selector a {\\n  border-radius: 20px;\\n  margin: 10px 5px 10px 5px;\\n  background: none;\\n  padding: 3px 10px;\\n  cursor: pointer;\\n  display: inline-block;\\n}\\n.preview-selector a:first-child {\\n  margin-left: 0;\\n}\\n.preview-selector a.selected {\\n  background-color: #f8efc0;\\n}\\n\"","module.exports = \"<div #wrapper (window:resize)=\\\"onResize($event)\\\" [class]=\\\"getWrapperClass()\\\">\\n  <div class=\\\"images\\\">\\n    <!--infiniteScroll-->\\n    <!--[infiniteScrollDistance]=\\\"2\\\"-->\\n    <!--[infiniteScrollThrottle]=\\\"50\\\"-->\\n    <!--[infiniteScrollContainer]=\\\"'body'\\\"-->\\n    <!--(scrolled)=\\\"loadMore()\\\"-->\\n    <div class=\\\"content module-editor module-editor-full\\\" [class.show-descriptions]=\\\"showDescriptions\\\" *ngIf=\\\"images !== null\\\">\\n      <div class=\\\"image-card\\\">\\n          <div class=\\\"new-image image-wrapper\\\" accept=\\\"image/*\\\" ngxFileDropzone (fileDrop)=\\\"dropped($event)\\\" ngxFilePicker (filePick)=\\\"dropped($event)\\\">\\n            Добавьте фото<br>\\n            <i class=\\\"plus\\\"></i><br>\\n          </div>\\n      </div>\\n      <div *ngFor=\\\"let image of images; let i = index;\\\"\\n           class=\\\"image-card\\\"\\n           (click)=\\\"this.selectionMode ? markImage(i) : openEditor(image, image.getOrientation)\\\"\\n           [class.ticked]=\\\"multiple ? preSelectedImageIds[image.id] : preSelectedImageId === image.id\\\"\\n           [hidden]=\\\"i >= limit\\\"\\n      >\\n        <div class='image-card-wrapper' *ngIf=\\\"i < limit;\\\">\\n          <img #imagesList src=\\\"/{{image.filename}}\\\" (load)=\\\"initImageOrientation(i)\\\">\\n          <div class=\\\"short-description\\\">\\n            {{image.description | wordCountLimit: 15 }}\\n          </div>\\n        </div>\\n      </div>\\n      <div class=\\\"image-card\\\" (click)=\\\"loadMore()\\\" *ngIf=\\\"limit < images.length\\\">\\n        <div class=\\\"load-more image-wrapper\\\">\\n          Показать<br>ещё\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n<div #bottom></div>\\n<ng-template #confirmDelete class=\\\"alert-box\\\">\\n  <div class=\\\"modal-header\\\">\\n    <h4 class=\\\"modal-title\\\">Подтвердите действиe</h4>\\n    <button type=\\\"button\\\" class=\\\"close\\\" aria-label=\\\"Close\\\" (click)=\\\"modalRef.hide()\\\">\\n      <span aria-hidden=\\\"true\\\">&times;</span>\\n    </button>\\n  </div>\\n  <div class=\\\"modal-body\\\">\\n    Удалить фото?\\n  </div>\\n  <div class=\\\"modal-footer\\\">\\n    <button type=\\\"button\\\" class=\\\"ripple module-control-button-element delete\\\" (click)=\\\"onConfirmDelete()\\\">Да</button>\\n    <button type=\\\"button\\\" class=\\\"ripple module-control-button-element cancel\\\" (click)=\\\"onCancelDelete()\\\">Нет</button>\\n  </div>\\n</ng-template>\\n\\n<ng-template #imageEditor>\\n  <div class=\\\"modal-header\\\">\\n    <h4 class=\\\"modal-title pull-left\\\">Настройки фото</h4>\\n    <button type=\\\"button\\\" class=\\\"close pull-right\\\" aria-label=\\\"Close\\\" (click)=\\\"modalRef.hide()\\\">\\n      <span aria-hidden=\\\"true\\\">&times;</span>\\n    </button>\\n  </div>\\n  <div class=\\\"modal-body image-editor-element\\\" [class.vertical]=\\\"editingImage.getOrientation\\\" *ngIf=\\\"editingImage !== null\\\">\\n    <!--<tabset>-->\\n      <!--<tab heading=\\\"Общие настройки\\\" id=\\\"redactor-tab\\\">-->\\n        <section class=\\\"redactor\\\" [class.vertical]=\\\"editingImage.getOrientation\\\">\\n\\n          <div class=\\\"left-part\\\">\\n            <div [ngSwitch]=\\\"imageDataForUpdateEditing === null\\\">\\n              <img src=\\\"/{{editingImage.filename}}\\\" class=\\\"image-for-crop\\\" *ngSwitchCase=\\\"true\\\">\\n              <img src=\\\"{{imageDataForUpdateEditing.content}}\\\" class=\\\"image-for-crop\\\" *ngSwitchCase=\\\"false\\\">\\n            </div>\\n          </div>\\n\\n          <div class=\\\"right-part\\\">\\n            <div class=\\\"update-image\\\" accept=\\\"image/*\\\" ngxFileDropzone (fileDrop)=\\\"droppedForUpdate($event)\\\" ngxFilePicker (filePick)=\\\"droppedForUpdate($event)\\\">\\n                <div class=\\\"wrapper\\\">\\n                  Заменить фото<br>\\n                  <i class=\\\"plus\\\"></i>\\n                </div>\\n            </div>\\n\\n            <textarea [(ngModel)]=\\\"editingImage.description\\\"></textarea>\\n\\n            <div class=\\\"tags-list\\\">\\n              <div class=\\\"tag\\\" *ngFor=\\\"let tag of editingImage.getTags()\\\">\\n                {{ tag }}\\n                <i class=\\\"fa fa-close close\\\" (click)=\\\"removeTag(tag)\\\"></i>\\n              </div>\\n              <div *ngIf=\\\"tagAddingMode === false\\\" class=\\\"tag plus\\\" (click)=\\\"setTagEditingMode(true)\\\">+</div>\\n              <input *ngIf=\\\"tagAddingMode === true\\\"\\n                     #newTag class=\\\"tag input\\\"\\n                     [focus]=\\\"focusEventEmitter\\\"\\n                     (keyup.enter)=\\\"addTag(newTag.value)\\\"\\n                     (keyup.space)=\\\"addTag(newTag.value, true);newTag.value = '';\\\"\\n                     (blur)=\\\"setTagEditingMode(false)\\\">\\n            </div>\\n\\n            <div class=\\\"type\\\" *ngIf=\\\"imageTypes !== null\\\">\\n              Тип фото: <select [(ngModel)]=\\\"editingImage.image_type_id\\\" class=\\\"form-control form-control-inline\\\">\\n                <option value=\\\"null\\\">Не выбран</option>\\n                <option *ngFor=\\\"let type of imageTypes\\\" value=\\\"{{type.id}}\\\">\\n                  {{ type.name }}\\n                </option>\\n              </select>\\n            </div>\\n\\n            <section>\\n              <button class=\\\"ripple module-control-button-element cancel\\\" (click)=\\\"modalRef.hide()\\\">отмена</button>\\n              <button class=\\\"ripple module-control-button-element default\\\" (click)=\\\"saveEditingImage()\\\">сохранить</button>\\n              <button class=\\\"ripple module-control-button-element delete\\\" (click)=\\\"deleteEditingImageWithConfirm()\\\">удалить</button>\\n            </section>\\n          </div>\\n\\n          <div class=\\\"cropper-zone\\\">\\n\\n          </div>\\n        </section>\\n      <!--</tab>-->\\n      <!--<tab heading=\\\"Превью\\\" id=\\\"preview-tab\\\">-->\\n        <!--<section class=\\\"preview-editor-element\\\">-->\\n\\n          <!--<nav class=\\\"preview-selector\\\" *ngIf=\\\"editingImage.image_type_id !== null\\\">-->\\n            <!--<a (click)=\\\"selectPreview(preview)\\\" *ngFor=\\\"let preview of getEditingImagePreviews().previewSettings\\\" [class.selected]=\\\"currentPreview != null && preview.id === currentPreview.id\\\">-->\\n             <!--Превью {{preview.width}} x {{preview.height}}-->\\n            <!--</a>-->\\n          <!--</nav>-->\\n          <!--<div innerHTML={{currentPreview.description}}></div>-->\\n\\n          <!--<div *ngIf=\\\"currentPreview !== null\\\">-->\\n            <!--<app-image-cropper [hidden]=\\\"preview.id !== currentPreview.id\\\" *ngFor=\\\"let preview of getEditingImagePreviews().previewSettings\\\" [aspectRatio]=\\\"preview.width / preview.height\\\" [image]=\\\"editingImage\\\"></app-image-cropper>-->\\n          <!--</div>-->\\n\\n        <!--</section>-->\\n      <!--</tab>-->\\n    <!--</tabset>-->\\n  </div>\\n</ng-template>\"","import {\n    Component, ElementRef, EventEmitter, Input, OnInit, Output, TemplateRef, ViewChild,\n    ViewChildren\n} from '@angular/core';\nimport {ModelService} from \"../model.service\";\nimport {CmsImage} from \"../models/cms-image\";\nimport {ReadFileImpl} from \"ngx-file-helpers/src/read-file-impl\";\nimport {ReadFile} from \"ngx-file-helpers\";\nimport {BsModalRef, BsModalService} from \"ngx-bootstrap\";\nimport {ImageType} from \"../models/image-type\";\nimport {Preview} from \"../models/preview\";\nimport {CropperSettings, ImageCropperComponent} from \"ng2-img-cropper\";\nimport {SelectItemService} from \"../select-item.service\";\nimport {SelectItemEvent} from \"../models/select-item-event\";\nimport { ScrollToService } from 'ng2-scroll-to-el';\nimport {ImageFilter} from \"../models/image-filter\";\n\ndeclare var $: any;\n\n@Component({\n    selector: 'app-images',\n    templateUrl: './images.component.html',\n    styleUrls: ['./images.component.css']\n})\nexport class ImagesComponent implements OnInit {\n\n    @Input() selectionMode: boolean = false;\n\n    @Input() multiple: boolean = false;\n    @Input() fixedImageTypeId: number = null;\n\n\n    @Output() selectedImageId = new EventEmitter<CmsImage>();\n    @Output() selectedImageIds = new EventEmitter<Array<CmsImage>>();\n\n    private images: CmsImage[] = null;\n\n    imageDataForUpdateEditing: any = null;\n\n    editingImage: CmsImage | null;\n\n    currentPreview: Preview | null = null;\n\n    tagAddingMode: boolean = false;\n\n    modalRef: BsModalRef;\n\n    modalRefConfirm: BsModalRef;\n\n    public focusEventEmitter = new EventEmitter<boolean>();\n\n    private imageTypes: Array<ImageType> = null;\n\n    private showDescriptions: boolean = false;\n\n    preSelectedImageId = null;\n    preSelectedImageIds = [];\n\n    @ViewChildren('imagesList') imageList;\n    @ViewChild('imageEditor') imageEditor: TemplateRef<any>;\n    @ViewChild('confirmDelete') confirmDelete: ElementRef;\n    @ViewChild('newTag') newTag: ElementRef;\n    @ViewChild('bottom') bottom: ElementRef;\n    @ViewChild('wrapper') wrapper: ElementRef;\n\n    private actualSize: number = null;\n\n    onResize($event)\n    {\n        this.actualSize = this.wrapper.nativeElement.offsetWidth;\n        console.log(this.actualSize);\n    }\n\n    public loadMore()\n    {\n        if (this.images && this.limit < this.images.length) {\n            this.limit += 14;\n        }\n\n        this.scrollService.scrollTo(this.bottom.nativeElement);\n    }\n\n    public markImage(i: number)\n    {\n        let imageId = this.images[i].id;\n\n        if (this.multiple) {\n            if (this.preSelectedImageIds[imageId] === undefined) {\n                this.preSelectedImageIds[imageId] = true;\n            } else {\n                this.preSelectedImageIds[imageId] = !this.preSelectedImageIds[imageId];\n            }\n        } else {\n            this.preSelectedImageId = imageId;\n        }\n    }\n\n    public detectOrientation(i: number)\n    {\n        let image = this.imageList.toArray()[i].nativeElement;\n\n        if (image.naturalWidth > image.naturalHeight) {\n            image.classList.add('landscape');\n        } else if (image.naturalWidth < image.naturalHeight) {\n            image.classList.add('portrait');\n        }\n    }\n\n    private loadImages(filter: ImageFilter = null) {\n        if (this.fixedImageTypeId !== null && filter !== null) {\n            filter.selectedType = new ImageType();\n            filter.selectedType.id = 1;//this.fixedImageTypeId;\n        }\n\n        this.modelService.getImages(filter).subscribe(images => {\n            images.forEach((rawImage, index) => {images[index] = CmsImage.fromRaw(rawImage);});\n            this.images = images.reverse();\n        });\n    }\n\n    public getWrapperClass(): string\n    {\n        let result = 'wrapper';\n\n        if (this.actualSize < 400)\n        {\n            result += ' one';\n        }\n\n        if (this.actualSize >= 400 && this.actualSize < 900)\n        {\n            result +=  ' two';\n        }\n\n        if (this.actualSize >= 900 && this.actualSize < 1200)\n        {\n            result +=  ' four';\n        }\n\n        if (this.actualSize >= 1200)\n        {\n            result +=  ' eight';\n        }\n\n        return result;\n    }\n\n    private filter;\n\n    constructor(private modelService: ModelService,\n                private modalService: BsModalService,\n                private selectItemService: SelectItemService,\n                private scrollService: ScrollToService) {\n        this.imageDataForUpdateEditing = null;\n        this.filter = new ImageFilter();\n\n        this.selectItemService.event$.subscribe((event: SelectItemEvent) => {\n           if (event.itemType === SelectItemEvent.Type.ApplyFilter) {\n               this.filter = event.payload.filter;\n               this.showDescriptions = this.filter.showDescriptions;\n               this.loadImages(this.filter);\n           }\n        });\n\n        this.selectItemService.event$.subscribe((event: SelectItemEvent) => {\n            if (event.itemType === SelectItemEvent.Type.ImageChooserApply) {\n                if (this.multiple) {\n                    const result = [];\n                    for (let imageId in this.preSelectedImageIds) {\n                        if (!this.preSelectedImageIds[imageId]) continue;\n                        result.push(this.images.find(i => i.id === Number(imageId)));\n                    }\n                    this.selectedImageIds.emit(result);\n                } else {\n                    this.selectedImageId.emit(this.images.find(i => i.id === Number(this.preSelectedImageId)));\n                }\n            }\n        });\n    }\n\n\n    private loadImageTypes()\n    {\n        this.modelService.getImageTypes().subscribe(types => {\n            this.imageTypes = types;\n        });\n    }\n\n    openEditor(image: CmsImage, orientation: boolean) {\n        this.editingImage = image;\n\n        if (this.imageTypes !== null) {\n            const previews = this.getEditingImagePreviews();\n            if (previews && previews.previewSettings[0]) {\n                this.selectPreview(previews.previewSettings[0]);\n            }\n        }\n\n        this.modalRef = this.modalService.show(this.imageEditor, {'class' : (orientation ? 'vertical' : '')});\n    }\n\n    public calcAspectRatio(preview: Preview)\n    {\n        return preview.width / preview.height;\n    }\n\n    public getEditingImagePreviews()\n    {\n        return this.imageTypes.find(t => t.id == this.editingImage.image_type_id);\n    }\n\n    public getAspectRatio()\n    {\n        return this.currentPreview.width / this.currentPreview.height;\n    }\n\n    private selectPreview(preview: Preview)\n    {\n        this.currentPreview = preview;\n    }\n\n    private saveEditingImage()\n    {\n        this.modelService.saveImage(this.editingImage, this.imageDataForUpdateEditing, (newImage: CmsImage) => {\n            let index = this.images.findIndex(i => i.id === newImage.id);\n            this.images[index] = CmsImage.fromRaw(newImage);\n        });\n    }\n\n    public onConfirmDelete(): void {\n        this.deleteEditingImage();\n        this.modalRefConfirm.hide();\n    }\n\n    public onCancelDelete(): void {\n        this.modalRefConfirm.hide();\n    }\n\n\n    deleteEditingImageWithConfirm()\n    {\n        this.modalRefConfirm = this.modalService.show(this.confirmDelete);\n    }\n\n    private deleteEditingImage()\n    {\n        this.modelService.deleteImage(this.editingImage).subscribe(() => {\n            this.modalRef.hide();\n            this.images = this.images.filter(i => i.id !== this.editingImage.id);\n            this.editingImage = null;\n        });\n    }\n\n    private setTagEditingMode(mode: boolean) {\n        this.tagAddingMode = mode;\n        setTimeout(() => {\n            this.focusEventEmitter.emit(mode);\n        }, 10);\n    }\n\n    private removeTag(tag: string) {\n        this.editingImage.removeTag(tag);\n    }\n\n    private addTag(tag: string, keepInput: boolean = false) {\n        this.editingImage.addTag(tag);\n        this.selectItemService.emitEventOfType(SelectItemEvent.Type.NewTag, {tag : tag});\n        if (!keepInput) {\n            this.setTagEditingMode(false);\n        }\n    }\n\n    ngOnInit() {\n        this.loadImages();\n        this.loadImageTypes();\n        this.actualSize = this.wrapper.nativeElement.offsetWidth;\n    }\n\n    private limit = 50;\n\n    public initImageOrientation(i: number) {\n        let imageObject = this.images[i];\n        let image = this.imageList.toArray()[i].nativeElement;\n\n        let orientation = false;\n\n        if (image.naturalWidth > image.naturalHeight) {\n            image.classList.add('landscape');\n        } else if (image.naturalWidth < image.naturalHeight) {\n            image.classList.add('portrait');\n            orientation = true;\n        }\n\n        imageObject.setupOrientationInfo(orientation);\n    }\n\n    public dropped($event: ReadFile) {\n        let content = $event.content;\n        this.modelService.createImage($event, this.filter, (response) => {\n            if (response.status === 'success') {\n                let image = CmsImage.fromRaw(response.image);\n                this.images.unshift(image);\n            }\n        });\n    }\n\n    public droppedForUpdate($event: ReadFile) {\n        console.log($event);\n        this.imageDataForUpdateEditing = {\n            content: $event.content,\n            name: $event.name\n        };\n    }\n}\n","import { Injectable } from '@angular/core';\nimport { MenuItem } from './models/menu-item';\nimport { SubMenuPages } from \"./models/sub-menu-pages\";\nimport {SubMenuSettingsComponent} from \"./sub-menu/settings/settings.component\";\nimport {SubMenuSettings} from \"./models/sub-menu-settings\";\nimport {SubMenuImages} from \"./models/sub-menu-images\";\n\n@Injectable()\nexport class MenuService {\n\n  private menuItems: MenuItem[];\n  private defaultRoute = {\n    path: '',\n    redirectTo: 'pages',\n    pathMatch: 'full'\n  };\n\n  constructor() {\n    this.menuItems = [];\n    this.menuItems.push( new MenuItem('images', 'Изображения', new SubMenuImages()));\n    this.menuItems.push( new MenuItem('pages', 'Страницы', new SubMenuPages()));\n    this.menuItems.push( new MenuItem('trainers', 'Тренеры', null));\n    this.menuItems.push( new MenuItem('rooms', 'Номера', null));\n    this.menuItems.push( new MenuItem('settings', 'Настройки', new SubMenuSettings()));\n  }\n\n  getItems(): MenuItem[] {\n    return this.menuItems;\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {HttpClient, HttpHeaders, HttpParams} from '@angular/common/http';\nimport {Observable, Subject, pipe} from 'rxjs';\nimport { Observable as ObservableInt} from 'rxjs/Observable';\nimport 'rxjs/add/observable/forkJoin';\nimport {Trainer} from \"./models/trainer\";\nimport {CmsImage} from \"./models/cms-image\";\nimport {ReadFileImpl} from \"ngx-file-helpers/src/read-file-impl\";\nimport {ReadFile} from \"ngx-file-helpers\";\nimport {Room} from \"./models/room\";\nimport {LanguageService} from \"./services/language.service\";\nimport {ImageType} from \"./models/image-type\";\nimport {ImageFilters} from \"./models/image-filters\";\nimport {ImageFilter} from \"./models/image-filter\";\nimport {HttpParamsOptions} from \"@angular/common/http/src/params\";\nimport {SelectItemEvent} from \"./models/select-item-event\";\nimport {SelectItemService} from \"./select-item.service\";\n\nconst httpOptions = {\n    headers: new HttpHeaders({\n        'Content-Type': 'application/json',\n        'Authorization': 'my-auth-token'\n    })\n};\n\n@Injectable()\nexport class ModelService {\n\n    private baseUrl = '/api/';\n\n    constructor(\n        private http: HttpClient,\n        private languageService: LanguageService,\n        private selectItemService: SelectItemService\n    ) {\n        Trainer.setupLanguageService(this.languageService);\n        Room.setupLanguageService(this.languageService);\n    }\n\n    public reorderApply(modelName: string, modelList: any[])\n    {\n        let order = {};\n        let n = 1;\n\n        for (let item of modelList) {\n            let id = item['id'];\n            order[id] = n;\n            n ++;\n        }\n\n        return this.http.post(this.baseUrl + 'reorder?model=' + modelName, {order: order}, httpOptions)\n            .subscribe();\n    }\n\n\n    //rooms\n\n    public getRooms(): Observable<Room[]> {\n        return this.getModelListing<Room>(Room.getApiMethodName());\n    }\n\n    public saveRoom(room: Room) {\n        return this.http.put(this.baseUrl + Room.getApiMethodName(room.id), room.forSave())\n            .subscribe();\n    }\n\n    public deleteRoom(room: Room) {\n        return this.http.delete(this.baseUrl + Room.getApiMethodName(room.id));\n    }\n\n    public createRoom(room: Room): Observable<Object> {\n        return this.http.post<Room>(this.baseUrl + Room.getApiMethodName(), room, httpOptions);\n    }\n\n    //trainers\n\n    public getTrainers(): Observable<Trainer[]> {\n        return this.getModelListing<Trainer>(Trainer.getApiMethodName());\n    }\n\n    public saveTrainer(trainer: Trainer) {\n        return this.http.put(this.baseUrl + Trainer.getApiMethodName(trainer.id), trainer.forSave())\n            .subscribe();\n    }\n\n    public deleteTrainer(trainer: Trainer) {\n        return this.http.delete(this.baseUrl + Trainer.getApiMethodName(trainer.id));\n    }\n\n    public createTrainer(trainer: Trainer): Observable<Object> {\n        return this.http.post<Trainer>(this.baseUrl + Trainer.getApiMethodName(), trainer, httpOptions);\n    }\n\n    // image filters\n\n    public getImageFilters(): Observable<ImageFilters> {\n        return this.http.get<ImageFilters>(this.baseUrl + ImageFilters.getApiMethodName());\n    }\n\n\n    //images\n\n    public getRoomImages(room: Room): Observable<CmsImage[]> {\n        let images = [];\n        let tasks$ = [];\n\n\n        room.image_ids.split(',').forEach((id) => {\n            tasks$.push(this.getImage(parseInt(id)));\n        });\n\n        return ObservableInt.forkJoin(tasks$);\n    }\n\n\n    public getImages(filter: ImageFilter = null): Observable<CmsImage[]> {\n\n        let options = {};\n\n        if (filter !== null) {\n            let params = {\n                selectedType : filter.selectedType,\n                tags : filter.selectedTags.join(',')\n            };\n            const httpParams: HttpParamsOptions = { fromObject: params as HttpParamsOptions } as HttpParamsOptions;\n            options = { params: new HttpParams(httpParams) };\n        }\n\n        return this.http.get<CmsImage[]>(this.baseUrl + CmsImage.getApiMethodName(), options);\n    }\n\n    public getImage(id: number): Observable<CmsImage> {\n        return this.http.get<CmsImage>(this.baseUrl + CmsImage.getApiMethodName(id));\n    }\n\n\n    public saveImage(image: any, data: ReadFile|null, callback?: Function) {\n        image.beforeSave();\n\n        if (data !== null) {\n            image.data = data;\n        }\n\n        return this.http.put(this.baseUrl + CmsImage.getApiMethodName() + '/' + image.id, image)\n            .subscribe((data: CmsImage) => {\n                this.selectItemService.emitEventOfType(SelectItemEvent.Type.RefreshTags);\n                if (callback instanceof Function) {\n                    callback(data);\n                }\n        });\n    }\n\n    public deleteImage(image: CmsImage) {\n        return this.http.delete(this.baseUrl + CmsImage.getApiMethodName() + '/' + image.id);\n    }\n\n    public createImage(image: ReadFile, filter: ImageFilter|null, callback: Function) {\n        return this.http.post(this.baseUrl + CmsImage.getApiMethodName(), {\n            content: image.content,\n            filename: image.name,\n            filter: filter\n        }, httpOptions)\n            .subscribe(response => {\n                if (callback instanceof Function) {\n                    callback(response);\n                }\n            });\n    }\n\n    public updateImage(imageData: ReadFile, image: CmsImage, callback: Function) {\n        return this.http.put(this.baseUrl + CmsImage.getApiMethodName() + '/' + image.id, {\n            content: imageData.content,\n            filename: imageData.name\n        }, httpOptions)\n            .subscribe(response => {\n                if (callback instanceof Function) {\n                    callback(response);\n                }\n            });\n    }\n\n    // image types\n    public getImageTypes()  {\n        return this.getModelListing<ImageType>(ImageType.getApiMethodName());\n    }\n\n    //common\n\n    private getModelListing<T>(apiMethod: string): Observable<T[]> {\n        return this.http.get<T[]>(this.baseUrl + apiMethod);\n    }\n\n    private static getFormUrlEncoded(toConvert) {\n        return JSON.parse(JSON.stringify(toConvert));\n    }\n}","import {LanguageService} from \"../services/language.service\";\n\nexport class BaseApiModel {\n    protected static apiMethodName;\n\n    protected static passLang = false;\n\n    protected static languageService: LanguageService|null = null;\n\n    public static setupLanguageService(languageService: LanguageService) {\n        this.languageService = languageService;\n    }\n\n    public static getApiMethodName(id?: number): string\n    {\n        let result = this.apiMethodName + (id ? ('/' + id) : '');\n\n        if (this.passLang && this.languageService) {\n            result += '?lang='  + this.languageService.getLanguage();\n        }\n\n        return result;\n    }\n}","import {BaseApiModel} from \"./base-api-model\";\nimport {SelectItemService} from \"../select-item.service\";\nimport {SelectItemEvent} from \"./select-item-event\";\n\nexport class CmsImage extends BaseApiModel {\n    protected static apiMethodName = 'images';\n\n    public id: number;\n    public image_type_id: number;\n    public width: number;\n    public height: number;\n    public description: string;\n    public ts_created: string;\n    public alt: string;\n    public title: string;\n    public tags_json: string;\n    public previews_json: string;\n    public is_deleted: boolean;\n    public filename: string;\n\n    private orientation: boolean = false;\n\n    private tags = null;\n\n    public get getOrientation(): boolean{\n        return this.orientation;\n    }\n\n    public setupOrientationInfo(orientation: boolean)\n    {\n        this.orientation = orientation;\n    }\n\n    private init()\n    {\n        this.tags = JSON.parse(this.tags_json);\n    }\n\n    public beforeSave()\n    {\n        this.tags_json = JSON.stringify(this.tags);\n    }\n\n    public static fromRaw(rawImage: any): CmsImage {\n        return Object.assign(new CmsImage(), rawImage);\n    }\n\n    public addTag(tag: string) {\n        if (this.tags === null) {\n            this.tags = [];\n        }\n\n        if (this.tags.find(t => t === tag) === undefined) {\n            this.tags.push(tag);\n        }\n    }\n\n    public removeTag(tag: string) {\n        this.tags = this.tags.filter(t => t !== tag);\n    }\n\n    public getTags(): Array<string> {\n        if (this.tags === null) {\n            this.init();\n        }\n\n        return this.tags;\n    }\n}","import {BaseApiModel} from \"./base-api-model\";\nimport {ImageType} from \"./image-type\";\n\nexport class ImageFilter {\n    public selectedTags: Array<string>;\n\n    public selectedType: ImageType;\n\n    public showDescriptions: boolean;\n}","import {BaseApiModel} from \"./base-api-model\";\nimport {ImageType} from \"./image-type\";\n\nexport class ImageFilters extends BaseApiModel {\n    protected static apiMethodName = 'filters';\n\n    public tags: Array<string>;\n\n    public types: Array<ImageType>;\n}","import {Preview} from \"./preview\";\nimport {BaseApiModel} from \"./base-api-model\";\n\nexport class ImageType extends BaseApiModel\n{\n    protected static apiMethodName = 'imageTypes';\n\n    public id: number;\n    public name: string;\n    public previewSettings: Preview[];\n}","import { Component, OnInit } from '@angular/core';\nimport { SubMenu } from './sub-menu';\n\nexport class MenuItem {\n\tconstructor(\n\t\tprivate path: string,\n\t\tprivate name: string,\n\t\tprivate subMenu: SubMenu\n\t) {}\n\n\tgetPath() {\n\t\treturn this.path;\n\t}\n\n\tgetName() {\n\t\treturn this.name;\n\t}\n\n\tgetSubmenu(): SubMenu {\n\t\treturn this.subMenu;\n\t}\n}","export class NotificationEvent {\n\tstatus: NotificationEvent.Status;\n\tmessage: string;\n\tpayload: any;\n\n\n\tconstructor(status: NotificationEvent.Status, message: string, payload: any) {\n\t\tthis.status = status;\n\t\tthis.message = message;\n\t\tthis.payload = payload;\n\t}\n}\n\nexport namespace NotificationEvent {\n\texport enum Status {\n\t\tError,\n\t\tSuccess,\n\t\tWarning\n\t}\n}","import {BaseApiModel} from \"./base-api-model\";\nimport {ModelService} from \"../model.service\";\nimport {CmsImage} from \"./cms-image\";\nimport {HttpClient} from \"../../../../frontend/web/js/node_modules/ngx-checkbox/node_modules/@angular/common/http/src/client\";\nimport {LanguageService} from \"../services/language.service\";\nimport {SelectItemService} from \"../select-item.service\";\nimport {Observable} from \"rxjs/Rx\";\n\nexport class Room extends BaseApiModel {\n    protected static apiMethodName = 'room';\n\n    protected static passLang = true;\n\n    public id: number;\n    public type_id: number;\n    public price_from: number;\n    public square: number;\n    public bed_type: number;\n    public persons_type: number;\n    public image_ids: string;\n    public title: string;\n    public text: string;\n    public alias: string;\n    public tl_room_type: number;\n\n    private images = [];\n\n    public constructor(private modelService: ModelService) {\n        super();\n    }\n\n\n\n\n    public forSave(): any {\n        let result = Object.assign({}, this);\n        return result;\n    }\n}","import {MenuItem} from \"./menu-item\";\n\nexport class SelectItemEvent {\n\titemType: SelectItemEvent.Type;\n\tpayload: any;\n\n\n\tconstructor(itemType: SelectItemEvent.Type, payload: any) {\n\t\tthis.itemType = itemType;\n\t\tthis.payload = payload;\n\t}\n}\n\nexport namespace SelectItemEvent {\n\texport enum Type {\n\t\tPage,\n        SettingsGroup,\n\t\tTrainerSelect,\n\t\tTrainerRemove,\n\t\tTrainerClose,\n        RoomSelect,\n        RoomRemove,\n        RoomClose,\n\t\tLanguageChange,\n\t\tImageChooserApply,\n\t\tNewTag,\n        RefreshTags,\n\t\tCloseAllSelectedItems,\n\t\tChangeAspectRatio,\n        ApplyFilter,\n\t}\n}","\nimport {getFromLocalStorage} from \"../storage\";\n\nexport class State {\n    private componentState: {};\n    private componentName: string;\n\n    public setStateProperty(propertyName: string, value: any)\n    {\n        //console.log('setting');\n        this.componentState[propertyName] = value;\n        localStorage.setItem(this.componentName, JSON.stringify(Object.assign({}, this.componentState)));\n    }\n\n    public getState()\n    {\n        return this.componentState;\n    }\n\n    private loadState() {\n        let state = getFromLocalStorage(this.componentName);\n        if (state) {\n            this.componentState = state;\n        } else {\n            this.componentState = {};\n        }\n    }\n\n    constructor()\n    {\n        this.componentName = this.constructor.name;\n        this.loadState();\n    }\n}","import {SubMenu} from \"./sub-menu\";\n\nexport class SubMenuImages extends SubMenu {\n\tgetType() {\n\t\treturn 'images';\n\t};\n}","import {SubMenu} from \"./sub-menu\";\n\nexport class SubMenuPages extends SubMenu {\n\tgetType() {\n\t\treturn 'pages';\n\t};\n}","import {SubMenu} from \"./sub-menu\";\n\nexport class SubMenuSettings extends SubMenu {\n\tgetType() {\n\t\treturn 'settings';\n\t};\n}","export class SubMenu {\n\tgetType(): string {\n\t\treturn 'none';\n\t};\n}","import {BaseApiModel} from \"./base-api-model\";\n\nexport class Trainer extends BaseApiModel {\n    protected static apiMethodName = 'trainer';\n\n    protected static passLang = true;\n\n    public id: number;\n    public name: string;\n    public position: string;\n    public description: string;\n    public vk_link: string;\n    public fb_link: string;\n    public inst_link: string;\n    public alias: string;\n    public two_lines_position: number;\n    public two_lines_position_en: number;\n    public img_id: number;\n    public img_src: string;\n    public n: number;\n    public has_vk: number;\n    public has_fb: number;\n    public has_inst: number;\n\n    public forSave(): any {\n        let result = Object.assign({}, this);\n        delete result.img_src;\n        return result;\n    }\n}","import {Directive, Input, OnChanges, SimpleChange, SimpleChanges} from '@angular/core';\nimport {NgForOf} from \"@angular/common\";\n\ninterface NgForInChanges extends SimpleChanges {\n    ngForIn?: SimpleChange;\n    ngForOf?: SimpleChange;\n}\n\n@Directive({\n    selector: '[ngFor][ngForIn]'\n})\nexport class NgForIn<T> extends NgForOf<T> implements OnChanges {\n\n    @Input() ngForIn: any;\n\n    ngOnChanges(changes: NgForInChanges): void {\n        //console.log(\"hello\");\n        if (changes.ngForIn) {\n            this.ngForOf = Object.keys(this.ngForIn) as Array<any>;\n\n            const change = changes.ngForIn;\n            const currentValue = Object.keys(change.currentValue);\n            const previousValue = change.previousValue ? Object.keys(change.previousValue) : undefined;\n\n            //console.log(currentValue);\n            //console.log(previousValue);\n\n            changes.ngForOf =  new SimpleChange(previousValue, currentValue, change.firstChange);\n\n            super.ngOnChanges(changes);\n        }\n    }\n}","import { Injectable } from '@angular/core';\nimport { Subject } from \"rxjs/Subject\";\nimport {NotificationEvent} from './models/notification-event';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class NotificationService {\n  private _event = new Subject();\n  event$ = this._event.asObservable();\n\n  public error(message: string, payload: any = {}) {\n    this.emit(new NotificationEvent(NotificationEvent.Status.Error, message, payload));\n  }\n\n  public onError(callback: Function) {\n    this.event$.subscribe((event: NotificationEvent) => {\n      if (event.status === NotificationEvent.Status.Error) {\n        callback(event);\n      }\n    });\n  }\n\n  emit(event: NotificationEvent) {\n    this._event.next(event);\n  }\n}","module.exports = \":host {\\n  display: block;\\n  margin-bottom: 15px;\\n}\\n:host .inline {\\n  display: inline-block;\\n  margin-left: 10px;\\n}\\n:host .inline input.color {\\n  position: relative;\\n  top: -3px;\\n}\\n:host .title {\\n  display: inline-block;\\n  vertical-align: top;\\n}\\n:host .content input:not([type=checkbox]) {\\n  width: 100%;\\n  display: block;\\n}\\n:host .content input[type=text] {\\n  width: 300px;\\n}\\n:host .fr-box.fr-inline {\\n  border: 1px solid #d4d4d4;\\n  margin: 5px;\\n  padding: 5px;\\n  color: #000;\\n}\\n\"","module.exports = \"<div class=\\\"field\\\">\\n  <div class=\\\"title\\\">\\n    <b *ngIf=\\\"params.required === 1\\\">\\n      <label for=\\\"{{uniqId}}\\\">{{title}}</label>\\n    </b>\\n    <label *ngIf=\\\"params.required !== 1\\\" for=\\\"{{uniqId}}\\\">{{title}}</label>\\n  </div>\\n  <div [ngSwitch]=\\\"params.type\\\" class=\\\"content\\\" [class.inline]=\\\"params.type === 'checkbox' || params.type === 'color'\\\">\\n    <div *ngSwitchCase=\\\"'string'\\\">\\n      <input id={{uniqId}} type=\\\"text\\\" [(ngModel)]=\\\"valueSet[valueKey]\\\">\\n    </div>\\n    <div *ngSwitchCase=\\\"'select'\\\">\\n      <select id={{uniqId}} [(ngModel)]=\\\"valueSet[valueKey]\\\">\\n        <option *ngFor=\\\"let option in params.options\\\" [value]=\\\"option\\\">{{params.options[option]}}</option>\\n      </select>\\n    </div>\\n    <div *ngSwitchCase=\\\"'checkbox'\\\">\\n      <mat-checkbox id={{uniqId}} [(ngModel)]=\\\"valueSet[valueKey]\\\" [color]=\\\"'primary'\\\"></mat-checkbox>\\n    </div>\\n    <div *ngSwitchCase=\\\"'textarea'\\\">\\n      <textarea id={{uniqId}} ngxTrumbowygEditor name=\\\"editorDirective\\\" [(ngModel)]=\\\"valueSet[valueKey]\\\"></textarea>\\n    </div>\\n    <div *ngSwitchCase=\\\"'color'\\\">\\n      <input class=\\\"color\\\" id={{uniqId}} type=\\\"text\\\" (colorPickerChange)=\\\"setVal($event)\\\" [colorPicker]=\\\"valueSet[valueKey]\\\" [style.background]=\\\"valueSet[valueKey]\\\" [cpOutputFormat]=\\\"hex\\\"/>\\n    </div>\\n    <div *ngSwitchCase=\\\"'image'\\\">\\n      <img *ngIf=\\\"imageSrc && imageSrc.length\\\" width=\\\"200px\\\" src=\\\"/{{imageSrc}}\\\" (click)=\\\"openChooser()\\\">\\n      <button *ngIf=\\\"!(imageSrc && imageSrc.length)\\\" (click)=\\\"openChooser()\\\">Выбор</button>\\n\\n      <app-image-chooser-popup #imageChooser (selectedImageId)=\\\"selectImage($event)\\\"></app-image-chooser-popup>\\n    </div>\\n  </div>\\n</div>\\n\"","import {Component, Input, OnInit, ViewChild} from '@angular/core';\nimport {AppHelper} from \"../components/app-helper\";\nimport {ModelService} from \"../model.service\";\nimport {CmsImage} from \"../models/cms-image\";\nimport {BsModalService} from \"ngx-bootstrap\";\nimport {SelectItemService} from \"../select-item.service\";\nimport {ImageChooserPopupComponent} from \"../image-chooser-popup/image-chooser-popup.component\";\n//import {CustomCheckBoxModel} from \"angular-custom-checkbox\";\n\n@Component({\n    selector: 'app-page-editor-field',\n    templateUrl: './page-editor-field.component.html',\n    styleUrls: ['./page-editor-field.component.css']\n})\nexport class PageEditorFieldComponent implements OnInit {\n    private uniqId;\n\n    private modalRef;\n\n    /*get checkboxSettings() {\n        let result = new CustomCheckBoxModel();\n        result.color = 'p-success';\n        result.colorHex = '#F500FF';\n        result.rounded = true;\n        result.icon = 'mdi mdi-check';\n\n        return result;\n    }*/\n\n    @ViewChild('imageChooser') imageChooser: ImageChooserPopupComponent;\n\n    constructor(\n        private modelService: ModelService,\n        private modalService: BsModalService,\n        private selectItemService: SelectItemService\n    ) {\n        this.uniqId = AppHelper.uuid();\n    }\n\n    openChooser()\n    {\n        this.imageChooser.showPopup();\n    }\n\n\n    @Input() valueSet: any;\n    @Input() valueKey: any;\n    @Input() title: any;\n    @Input() params: any;\n\n\n    private imageSrc = null;\n\n    public selectImage(image: CmsImage)\n    {\n        this.valueSet[this.valueKey] = image.id;\n        this.imageSrc = image.filename;\n    }\n\n    public froalaSettings: Object = {\n        toolbarInline: true,\n    };\n\n    public setVal(value: any) {\n        this.valueSet[this.valueKey] = value;\n    }\n\n    private reloadImageSrc()\n    {\n        this.modelService.getImage(this.valueSet[this.valueKey]).subscribe((image) => {\n            //console.log('image obtained!');\n            this.imageSrc = image.filename;\n        });\n    }\n\n    ngOnInit() {\n        if (this.params.type === 'image') {\n            //console.log('azazaza');\n            this.reloadImageSrc();\n        }\n    }\n\n}\n","module.exports = \".toolbar button {\\n  margin: 0 5px;\\n}\\n.instances {\\n  position: relative;\\n  border-radius: 5px;\\n  padding: 5px;\\n  margin: 5px;\\n  margin-bottom: 15px;\\n  background-color: rgba(0, 0, 0, 0.1);\\n}\\n.instances .toolbar-element {\\n  background-color: transparent!important;\\n}\\n.instances .toolbar-element div {\\n  background-color: transparent!important;\\n}\\n.instances .instance-item {\\n  position: relative;\\n}\\n.instances .instance-item .toolbar {\\n  display: block;\\n  overflow: hidden;\\n}\\n.instances .instance-item .instance-toolbar {\\n  position: absolute;\\n  top: 0;\\n  right: 5px;\\n  z-index: 90;\\n}\\n.instances .instance-item .instance-toolbar .close {\\n  top: 13px;\\n  position: absolute;\\n  right: 8px;\\n  font-size: 17px;\\n}\\n.composite-field-items {\\n  padding-right: 30px;\\n}\\n.composite-field-items .item {\\n  width: 100%;\\n  height: 20px;\\n  padding: 10px;\\n  border-radius: 10px;\\n  background-color: rgba(247, 231, 213, 0.64);\\n  margin-bottom: 5px;\\n}\\n.empty-wrapper {\\n  display: inline-block;\\n}\\n\"","module.exports = \"<div [ngSwitch]=\\\"params[key].type\\\">\\n  <div *ngSwitchCase=\\\"'composite'\\\">\\n    <h3>{{params[key].title}}</h3>\\n    <div class=\\\"instances\\\">\\n      <div *ngFor=\\\"let section of values[key]; let i = index;\\\" class=\\\"instance-item\\\">\\n        <div class=\\\"instance-toolbar\\\">\\n          <span class=\\\"close\\\" (click)=\\\"deleteInstanceWithConfirm(key, i)\\\"><i class=\\\"fa fa-close\\\"></i></span>\\n        </div>\\n        <page-editor\\n                [level]=\\\"level + 1\\\"\\n                [generalName]=\\\"getSectionGeneralName(section)\\\"\\n                [itemTitle]=\\\"getSectionTitle(section)\\\"\\n                [uniqKey]=\\\"uniqKey + '_' + key\\\"\\n                [params]=\\\"params[key]['availableInstances'][section.type]\\\"\\n                [values]=\\\"section\\\">\\n        </page-editor>\\n      </div>\\n      <div class=\\\"toolbar toolbar-element\\\">\\n        <div class=\\\"empty-wrapper\\\" [ngSwitch]=\\\"(params[key]['availableInstances'] | values).length === 1\\\">\\n          <div *ngSwitchCase=\\\"true\\\" dropdownToggle aria-controls=\\\"dropdown-basic\\\" #item (click)=\\\"appendInstance(key)\\\">\\n            <i class=\\\"fa fa-plus\\\"></i>\\n          </div>\\n          <div *ngSwitchCase=\\\"false\\\" class=\\\"btn-group\\\" dropdown #dropdown=\\\"bs-dropdown\\\" [autoClose]=\\\"true\\\">\\n            <div dropdownToggle aria-controls=\\\"dropdown-basic\\\">\\n              <i class=\\\"fa fa-plus\\\"></i>\\n            </div>\\n            <ul *dropdownMenu class=\\\"dropdown-menu\\\"\\n                role=\\\"menu\\\" aria-labelledby=\\\"button-triggers-manual\\\">\\n              <li *ngFor=\\\"let instanceType in params[key]['availableInstances']\\\" role=\\\"menuitem\\\">\\n                <a class=\\\"dropdown-item\\\" (click)=\\\"appendInstance(key, instanceType)\\\">\\n                  {{params[key]['instancesLabels'][instanceType]}}\\n                </a>\\n              </li>\\n            </ul>\\n          </div>\\n        </div>\\n        <div *ngIf=\\\"values[key].length > 1\\\"(click)=\\\"reorder()\\\">\\n          <i class=\\\"fa fa-bars\\\"></i>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n  <div *ngSwitchDefault>\\n    <app-page-editor-field [title]=\\\"params[key].title\\\" [params]=\\\"params[key]\\\" [valueSet]=\\\"values\\\" [valueKey]=\\\"key\\\"></app-page-editor-field>\\n  </div>\\n</div>\"","import {Component, Input, OnInit} from '@angular/core';\nimport {PageEditorTreeComponent} from \"../page-editor-tree/page-editor-tree.component\";\n\n@Component({\n    selector: 'app-page-editor-tree-item',\n    templateUrl: './page-editor-tree-item.component.html',\n    styleUrls: ['./page-editor-tree-item.component.css']\n})\nexport class PageEditorTreeItemComponent implements OnInit {\n    @Input() params: any;\n    @Input() key:    any;\n    @Input() values: any;\n    @Input() uniqKey: string;\n    @Input() level: number = 1;\n    @Input() parent: PageEditorTreeComponent;\n\n\n    constructor() {\n    }\n\n    ngOnInit() {\n    }\n\n    public getSectionGeneralName(section: any)\n    {\n        return this.params[this.key]['instancesLabels'][section.type];\n    }\n\n    public getSectionTitle(section: any)\n    {\n        return PageEditorTreeItemComponent.obtainSectionTitle(this.params, this.key, section);\n    }\n\n\n    public static obtainSectionTitle(params, key, section: any)\n    {\n        if (params[key] && params[key].itemTitleKey) {\n            let fieldName = params[key].itemTitleKey;\n            let result;\n\n            let itemTitleFieldType = null;\n            try {\n                let subsectionType = section.type;\n                itemTitleFieldType = params[key].availableInstances[subsectionType][fieldName].type;\n\n                switch (itemTitleFieldType) {\n                    case 'select':\n                        try {\n                            let subsectionType = section.type;\n                            let fieldValue = section[fieldName];\n                            let options = params[key].availableInstances[subsectionType][fieldName].options;\n\n                            result = options[fieldValue];\n                        } catch (e) {\n                            let subsectionTypeName = section.sectionTypeName ? section.sectionTypeName : '';\n                            result = 'Не выбрано';\n                            if (subsectionTypeName) {\n                                result += ' :' + subsectionTypeName;\n                            }\n                        }\n                        break;\n                    case 'string':\n                        result = section[fieldName];\n                        break;\n                }\n            } catch (e) {\n                result = 'Нет названия';\n            }\n\n\n            return result ? result : 'Без названия';\n        }\n\n        return 'Без названия';\n    }\n\n    public prepareInstance(instanceParams, sectionType: string, fieldName: string) {\n        let newSection = {\n            sectionType: sectionType,\n            type: sectionType,\n            sectionTypeName: this.params[fieldName]['instancesLabels'][sectionType]\n        };\n\n        for (let key in instanceParams) {\n            if (instanceParams[key].type !== 'composite') {\n                newSection[key] = instanceParams[key].default;\n            } else {\n                newSection[key] = [];\n            }\n        }\n\n        return newSection;\n    }\n\n    public reorder()\n    {\n        this.parent.reorder(this.key);\n    }\n\n    public deleteInstanceWithConfirm(key: string, instanceIndex: number) {\n        this.deleteInstance(key, instanceIndex);\n    }\n\n    public deleteInstance(key: string, instanceIndex: number) {\n        this.values[key].splice(instanceIndex, 1);\n        //console.log(this.values[key].length);\n        //console.log(this.values[key]);\n    }\n\n    public appendInstance(key: string) {\n        let instanceType = Object.keys(this.params[key]['availableInstances'])[0];\n        //console.log(key);\n        //console.log(instanceType);\n\n        let newInstance = this.prepareInstance(this.params[key]['availableInstances'][instanceType], instanceType, key);\n\n        this.values[key].push(newInstance);\n\n    }\n\n}\n","module.exports = \".bordered-section {\\n  border: 1px solid #444;\\n  margin: 5px;\\n}\\n.shadowed {\\n  box-shadow: 0 0 25px rgba(0, 0, 0, 0.2);\\n}\\n.put-right {\\n  position: absolute;\\n  right: 11px;\\n  left: 350px;\\n  top: 17px;\\n  max-height: 100%;\\n  overflow-y: auto;\\n}\\n/*.composite-field-items page-editor {*/\\n/*display: none;*/\\n/*}*/\\n:host {\\n  display: block;\\n}\\n.not-grouped-content {\\n  background-color: #fff;\\n}\\nul {\\n  list-style: none;\\n  padding-left: 0;\\n}\\n\"","module.exports = \"<accordion  *ngIf=\\\"!paramsHasGroups\\\">\\n    <accordion-group heading=\\\"{{getHeading}}\\\" [isOpen]=\\\"false\\\" (isOpenChange)=\\\"logToggle($event, 'nogroup')\\\">\\n        <div *ngFor=\\\"let key in notGroupdParams\\\">\\n            <app-page-editor-tree-item [level]=\\\"level\\\" [key]=\\\"key\\\" [params]=\\\"params\\\" [values]=\\\"values\\\" [parent]=\\\"this\\\" [uniqKey]=\\\"uniqKey\\\"></app-page-editor-tree-item>\\n        </div>\\n    </accordion-group>\\n</accordion>\\n<accordion *ngIf=\\\"paramsHasGroups\\\" class=\\\"super\\\">\\n    <accordion-group *ngIf=\\\"(notGroupdParams | json) !== '{}'\\\" heading=\\\"{{getHeading}}\\\" [isOpen]=\\\"false\\\" (isOpenChange)=\\\"logToggle($event, 'nogroup')\\\">\\n        <div *ngFor=\\\"let key in notGroupdParams\\\">\\n            <app-page-editor-tree-item [level]=\\\"level\\\" [key]=\\\"key\\\" [params]=\\\"params\\\" [values]=\\\"values\\\" [parent]=\\\"this\\\" [uniqKey]=\\\"uniqKey\\\"></app-page-editor-tree-item>\\n        </div>\\n    </accordion-group>\\n    <accordion-group *ngFor=\\\"let group in groupedParamsSet\\\" heading=\\\"{{groupedParamsSet[group].title}}\\\" style=\\\"color: #f00\\\" [isOpen]=\\\"false\\\" (isOpenChange)=\\\"logToggle($event, group)\\\">\\n        <div *ngFor=\\\"let key in groupedParamsSet[group].values\\\">\\n            <app-page-editor-tree-item [level]=\\\"level\\\" [key]=\\\"key\\\" [params]=\\\"params\\\" [values]=\\\"values\\\" [parent]=\\\"this\\\" [uniqKey]=\\\"uniqKey\\\"></app-page-editor-tree-item>\\n        </div>\\n    </accordion-group>\\n</accordion>\\n<ng-template #reorderDialog>\\n    <div class=\\\"modal-header\\\">\\n        <h4 class=\\\"modal-title\\\">Поменять местами</h4>\\n        <button type=\\\"button\\\" class=\\\"close\\\" aria-label=\\\"Close\\\" (click)=\\\"modalRef.hide()\\\">\\n            <i class=\\\"fa fa-close\\\"></i>\\n        </button>\\n    </div>\\n    <div class=\\\"modal-body\\\">\\n        <bs-sortable *ngIf=\\\"selectedInstanceOrder\\\"\\n                     [(ngModel)]=\\\"selectedInstanceOrder\\\"\\n                     itemClass=\\\"sortable-item\\\"\\n                     itemActiveClass=\\\"sortable-item-active\\\"\\n                     placeholderItem=\\\"Drag here\\\"\\n                     placeholderClass=\\\"placeholderStyle\\\"\\n                     wrapperClass=\\\"sortable-wrapper\\\"\\n                     fieldName=\\\"name\\\"\\n        ></bs-sortable>\\n    </div>\\n    <div class=\\\"modal-footer\\\">\\n        <button type=\\\"button\\\" class=\\\"ripple module-control-button-element default\\\" (click)=\\\"reorderApply()\\\">Да</button>\\n        <button type=\\\"button\\\" class=\\\"ripple module-control-button-element cancel\\\" (click)=\\\"modalRef.hide()\\\">Отмена</button>\\n    </div>\\n</ng-template>\"","import {Component, OnInit, Input, OnChanges, TemplateRef, ViewChild} from '@angular/core';\nimport {FormBuilder} from '@angular/forms';\nimport {PageFields} from \"../models/page-fields.interface\";\nimport {BsModalRef, BsModalService} from \"ngx-bootstrap\";\nimport {PageEditorTreeItemComponent} from \"../page-editor-tree-item/page-editor-tree-item.component\";\n\n@Component({\n  selector: 'page-editor',\n  templateUrl: './page-editor-tree.component.html',\n  styleUrls: ['./page-editor-tree.component.css'],\n  providers: [ FormBuilder ],\n})\nexport class PageEditorTreeComponent implements OnInit, OnChanges {\n  @Input() params: any;\n  @Input() values: any;\n  @Input() uniqKey: string;\n  @Input() generalName: string;\n  @Input() itemTitle: string;\n  @Input() level: number = 0;\n\n  paramsHasGroups: boolean;\n  groupedParamsSet: any;\n  notGroupdParams: any;\n\n  selectedInstanceOrder: Array<any>;\n  selectedInstanceKey: string;\n\n  public logToggle($event, key: string)\n  {\n      //console.log('Accrodion toggle event!');\n      //console.log(key);\n      //console.log(this.uniqKey);\n      //console.log($event);\n  }\n\n  public get getHeading()\n  {\n      return this.level == 0 ? 'Содержимое блока' : this.itemTitle;\n  }\n\n  public reorder(key: string) {\n      this.prepareSelectedInstanceOrder(key);\n      this.openModal(this.reorderDialog);\n  }\n\n  private prepareSelectedInstanceOrder(key: string) {\n      this.selectedInstanceKey = key;\n      this.selectedInstanceOrder = [];\n      let orderId = 0;\n\n      for (let instance of this.values[key]) {\n          this.selectedInstanceOrder.push({\n              id: orderId,\n              name: PageEditorTreeItemComponent.obtainSectionTitle(this.params, key, instance)\n          });\n          orderId ++;\n      }\n  }\n\n  public reorderApply() {\n      let orderedSections = [];\n      for (let realId in this.selectedInstanceOrder) {\n          orderedSections[realId] = this.values[this.selectedInstanceKey][this.selectedInstanceOrder[realId].id];\n      }\n\n      this.values[this.selectedInstanceKey] = orderedSections;\n      this.modalRef.hide();\n  }\n\n  @ViewChild('reorderDialog') reorderDialog: any;\n\n  modalRef: BsModalRef;\n\n  openModal(template: TemplateRef<any>) {\n      this.modalRef = this.modalService.show(template);\n  }\n\n\n  public constructor(\n      private modalService: BsModalService\n  ) {\n\n  }\n\n  ngOnInit() {\n    this.initGroupedParamsInfo();\n  }\n  ngOnChanges() {\n    this.initGroupedParamsInfo();\n  }\n\n  initGroupedParamsInfo() {\n    this.groupedParamsSet = {};\n    this.notGroupdParams = {};\n    let paramsHasGroups = false;\n    for (let key in this.params) {\n      let param = this.params[key];\n      if (!param.tabTitle) {\n        this.notGroupdParams[key] = param;\n      } else {\n          paramsHasGroups = true;\n          let title = param.tabTitle;\n          if (this.groupedParamsSet[title] === undefined) {\n              this.groupedParamsSet[title] = {\n                  title: title,\n                  values : {}\n              };\n          }\n\n          this.groupedParamsSet[title].values[key] = param;\n      }\n    }\n\n    this.paramsHasGroups = paramsHasGroups;\n  }\n}\n","module.exports = \"\"","module.exports = \"<p>\\n  page works!\\n</p>\\n\"","import { Component, OnInit } from '@angular/core';\n\n\n@Component({\n  selector: 'app-page',\n  templateUrl: './page.component.html',\n  styleUrls: ['./page.component.css'],\n})\nexport class PageComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","module.exports = \"select {\\n  margin: 10px;\\n  width: -webkit-fill-available;\\n}\\n\"","module.exports = \"<select [(ngModel)]=\\\"selectedDomain\\\" class=\\\"form-control form-control-lg\\\">\\n  <option *ngFor='let domain of domains' [value]=\\\"domain.id\\\">{{domain.title}}</option>\\n</select>\\n<div *ngFor='let page of groupedPages[selectedDomain]' class='navbar-selector-item' (click)=\\\"loadPage(page)\\\" [ngClass]=\\\"{'active':page.id==selectedPageId}\\\"> {{page.name}} </div>\\n<div class=\\\"toolbar-element\\\">\\n  <div (click)=\\\"openModal(createPage)\\\"><i class=\\\"fa fa-plus\\\"></i></div>\\n</div>\\n<ng-template #createPage>\\n  <div class=\\\"modal-header\\\">\\n    <h4 class=\\\"modal-title pull-left\\\">Создать новую страницу</h4>\\n    <button type=\\\"button\\\" class=\\\"close pull-right\\\" aria-label=\\\"Close\\\" (click)=\\\"modalRef.hide()\\\">\\n      <span aria-hidden=\\\"true\\\">&times;</span>\\n    </button>\\n  </div>\\n  <div class=\\\"modal-body\\\">\\n    <div>\\n      Введите название страницы:\\n    </div>\\n    <div>\\n      <input type=\\\"text\\\" #newPageName>\\n    </div>\\n    <div>\\n      Выберите домен:\\n    </div>\\n    <div>\\n      <select #newPageDomain class=\\\"form-control form-control-lg\\\" [value]=\\\"selectedDomain\\\">\\n        <option *ngFor='let domain of domains' [value]=\\\"domain.id\\\">{{domain.title}}</option>\\n      </select>\\n    </div>\\n    <div>\\n      Введите url:\\n    </div>\\n    <div>\\n      {{findDomainById(newPageDomain.value).base_url}}\\n      <input type=\\\"text\\\" #newPageUrl>\\n    </div>\\n    <div>\\n      Показывать в меню:\\n    </div>\\n    <div>\\n      <input type=\\\"checkbox\\\" #showInMenu>\\n    </div>\\n    <div>\\n      Выберите тип содержимого:\\n    </div>\\n    <div>\\n      <select #newPagePageType class=\\\"form-control form-control-lg\\\">\\n        <option *ngFor='let pageType of pageTypes' [value]=\\\"pageType.id\\\">{{pageType.name}}</option>\\n      </select>\\n    </div>\\n    <div>\\n      Выберите способ отображения:\\n    </div>\\n    <div>\\n      <select #newPageAction class=\\\"form-control form-control-lg\\\">\\n        <option *ngFor='let action of actions' [value]=\\\"action.id\\\">{{action.name}}</option>\\n      </select>\\n    </div>\\n\\n    <div>\\n      <button class=\\\"btn btn-primary\\\"\\n        (click)=\\\"createNewPage(newPageName.value, newPageDomain.value, newPagePageType.value, showInMenu.value, newPageUrl.value, newPageAction.value); modalRef.hide();\\\">создать</button>\\n    </div>\\n  </div>\\n</ng-template>\"","import {Component, EventEmitter, OnInit, Output, TemplateRef} from '@angular/core';\nimport {PagesService} from '../pages.service';\nimport {Page} from '../models/page.interface';\nimport {Domain} from '../models/domain.interface';\n\nimport {SelectItemEvent} from \"../models/select-item-event\";\nimport {SelectItemService} from \"../select-item.service\";\nimport {BsModalRef, BsModalService} from \"ngx-bootstrap\";\nimport {HttpClient} from \"@angular/common/http\";\nimport {Action} from \"../models/action\";\nimport {PageType} from \"../models/page-type\";\nimport {bindToComponentState} from \"../storage\";\nimport {State} from \"../models/state\";\n\n@Component({\n    selector: 'pages-list',\n    templateUrl: './pages-list.component.html',\n    styleUrls: ['./pages-list.component.css']\n})\nexport class PagesListComponent extends State implements OnInit {\n    groupedPages: object[][];\n    pages: Page[];\n    domains: Domain[];\n    actions: Action[];\n    pageTypes: PageType[];\n\n    domainsLoaded = false;\n    pagesLoaded = false;\n\n    @bindToComponentState\n    selectedDomain: number;\n\n    @bindToComponentState\n    selectedPageId: number;\n\n    processLoadedState()\n    {\n        let state = this.getState();\n        for (let key in state)\n        {\n            this[key] = state[key];\n        }\n\n        this.loadPage(this.pages.find(p => p.id == this.selectedPageId), true);\n    }\n\n    modalRef: BsModalRef;\n\n    loadPage(page: Page, initial: boolean = false) {\n        this.selectedPageId = page.id;\n        this.selectItemService.emit(new SelectItemEvent(\n            SelectItemEvent.Type.Page,\n            {\n                page: page,\n                pageId: page.id,\n                initial: initial\n            }\n        ));\n    }\n\n    findDomainById(domainId) {\n        return this.domains.find(d => d.id == domainId);\n    }\n\n    openModal(template: TemplateRef<any>, options) {\n        this.modalRef = this.modalService.show(template, options);\n    }\n\n    constructor(private pageService: PagesService,\n                private selectItemService: SelectItemService,\n                private modalService: BsModalService) {\n        super();\n    }\n\n    groupPages(): void {\n        if (this.domainsLoaded && this.pagesLoaded) {\n            for (let page of this.pages) {\n                if (this.groupedPages[page.domain_id] === undefined) {\n                    this.groupedPages[page.domain_id] = [];\n                }\n\n                this.groupedPages[page.domain_id].push(page);\n            }\n\n            //console.log(this.groupedPages);\n        }\n    };\n\n    createNewPage(\n        name: string,\n        domainId: number,\n        pageTypeId: number,\n        showInMenu: boolean,\n        url: string,\n        actionId: number\n    ): void {\n        this.pageService.createPage({\n           'name' : name,\n           'domain_id' : domainId,\n           'pages_id' : pageTypeId,\n           'show_in_menu' : showInMenu,\n           'url' : url,\n           'action_id' : actionId,\n        }).subscribe(page => {\n            this.groupedPages[page.domain_id].push(page);\n            this.selectedDomain = domainId;\n        });\n    }\n\n    getPages(): void {\n\n        this.pageService.getPages()\n            .subscribe(pages => {\n                this.pages = pages;\n                this.pagesLoaded = true;\n                this.groupPages();\n                this.processLoadedState();\n            });\n    }\n\n    getDomains(): void {\n\n        this.pageService.getDomains()\n            .subscribe(domains => {\n                this.domains = domains;\n                this.domainsLoaded = true;\n                this.groupPages();\n                this.processLoadedState();\n            });\n    }\n\n    getActions(): void {\n        this.pageService.getActions()\n            .subscribe(actions => {\n                this.actions = actions.filter(a => a.is_available == true);\n            });\n    }\n\n    getPagesTypes(): void {\n        this.pageService.getPageTypes()\n            .subscribe(pageTypes => {\n                this.pageTypes = pageTypes;\n            });\n    }\n\n    ngOnInit() {\n        this.getPages();\n        this.getDomains();\n        this.getActions();\n        this.getPagesTypes();\n        this.groupedPages = [];\n    }\n}","import {Injectable} from '@angular/core';\nimport {Page} from './models/page.interface';\nimport {PageFields} from './models/page-fields.interface';\nimport {Domain} from './models/domain.interface';\nimport {HttpClient, HttpHeaders} from '@angular/common/http';\nimport {Observable, Subject, pipe} from 'rxjs';\nimport {Action} from \"./models/action\";\nimport {PageType} from \"./models/page-type\";\n\n@Injectable()\nexport class PagesService {\n\n    private pagesUrl = '/api/page';\n    private pageFieldsUrl = '/api/pageFields';\n    private domainsUrl = '/api/domain';\n    private actionsUrl = '/api/actions';\n    private pageTypesUrl = '/api/pageTypes';\n\n    constructor(private http: HttpClient) {\n    }\n\n    createPage(pageData: any): Observable<Page> {\n        return this.http.post<Page>(this.pagesUrl, pageData);\n    }\n\n    getPages(): Observable<Page[]> {\n        return this.http.get<Page[]>(this.pagesUrl);\n    }\n\n    getPage(pageId: number): Observable<Page[]> {\n        return this.http.get<Page[]>(this.pagesUrl  + '/' + pageId);\n    }\n\n    getPageFields(pageId: number, language: number): Observable<PageFields> {\n        return this.http.get<PageFields>(this.pageFieldsUrl + '/' + pageId + '?lang=' + language);\n    }\n\n    savePageFields(pageId: number, pageFields: Object, language: number) {\n        return this.http.put(this.pageFieldsUrl + '/' + pageId + '?lang=' + language, pageFields);\n    }\n\n    deletePage(pageId: number) {\n        return this.http.delete(this.pagesUrl + '/' + pageId);\n    }\n\n    getDomains(): Observable<Domain[]> {\n        return this.http.get<Domain[]>(this.domainsUrl);\n    }\n\n    getActions(): Observable<Action[]> {\n        return this.http.get<Action[]>(this.actionsUrl);\n    }\n\n    getPageTypes(): Observable<PageType[]> {\n        return this.http.get<PageType[]>(this.pageTypesUrl);\n    }\n}","module.exports = \".bordered-section {\\n  border: 1px solid #444;\\n  margin: 5px;\\n}\\n.shadowed {\\n  box-shadow: 0 0 25px rgba(0, 0, 0, 0.2);\\n}\\n.put-right {\\n  position: absolute;\\n  right: 11px;\\n  left: 350px;\\n  top: 17px;\\n  max-height: 100%;\\n  overflow-y: auto;\\n}\\n.sections-selector,\\n.general-info,\\n.items-block {\\n  background-color: #fff;\\n  margin: 15px;\\n  display: block;\\n  width: 100%;\\n  vertical-align: top;\\n}\\n.sections-selector + page-editor,\\n.general-info + page-editor,\\n.items-block + page-editor {\\n  background-color: #fff;\\n  margin-left: 10px;\\n  padding: 10px;\\n  box-shadow: 0 0 50px rgba(0, 0, 0, 0.05);\\n  display: inline-block;\\n  vertical-align: top;\\n}\\n.sections-selector .item,\\n.general-info .item,\\n.items-block .item {\\n  height: 35px;\\n  line-height: 35px;\\n  padding-left: 10px;\\n  position: relative;\\n}\\n.sections-selector .item:not(.selected) .delete,\\n.general-info .item:not(.selected) .delete,\\n.items-block .item:not(.selected) .delete {\\n  display: none;\\n}\\n.sections-selector .item.selected,\\n.general-info .item.selected,\\n.items-block .item.selected {\\n  background-color: #eee;\\n}\\n.sections-selector .item.selected .delete,\\n.general-info .item.selected .delete,\\n.items-block .item.selected .delete {\\n  position: absolute;\\n  top: 0;\\n  right: 10px;\\n}\\n\"","module.exports = \"<div class=\\\"page-editor\\\">\\n    <div class=\\\"wrapper\\\">\\n\\n        <div class=\\\"module-menu-element\\\" *ngIf=\\\"selectedPageId !== null\\\">\\n            <h3 *ngIf=\\\"selectedPageId == 26\\\">Тренеры</h3>\\n            <div class=\\\"items-block\\\" *ngIf=\\\"selectedPageId == 26\\\">\\n                <trainers class=\\\"integrated\\\"></trainers>\\n            </div>\\n\\n            <h3 *ngIf=\\\"selectedPageId == 19\\\">Номера</h3>\\n            <div class=\\\"items-block\\\" *ngIf=\\\"selectedPageId == 19\\\">\\n                <rooms class=\\\"integrated\\\"></rooms>\\n            </div>\\n\\n\\n            <h3>Список секций</h3>\\n            <div class=\\\"sections-selector\\\" *ngIf=\\\"selectedPageFieldsSections\\\">\\n                <div *ngFor=\\\"let section of selectedPageFieldsSections.values; index as sectionNumber;\\\"\\n                     (click)=\\\"selectSection(sectionNumber)\\\" [class.selected]=\\\"sectionNumber === selectedSectionNumber\\\" class=\\\"item\\\">\\n                    {{selectedPageFieldsSections.values[sectionNumber].sectionTypeName}}\\n                    <div class=\\\"delete\\\" click-stop-propagation (click)=\\\"deleteSectionWithConfirm('sectionsParams', sectionNumber)\\\"><i class=\\\"fa fa-close\\\"></i></div>\\n                </div>\\n                <div class=\\\"sections-panel toolbar-element\\\" *ngIf=\\\"selectedPageFields.params['sectionsParams'] !== undefined && (selectedPageFields.params['sectionsParams']['availableInstances'] | json) != '{}'\\\">\\n                    <div class=\\\"btn-group\\\" dropdown #dropdown=\\\"bs-dropdown\\\" [autoClose]=\\\"true\\\">\\n                        <div dropdownToggle aria-controls=\\\"dropdown-basic\\\">\\n                            <i class=\\\"fa fa-plus\\\"></i>\\n                        </div>\\n                        <ul id=\\\"dropdown-triggers-manual\\\" *dropdownMenu class=\\\"dropdown-menu\\\"\\n                            role=\\\"menu\\\" aria-labelledby=\\\"button-triggers-manual\\\">\\n                            <li *ngFor=\\\"let sectionType in selectedPageFields.params['sectionsParams']['availableInstances']\\\" role=\\\"menuitem\\\">\\n                                <a class=\\\"dropdown-item\\\" (click)=\\\"appendSection('sectionsParams', sectionType)\\\">\\n                                    {{selectedPageFields.params['sectionsParams']['instancesLabels'][sectionType]}}\\n                                </a>\\n                            </li>\\n                        </ul>\\n                        <div (click)=\\\"reorder()\\\"><i class=\\\"fa fa-bars\\\"></i></div>\\n                    </div>\\n                </div>\\n            </div>\\n\\n            <h3>Общие настройки</h3>\\n            <div (click)=\\\"selectOther()\\\"  class=\\\"general-info\\\">\\n                <div class=\\\"item\\\" [class.selected]=\\\"selectOtherParams === true\\\">Общие настройки</div>\\n            </div>\\n\\n            <div class=\\\"module-panel\\\" *ngIf=\\\"selectedPageFields !== null\\\">\\n                <button (click)=\\\"save()\\\" class=\\\"save ripple module-control-button-element default\\\">Сохранить</button>\\n                <a href=\\\"{{currentPage.url}}\\\" target=\\\"_blank\\\"><button class=\\\"view ripple module-control-button-element\\\">Просмотр</button></a>\\n                <button (click)=\\\"deleteWithConfirm()\\\" class=\\\"ripple module-control-button-element delete\\\">Удалить</button>\\n            </div>\\n        </div>\\n        <div class=\\\"module-content-element\\\">\\n            <accordion *ngIf=\\\"selectOtherParams == true\\\">\\n                <accordion-group heading=\\\"Параметры страницы\\\">\\n                    {{currentPage.url}}\\n                </accordion-group>\\n            </accordion>\\n            <page-editor *ngIf=\\\"selectOtherParams == true && sectionsInited\\\"\\n                         [params]=\\\"selectedPageFieldsOther.params\\\"\\n                         [values]=\\\"selectedPageFieldsOther.values\\\"\\n                         [uniqKey]=\\\"'root'\\\">\\n            </page-editor>\\n            <page-editor *ngIf=\\\"selectedSectionNumber !== null && sectionsInited\\\"\\n                         [params]=\\\"selectedPageFieldsSections.params['availableInstances'][selectedPageFieldsSections.values[selectedSectionNumber].type]\\\"\\n                         [values]=\\\"selectedPageFieldsSections.values[selectedSectionNumber]\\\"\\n                         [uniqKey]=\\\"'root'\\\">\\n            </page-editor>\\n        </div>\\n    </div>\\n</div>\\n<ng-template #confirmationDialog class=\\\"alert-box\\\">\\n    <div class=\\\"modal-header\\\">\\n        <h4 class=\\\"modal-title\\\">Подтвердите действиe</h4>\\n        <button type=\\\"button\\\" class=\\\"close\\\" aria-label=\\\"Close\\\" (click)=\\\"modalRef.hide()\\\">\\n            <span aria-hidden=\\\"true\\\">&times;</span>\\n        </button>\\n    </div>\\n    <div class=\\\"modal-body\\\">\\n        Удалить страницу?\\n    </div>\\n    <div class=\\\"modal-footer\\\">\\n        <button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" (click)=\\\"onConfirm()\\\">Да</button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" (click)=\\\"onCancel()\\\">Нет</button>\\n    </div>\\n</ng-template>\\n\\n<ng-template #sectionConfirmationDialog class=\\\"alert-box\\\">\\n    <div class=\\\"modal-header\\\">\\n        <h4 class=\\\"modal-title\\\">Подтвердите действиe</h4>\\n        <button type=\\\"button\\\" class=\\\"close\\\" aria-label=\\\"Close\\\" (click)=\\\"modalRef.hide()\\\">\\n            <span aria-hidden=\\\"true\\\">&times;</span>\\n        </button>\\n    </div>\\n    <div class=\\\"modal-body\\\">\\n        Удалить секцию?\\n    </div>\\n    <div class=\\\"modal-footer\\\">\\n        <button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" (click)=\\\"onConfirm()\\\">Да</button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" (click)=\\\"onCancel()\\\">Нет</button>\\n    </div>\\n</ng-template>\\n\\n\\n<ng-template #reorderDialog>\\n    <div class=\\\"modal-header\\\">\\n        <h4 class=\\\"modal-title\\\">Поменять местами секции</h4>\\n        <button type=\\\"button\\\" class=\\\"close\\\" aria-label=\\\"Close\\\" (click)=\\\"modalRef.hide()\\\">\\n            <span aria-hidden=\\\"true\\\">&times;</span>\\n        </button>\\n    </div>\\n    <div class=\\\"modal-body\\\">\\n        <bs-sortable *ngIf=\\\"pageFieldsSectionsOrder\\\"\\n            [(ngModel)]=\\\"pageFieldsSectionsOrder\\\"\\n            itemClass=\\\"sortable-item\\\"\\n            itemActiveClass=\\\"sortable-item-active\\\"\\n            placeholderItem=\\\"Drag here\\\"\\n            placeholderClass=\\\"placeholderStyle\\\"\\n            wrapperClass=\\\"sortable-wrapper\\\"\\n            fieldName=\\\"name\\\"\\n        ></bs-sortable>\\n    </div>\\n    <div class=\\\"modal-footer\\\">\\n        <button type=\\\"button\\\" class=\\\"ripple module-control-button-element default\\\" (click)=\\\"reorderApply()\\\">Да</button>\\n        <button type=\\\"button\\\" class=\\\"ripple module-control-button-element cancel\\\" (click)=\\\"modalRef.hide()\\\">Отмена</button>\\n    </div>\\n</ng-template>\\n\"","import {ChangeDetectionStrategy, ChangeDetectorRef, Component, OnInit, ViewChild} from '@angular/core';\nimport { PagesService } from '../pages.service';\nimport { Page } from '../models/page.interface';\nimport { Domain } from '../models/domain.interface';\n\nimport {SelectItemService} from \"../select-item.service\";\nimport {SelectItemEvent} from \"../models/select-item-event\";\nimport {PageFields} from \"../models/page-fields.interface\";\nimport {Subject} from \"rxjs/Subject\";\nimport {BsModalRef, BsModalService} from \"ngx-bootstrap\";\nimport {State} from \"../models/state\";\nimport {bindToComponentState} from \"../storage\";\nimport {NotificationService} from \"../notification.service\";\n\n@Component({\n  selector: 'app-pages',\n  templateUrl: './pages.component.html',\n  styleUrls: ['./pages.component.css'],\n})\nexport class PagesComponent extends State implements OnInit {\n\tgroupedPages: object[][];\n\tpages:   Page[];\n\tdomains: Domain[];\n\tdomainsLoaded =  false;\n\tpagesLoaded =  false;\n\tselectedDomain: number = 1;\n\tselectedPageId: number = null;\n\tcurrentPage: Page;\n\n\tselectedPageFields: PageFields = null;\n\tselectedPageFieldsOther: any;\n    selectedPageFieldsSections: any;\n    pageFieldsSectionsOrder: any;\n\n    @bindToComponentState\n    selectedSectionNumber: number;\n\n    @bindToComponentState\n\tselectOtherParams: boolean;\n\n    confirmationResult: Subject<boolean>;\n\t\n    language: number = 1;\n\n\t@ViewChild('confirmationDialog') confirmationDialog;\n\t@ViewChild('sectionConfirmationDialog') sectionConfirmationDialog;\n\t@ViewChild('reorderDialog') reorderDialog;\n    modalRef: BsModalRef;\n\n    processLoadedState() {\n        let state = this.getState();\n        for (let key in state) {\n            this[key] = state[key];\n        }\n    }\n\n\tconstructor(\n\t\tprivate pageService: PagesService,\n\t\tprivate selectItemService: SelectItemService,\n        private modalService: BsModalService,\n        private ref: ChangeDetectorRef,\n\t\tprivate notificationService: NotificationService\n\t) {\n\n\t\tsuper();\n        selectItemService.event$.subscribe((event: SelectItemEvent) => {\n            if (event.itemType === SelectItemEvent.Type.LanguageChange) {\n                this.language = event.payload.language;\n                if (this.selectedPageId !== null) {\n                    this.loadPage(this.selectedPageId, false);\n\t\t\t\t}\n            } else if (event.itemType === SelectItemEvent.Type.Page) {\n            \tthis.currentPage = event.payload.page;\n                this.loadPage(event.payload.pageId, !event.payload.initial);\n                if (!event.payload.initial) {\n                    this.selectItemService.emitCloseAll('page');\n\t\t\t\t}\n            } else if (event.itemType === SelectItemEvent.Type.CloseAllSelectedItems && event.payload.model !== 'page') {\n            \tthis.unload();\n\t\t\t}\n        });\n\t}\n\n\tunload() {\n        this.selectOtherParams = false;\n        this.selectedSectionNumber = null;\n\t}\n\n\tselectSection(sectionNumber: number) {\n        this.selectOtherParams = false;\n\t\tthis.selectedSectionNumber = sectionNumber;\n        this.selectItemService.emitCloseAll('page');\n\t}\n\n\tcloseSection() {\n\t\tthis.selectedSectionNumber = null;\n\t\tthis.selectOtherParams = false;\n\t}\n\n\tselectOther() {\n\t\tthis.selectedSectionNumber = null;\n\t\tthis.selectOtherParams = true;\n\t\tthis.selectItemService.emitCloseAll('page');\n\t}\n\n\tcloseOther() {\n\t\tthis.selectedSectionNumber = null;\n\t\tthis.selectOtherParams = false;\n\t}\n\n    loadPage(pageId: number, unload: boolean) {\n\t\tthis.pageService.getPageFields(pageId, this.language)\n\t\t\t.subscribe(page => {\n\t\t\t\t//console.log('Initing section!');\n                this.initSectionsAndOther(page);\n\t\t\t\tthis.selectedPageFields = page;\n\n\t\t\t\tif (unload) {\n\t\t\t\t\tthis.unload();\n\t\t\t\t}\n\t\t\t});\n\n        this.selectedPageId = pageId;\n\n        if (unload) {\n            this.unload();\n        }\n\t}\n\n\tpublic reorderApply(): void {\n\t    let orderedSections = [];\n\t    for (let realId in this.pageFieldsSectionsOrder) {\n\t        orderedSections[realId] = this.selectedPageFields.values['sectionsParams'][this.pageFieldsSectionsOrder[realId].id];\n        }\n\n        this.selectedPageFields.values['sectionsParams'] = orderedSections;\n\t    this.selectedPageFieldsSections.values = orderedSections;\n\t    this.modalRef.hide();\n    }\n\n    public onConfirm(): void {\n        this.confirmationResult.next(true);\n        this.modalRef.hide();\n    }\n\n    public onCancel(): void {\n        this.confirmationResult.next(false);\n        this.modalRef.hide();\n    }\n\n\n    public prepareSectionInstance(sectionInstance, sectionType: string, fieldName: string) {\n        let newSection = {\n            sectionType: sectionType,\n            type: sectionType,\n            sectionTypeName: this.selectedPageFields.params[fieldName]['instancesLabels'][sectionType]\n        };\n\n        for (let key in sectionInstance) {\n            if (sectionInstance[key].type !== 'composite') {\n                newSection[key] = sectionInstance[key].default;\n            } else {\n                newSection[key] = [];\n            }\n        }\n\n        return newSection;\n\t}\n\n    public appendSection(fieldName: string = 'sectionsParams', sectionType: string) {\n\t    let newSection = this.prepareSectionInstance(this.selectedPageFields.params[fieldName]['availableInstances'][sectionType], sectionType, fieldName);\n\n\t    this.selectedPageFields.values[fieldName].push(newSection);\n\n\t    this.initSectionsAndOther(this.selectedPageFields);\n    }\n\n    public deleteSectionWithConfirm(fieldName: string = 'sectionsParams', sectionNumber: number) {\n        this.modalRef = this.modalService.show(this.sectionConfirmationDialog);\n        this.confirmationResult.subscribe(result => {\n            if (result === true) {\n                this.deleteSection(fieldName, sectionNumber);\n                this.modalRef.hide();\n            }\n        });\n\t}\n\n\tprivate deleteSection(fieldName: string = 'sectionsParams', sectionNumber: number) {\n        this.selectedPageFields.values[fieldName].splice(sectionNumber, 1);\n\n        this.selectedSectionNumber = null;\n        this.initSectionsAndOther(this.selectedPageFields);\n\t}\n\n    private sectionsInited = false;\n\n    initSectionsAndOther(pageFields: PageFields, process: boolean = true) {\n    \tif (process) {\n            this.processLoadedState();\n\t\t}\n\n        this.selectedPageFieldsOther = {\n        \tparams: {},\n\t\t\tvalues: []\n\t\t};\n\n        this.selectedPageFieldsSections = {\n            params: {},\n            values: [],\n        };\n\n        this.pageFieldsSectionsOrder = [];\n\n        let orderId = 0;\n    \tfor (let key in pageFields.params) {\n    \t\tif (key === 'sectionsParams') {\n    \t\t\tthis.selectedPageFieldsSections = {\n    \t\t\t\tparams: pageFields.params['sectionsParams'],\n    \t\t\t\tvalues: Object.values(pageFields.values['sectionsParams']),\n\t\t\t\t};\n    \t\t\tfor (let section of pageFields.values['sectionsParams']) {\n    \t\t\t    let sectionType = section.type;\n    \t\t\t    let sectionName = pageFields.params[key]['instancesLabels'][sectionType];\n    \t\t\t    //console.log(sectionName);\n\n                    this.pageFieldsSectionsOrder.push({\n                        id: orderId,\n                        name: sectionName\n                    });\n                    orderId ++;\n    \t\t\t}\n\t\t\t} else {\n    \t\t\tthis.selectedPageFieldsOther.params[key] = pageFields.params[key];\n    \t\t\tthis.selectedPageFieldsOther.values[key] = pageFields.values[key];\n\t\t\t}\n\t\t}\n\n\t\tthis.sectionsInited = true;\n\t}\n\n    getPageFieldsValues(params, values): any {\n        let result = {};\n\n\t\tfor (let key in params) {\n            if (params[key].type === 'composite') {\n                let sectionDataList = [];\n                for (let section of values[key]) {\n                \tlet sectionData = this.getPageFieldsValues(params[key]['availableInstances'][section.type], section);\n                \tsectionData.type = section.type;\n                    sectionDataList.push(sectionData);\n                }\n\n                result[key] = sectionDataList;\n            } else {\n                result[key] = values[key];\n            }\n\t\t}\n\n\t\treturn result;\n\t}\n\n\tvalidatePageFieldsValues(params, values): boolean {\n    \tfor (let key in params) {\n    \t\tif (params[key].type !== 'composite') {\n                if (params[key].required === 1 && !values[key]) {\n                    return false;\n                }\n\t\t\t} else {\n                for (let section of values[key]) {\n                    if (!this.validatePageFieldsValues(params[key]['availableInstances'][section.type], section)) {\n                    \treturn false;\n\t\t\t\t\t}\n                }\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tsave(): void {\n\t\tif (!this.validatePageFieldsValues(this.selectedPageFields.params, this.selectedPageFields.values)) {\n\t\t\tthis.notificationService.error(\"Невозможно сохранить страницу, заполните обязательные поля\");\n\t\t\treturn;\n\t\t}\n\n\t\tthis.copyOtherParamsChanges();\n\n\t    this.pageService.savePageFields(this.selectedPageId, this.getPageFieldsValues(this.selectedPageFields.params, this.selectedPageFields.values), this.language)\n            .subscribe();\n    }\n\n    private copyOtherParamsChanges() {\n        for (let key in this.selectedPageFieldsOther.values) {\n            this.selectedPageFields.values[key] = this.selectedPageFieldsOther.values[key];\n        }\n\t}\n\n\n    deleteWithConfirm(): void {\n        this.modalRef = this.modalService.show(this.confirmationDialog);\n        this.confirmationResult.subscribe(result => {\n            if (result === true) {\n            \tthis.delete();\n\t\t\t}\n        });\n\t}\n\n    reorder(): void {\n        this.modalRef = this.modalService.show(this.reorderDialog);\n    }\n\n    delete(): void {\n\t\tthis.pageService.deletePage(this.selectedPageId)\n\t\t\t.subscribe();\n    }\n\n\tgroupPages(): void {\n\t\tif (this.domainsLoaded && this.pagesLoaded) {\n\t\t\tfor (let page of this.pages) {\n\t\t\t\tif (this.groupedPages[page.domain_id] === undefined) {\n\t\t\t\t\tthis.groupedPages[page.domain_id] = [];\n\t\t\t\t}\n\n\t\t\t\tthis.groupedPages[page.domain_id].push(page);\n\t\t\t}\n\t\t}\n\t};\n\n\tgetPages(): void {\n\n\t\tthis.pageService.getPages()\n\t\t\t.subscribe(pages => {\n\t\t\t\tthis.pages = pages;\n\t\t\t\tthis.pagesLoaded = true;\n\t\t\t\tthis.groupPages();\n\t\t\t});\n\t}\n\n\tgetDomains(): void {\n\n\t\tthis.pageService.getDomains()\n\t\t\t.subscribe(domains => {\n\t\t\t\tthis.domains = domains;\n\t\t\t\tthis.domainsLoaded = true;\n\t\t\t});\n\t}\n\n\tngOnInit() {\n        this.confirmationResult = new Subject();\n\t\tthis.getPages();\n\t\tthis.getDomains();\n\t\tthis.groupedPages = [];\n\t}\n}\n","module.exports = \"<div class=\\\"object-editor\\\" [ngClass]=\\\"{active: room !== null}\\\">\\n  <div class=\\\"close\\\" (click)=\\\"close()\\\">\\n    <i class=\\\"fa fa-window-close\\\" aria-hidden=\\\"true\\\"></i>\\n  </div>\\n  <div *ngIf=\\\"room !== null\\\">\\n    <div class=\\\"field name\\\">\\n      <span class=\\\"label\\\">Название комнаты</span>\\n      <input type=\\\"text\\\" [(ngModel)]=\\\"room.title\\\">\\n    </div>\\n\\n    <div class=\\\"field images\\\">\\n      <span class=\\\"label\\\">Изображения</span>\\n      <img *ngFor=\\\"let image of getImages()\\\" [src]=\\\"'/' + image.filename\\\">\\n    </div>\\n\\n    <div class=\\\"buttons\\\">\\n      <button type=\\\"button\\\" class=\\\"btn btn-success\\\" (click)=\\\"save()\\\">Save</button>\\n      <button type=\\\"button\\\" class=\\\"btn btn-danger\\\" (click)=\\\"openModal(confirmDelete)\\\">Delete</button>\\n    </div>\\n  </div>\\n</div>\\n<ng-template #imageChoose>\\n  <div class=\\\"modal-header\\\">\\n    <h4 class=\\\"modal-title pull-left\\\">Выберите изображение</h4>\\n    <button type=\\\"button\\\" class=\\\"close pull-right\\\" aria-label=\\\"Close\\\" (click)=\\\"modalRef.hide()\\\">\\n      <span aria-hidden=\\\"true\\\">&times;</span>\\n    </button>\\n  </div>\\n  <div class=\\\"modal-body\\\">\\n    <app-image-chooser (selectedImageId)=\\\"selectImage($event)\\\"></app-image-chooser>\\n    <button class=\\\"btn btn-primary\\\">выбор</button>\\n    <button class=\\\"btn btn-danger\\\" (click)=\\\"modalRef.hide()\\\">отмена</button>\\n  </div>\\n</ng-template>\\n<ng-template #confirmDelete>\\n  <div class=\\\"modal-header\\\">\\n    <h4 class=\\\"modal-title pull-left\\\">Вы точно хотите удалить этот номер?</h4>\\n    <button type=\\\"button\\\" class=\\\"close pull-right\\\" aria-label=\\\"Close\\\" (click)=\\\"modalRef.hide()\\\">\\n      <span aria-hidden=\\\"true\\\">&times;</span>\\n    </button>\\n  </div>\\n  <div class=\\\"modal-body\\\">\\n    <button class=\\\"btn btn-primary\\\" (click)=\\\"modalRef.hide()\\\">отмена</button>\\n    <button class=\\\"btn btn-danger\\\" (click)=\\\"delete()\\\">да, удалить</button>\\n  </div>\\n</ng-template>\"","import {Component, OnInit, TemplateRef, ViewChild} from '@angular/core';\nimport {SelectItemEvent} from \"../models/select-item-event\";\nimport {SelectItemService} from \"../select-item.service\";\nimport {ModelService} from \"../model.service\";\nimport {BsModalRef, BsModalService} from \"ngx-bootstrap\";\nimport {ReadFile} from 'ngx-file-helpers';\nimport {Room} from \"../models/room\";\nimport {CmsImage} from \"../models/cms-image\";\n\n\n@Component({\n  selector: 'room-editor',\n  templateUrl: './room-editor.component.html',\n  styleUrls: ['../common/object-editor.component.css'],\n})\nexport class RoomEditorComponent implements OnInit {\n\n  modalRef: BsModalRef;\n\n  private room: Room;\n\n  public newImageFile: ReadFile;\n\n  constructor(\n      private selectItemService: SelectItemService,\n      private modelService: ModelService,\n      private modalService: BsModalService\n  ) {\n      selectItemService.event$.subscribe((event: SelectItemEvent) => {\n          if (event.itemType === SelectItemEvent.Type.RoomSelect) {\n              this.room = event.payload.room;\n              this.roomImages = null;\n              if (!event.payload.initial) {\n                  this.selectItemService.emitCloseAll('room');\n              }\n          }\n      });\n\n  }\n\n  private roomImages = null;\n\n  public getImages() {\n      if (this.roomImages === null) {\n          this.roomImages = [];\n          this.modelService.getRoomImages(this.room).subscribe(\n              (images) => {\n                  images.forEach(i => {this.roomImages.push(CmsImage.fromRaw(i));})\n              }\n          );\n      }\n\n      return this.roomImages;\n  }\n\n  openModal(template: TemplateRef<any>) {\n      this.modalRef = this.modalService.show(template);\n  }\n\n  public close() {\n      if (this.room !== null) {\n          this.selectItemService.emit(\n              new SelectItemEvent(SelectItemEvent.Type.RoomClose, {\n                  roomId: this.room.id\n              })\n          );\n      }\n\n      this.room = null;\n  }\n\n  public save()\n  {\n      let roomItem = Object.setPrototypeOf(this.room, Room.prototype);\n      this.modelService.saveRoom(roomItem);\n  }\n\n  public delete()\n  {\n      this.modelService.deleteRoom(this.room)\n          .subscribe(() => {\n              let roomId = this.room.id;\n              this.room = null;\n              this.modalRef.hide();\n              this.selectItemService.emit(\n                  new SelectItemEvent(SelectItemEvent.Type.RoomRemove, {\n                      roomId: roomId\n                  }));\n          });\n  }\n\n  public dropped(file: ReadFile) {\n      this.newImageFile = file;\n      //this.cropper.setImage(this.newImageFile.content);\n  }\n\n  public cancelImage() {\n      this.newImageFile = null;\n  }\n\n  public fileOver(event) {\n      //console.log(event);\n  }\n\n  public fileLeave(event) {\n      //console.log(event);\n  }\n\n\n  ngOnInit() {\n    this.room = null;\n    this.newImageFile = null;\n  }\n}\n","module.exports = \"<div class=\\\"content\\\">\\n    <div class=\\\"module-list\\\">\\n        <ul class=\\\"object-list-element\\\" *ngIf=\\\"rooms !== null\\\" [ngClass]=\\\"{active: selectedRoom !== null}\\\" #trainersList>\\n            <li class=\\\"object-item\\\" *ngFor=\\\"let room of rooms\\\" (click)=\\\"loadRoom(room)\\\" [ngClass]=\\\"{active: this.selectedRoom && room.id == selectedRoom.id}\\\">\\n                <h2 class=\\\"object-name\\\">{{room.title | wordCountLimit: 2 }}</h2>\\n            </li>\\n        </ul>\\n        <div class=\\\"toolbar-element\\\">\\n            <div (click)=\\\"openModal(createRoom)\\\"><i class=\\\"fa fa-plus\\\"></i></div>\\n            <div (click)=\\\"openModal(reorderRooms)\\\"><i class=\\\"fa fa-bars\\\"></i></div>\\n        </div>\\n    </div>\\n    <div class=\\\"module-editor module-editor-visible\\\" [ngClass]=\\\"{'visible': selectedRoom != null}\\\">\\n        <room-editor></room-editor>\\n    </div>\\n</div>\\n<ng-template #createRoom>\\n    <div class=\\\"modal-header\\\">\\n        <h4 class=\\\"modal-title pull-left\\\">Создание нового номера</h4>\\n        <button type=\\\"button\\\" class=\\\"close pull-right\\\" aria-label=\\\"Close\\\" (click)=\\\"modalRef.hide()\\\">\\n            <span aria-hidden=\\\"true\\\">&times;</span>\\n        </button>\\n    </div>\\n    <div class=\\\"modal-body\\\">\\n        <div>\\n            Введите название номера:\\n        </div>\\n        <div>\\n            <input type=\\\"text\\\" #newRoomName>\\n        </div>\\n        <div>\\n            <button class=\\\"btn btn-primary\\\" (click)=\\\"createNewRoom(newRoomName.value)\\\">создать</button>\\n        </div>\\n    </div>\\n</ng-template>\"","import {Component, OnInit, TemplateRef, ViewChild} from '@angular/core';\nimport {ModelService} from \"../model.service\";\nimport {Room} from \"../models/room\";\nimport {SelectItemEvent} from \"../models/select-item-event\";\nimport {SelectItemService} from \"../select-item.service\";\nimport {BsModalRef, BsModalService} from \"ngx-bootstrap\";\nimport {State} from \"../models/state\";\nimport {bindToComponentState} from \"../storage\";\n\n@Component({\n    selector: 'rooms',\n    templateUrl: './rooms.component.html',\n    styleUrls: ['../common/object-list.component.css'],\n})\nexport class RoomsComponent extends State implements OnInit {\n\n    @ViewChild('roomsList') roomsContainer: any;\n\n    modalRef: BsModalRef;\n\n    openModal(template: TemplateRef<any>) {\n        this.modalRef = this.modalService.show(template);\n    }\n\n    public rooms: Room[];\n\n    processLoadedState() {\n        let state = this.getState();\n        for (let key in state) {\n            this[key] = state[key];\n        }\n\n        if (this.selectedRoom !== null && this.rooms) {\n            this.loadRoom(this.rooms.find(r => r.id == this.selectedRoom.id), true);\n        }\n    }\n\n    @bindToComponentState\n    public selectedRoom: Room;\n\n    public newRoom: Room;\n\n    constructor(private modelService: ModelService,\n                private selectItemService: SelectItemService,\n                private modalService: BsModalService) {\n        super();\n        this.newRoom = new Room(this.modelService);\n\n        selectItemService.event$.subscribe((event: SelectItemEvent) => {\n            if (event.itemType === SelectItemEvent.Type.LanguageChange) {\n                this.loadRooms(true);\n            } else if (event.itemType === SelectItemEvent.Type.RoomRemove) {\n                this.rooms = this.rooms.filter(t => t.id !== event.payload.roomId);\n            } else if (event.itemType === SelectItemEvent.Type.RoomClose) {\n                if (this.selectedRoom.id == event.payload.roomId) {\n                    this.unselectRoom();\n                }\n            } else if (event.itemType === SelectItemEvent.Type.CloseAllSelectedItems && event.payload.model !== 'room') {\n                this.unselectRoom();\n            }\n        });\n    }\n\n    private loadRooms(force: boolean = false) {\n        this.modelService.getRooms().subscribe(rooms => {\n            this.rooms = rooms;\n            this.processLoadedState();\n            if (force) {\n                if (this.selectedRoom !== null) {\n                    const selectedRoomId = this.selectedRoom.id;\n                    this.selectedRoom = this.rooms.find(r => r.id == selectedRoomId);\n                    this.loadRoom(this.selectedRoom);\n                }\n            }\n        });\n    }\n\n    private unselectRoom() {\n        this.selectedRoom = null;\n    }\n\n    public loadRoom(room: Room, initial: boolean = false) {\n        this.selectedRoom = room;\n\n        this.selectItemService.emit(new SelectItemEvent(\n            SelectItemEvent.Type.RoomSelect,\n            {\n                room: room,\n                initial: initial\n            }\n        ));\n    }\n\n    public createNewRoom(newRoomName) {\n        this.newRoom.title = newRoomName;\n\n        this.modelService.createRoom(this.newRoom).subscribe(room => {\n            this.rooms.push(room as Room);\n            this.loadRoom(room as Room);\n            this.modalRef.hide();\n            this.newRoom = new Room(this.modelService);\n            this.roomsContainer.scrollTop = this.roomsContainer.scrollHeight;\n        });\n    }\n\n    ngOnInit() {\n        this.loadRooms();\n    }\n}\n","import { Injectable } from '@angular/core';\nimport { Subject } from \"rxjs/Subject\";\nimport {SelectItemEvent} from \"./models/select-item-event\";\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class SelectItemService {\n  private _event = new Subject();\n  event$ = this._event.asObservable();\n\n  emitEventOfType(type: SelectItemEvent.Type, options: any = {}) {\n    this.emit(new SelectItemEvent(type, options));\n  }\n\n  emitImageChooserEvent() {\n    this.emitEventOfType(SelectItemEvent.Type.ImageChooserApply);\n  }\n\n  emit(selectItem: SelectItemEvent) {\n    this._event.next(selectItem);\n  }\n\n  emitCloseAll(model: string) {\n    this._event.next(new SelectItemEvent(SelectItemEvent.Type.CloseAllSelectedItems, {model: model}))\n  }\n}","import {SelectItemEvent} from \"../models/select-item-event\";\nimport {SelectItemService} from \"../select-item.service\";\nimport {Component, Injectable} from \"@angular/core\";\n\n@Injectable()\nexport class LanguageService {\n    private language: number = 1;\n\n    public constructor(private selectItemService: SelectItemService) {\n        this.selectItemService.event$.subscribe((event: SelectItemEvent) => {\n            if (event.itemType === SelectItemEvent.Type.LanguageChange) {\n                this.language = event.payload.language;\n            }\n        });\n    }\n\n    public getLanguage(): number\n    {\n        return this.language;\n    }\n}","module.exports = \"select {\\n  margin: 10px;\\n  width: -webkit-fill-available;\\n}\\n\"","module.exports = \"<select [(ngModel)]=\\\"selectedDomain\\\" class=\\\"form-control form-control-lg\\\" *ngIf=\\\"domains !== null\\\">\\n  <option *ngFor='let domain of domains' [value]=\\\"domain.id\\\">{{domain.title}}</option>\\n</select>\\n<div *ngIf=\\\"groupedSettings !== null && groupedSettings[selectedDomain] !== undefined\\\">\\n  <div *ngFor='let groupTitle in groupedSettings[selectedDomain]' class='navbar-selector-item' (click)=\\\"loadGroup(groupTitle)\\\"\\n       [ngClass]=\\\"{'active':groupTitle==selectedGroupTitle}\\\"> {{groupTitle}} </div>\\n</div>\"","import {Component, EventEmitter, OnInit, Output} from '@angular/core';\nimport {PagesService} from '../pages.service';\nimport {Page} from '../models/page.interface';\nimport {Domain} from '../models/domain.interface';\n\nimport {SelectItemEvent} from \"../models/select-item-event\";\nimport {SelectItemService} from \"../select-item.service\";\nimport {SettingsService} from \"../settings.service\";\n\n@Component({\n    selector: 'settings-list',\n    templateUrl: './settings-list.component.html',\n    styleUrls: ['./settings-list.component.css']\n})\nexport class SettingsListComponent implements OnInit {\n    groupedSettings: any = null;\n    domains: Domain[] = null;\n\n    settingsLoaded: boolean = false;\n    domainsLoaded: boolean = false;\n\n    selectedDomain: number = 1;\n    selectedGroupTitle: string = null;\n\n    loadGroup(groupTitle: string) {\n        this.selectedGroupTitle = groupTitle;\n        let group = this.groupedSettings[this.selectedDomain][groupTitle];\n        this.selectItemService.emit(new SelectItemEvent(\n            SelectItemEvent.Type.SettingsGroup,\n            {\n                groupTitle: groupTitle,\n                groupData: group\n            }\n        ));\n    }\n\n    constructor(private pageService: PagesService,\n                private selectItemService: SelectItemService,\n                private settingsService: SettingsService,) {\n    }\n\n    loadSettings(): void {\n        this.getSettings();\n        for (let domain of this.domains) {\n            this.getSettings(domain.id);\n        }\n    };\n\n    getSettings(siteId?: number): void {\n        this.settingsService.getSettings(siteId)\n            .subscribe(settings => {\n                this.groupedSettings[siteId ? siteId : 0] = settings;\n                this.settingsLoaded = true;\n            });\n    }\n\n    getDomains(): void {\n\n        this.pageService.getDomains()\n            .subscribe(domains => {\n                this.domains = domains;\n                this.domainsLoaded = true;\n                this.loadSettings();\n            });\n    }\n\n    ngOnInit() {\n        this.groupedSettings = [];\n        this.getDomains();\n    }\n}","import { Injectable } from '@angular/core';\nimport { Page } from './models/page.interface';\nimport { PageFields } from './models/page-fields.interface';\nimport { Domain } from './models/domain.interface';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Observable, Subject, pipe } from 'rxjs';\nimport {Settings} from \"./models/settings\";\nimport {Room} from \"./models/room\";\n\n@Injectable()\nexport class SettingsService {\n\n  private settingsUrl      = '/api/settings';\n\n  constructor(private http: HttpClient) {}\n\n  getSettings(siteId?: number): Observable<any> {\n      return this.http.get<any>(this.settingsUrl + (siteId ? '?site_id=' + siteId : ''));\n  }\n\n  save(item: Settings) {\n      return this.http.put(this.settingsUrl + '/' + item.id, item).subscribe();\n  }\n}","module.exports = \".settings-container {\\n  overflow: hidden;\\n}\\n.settings-sub-group {\\n  width: 900px;\\n  margin: 20px;\\n  border: 1px solid #000;\\n}\\n.settings-sub-group header {\\n  background: #f8efc0;\\n}\\n\"","module.exports = \"<div class=\\\"settings-container\\\">\\n    <div class=\\\"settings-sub-group\\\" *ngFor=\\\"let subGroupTitle in groupSettings\\\">\\n        <header>{{subGroupTitle}}</header>\\n        <section class=\\\"settings-list\\\">\\n            <div *ngFor=\\\"let item of groupSettings[subGroupTitle]\\\">\\n                <app-page-editor-field [title]=\\\"item.key\\\" [params]=\\\"item\\\" [valueSet]=\\\"item\\\" [valueKey]=\\\"'value'\\\"></app-page-editor-field>\\n            </div>\\n        </section>\\n    </div>\\n    <button (click)=\\\"save()\\\">save</button>\\n</div>\"","import {ChangeDetectionStrategy, ChangeDetectorRef, Component, OnInit, ViewChild} from '@angular/core';\nimport { PagesService } from '../pages.service';\nimport { Page } from '../models/page.interface';\nimport { Domain } from '../models/domain.interface';\n\nimport {SelectItemService} from \"../select-item.service\";\nimport {SelectItemEvent} from \"../models/select-item-event\";\nimport {PageFields} from \"../models/page-fields.interface\";\nimport {Subject} from \"rxjs/Subject\";\nimport {BsModalRef, BsModalService} from \"ngx-bootstrap\";\nimport {SettingsService} from \"../settings.service\";\n\n@Component({\n  selector: 'app-settings',\n  templateUrl: './settings.component.html',\n  styleUrls: ['./settings.component.css', '../page-editor-field/page-editor-field.component.css'],\n})\nexport class SettingsComponent implements OnInit {\n\n\tprivate groupSettings = null;\n\n\tprivate initialValues;\n\n\tconstructor(\n\t\tprivate pageService: PagesService,\n\t\tprivate selectItemService: SelectItemService,\n\t\tprivate settinsService: SettingsService\n\t) {\n        selectItemService.event$.subscribe((event: SelectItemEvent) => {\n            if (event.itemType === SelectItemEvent.Type.SettingsGroup) {\n                this.groupSettings = event.payload.groupData;\n                this.initialValues = [];\n                for (let subGroupTitle in this.groupSettings) {\n                \tfor (let item of this.groupSettings[subGroupTitle]) {\n                \t\tthis.initialValues[item.id] = item.value;\n\t\t\t\t\t}\n\t\t\t\t}\n                //console.log('ivaules:');\n                //console.log(this.initialValues);\n            }\n        });\n\t}\n\n\tpublic save() {\n        for (let subGroupTitle in this.groupSettings) {\n            for (let item of this.groupSettings[subGroupTitle]) {\n                if (this.initialValues[item.id] !== item.value) {\n                \tthis.settinsService.save(item);\n\t\t\t\t}\n            }\n        }\n\t}\n\n\tngOnInit() {\n\n\t}\n}\n","import { Injectable } from '@angular/core';\nimport {State} from \"./models/state\";\n\nexport function bindToComponentState(target: State, property): any {\n    let val;\n    return {\n        set: function (value) {\n            val = value;\n            this.setStateProperty(property, value);\n        },\n        get: function() {\n            return val;\n        },\n        enumerable: true,\n        configurable: true\n    };\n};\n\nexport function getFromLocalStorage(key: string) {\n    if (localStorage[key] === undefined) {\n        return [];\n    }\n\n    return JSON.parse(localStorage[key]);\n}","module.exports = \".bordered-section {\\n  border: 1px solid #444;\\n  margin: 5px;\\n}\\n.shadowed {\\n  box-shadow: 0 0 25px rgba(0, 0, 0, 0.2);\\n}\\n.put-right {\\n  position: absolute;\\n  right: 11px;\\n  left: 350px;\\n  top: 17px;\\n  max-height: 100%;\\n  overflow-y: auto;\\n}\\n:host > div:not(.inline) {\\n  width: 100%;\\n  display: block;\\n  position: relative;\\n  text-align: left;\\n  padding: 10px;\\n}\\n:host .inline {\\n  display: inline-block;\\n}\\n:host .inline .selected-tags-list {\\n  margin-top: 0!important;\\n}\\n:host .inline .filter-group {\\n  display: inline-block;\\n  vertical-align: top;\\n  height: 40px;\\n  padding: 10px;\\n}\\n:host .inline .filter-group .field-wrapper {\\n  display: block;\\n}\\n:host .inline .filter-group .selected-tags-list,\\n:host .inline .filter-group .field-wrapper :not(.tag),\\n:host .inline .filter-group .selected-tags-list * {\\n  display: inline-block;\\n}\\n:host .inline .filter-group .tags-list-box {\\n  top: 30px;\\n}\\n.input-wrapper {\\n  position: relative;\\n}\\n.input-wrapper input {\\n  width: 100%;\\n  border-color: #ced4da;\\n}\\n.input-wrapper .tags-list-box {\\n  position: absolute;\\n  z-index: 99;\\n  left: 0;\\n  width: 100%;\\n  margin-top: 5px;\\n  box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);\\n  background-color: #fff;\\n}\\n.input-wrapper .tags-list-box .tag {\\n  padding: 5px;\\n  padding-left: 10px;\\n}\\n.input-wrapper .tags-list-box .tag.selected {\\n  background-color: #e1e1e1;\\n}\\n.selected-tags-list {\\n  margin-top: 10px;\\n}\\n.selected-tags-list .tag {\\n  border-radius: 18px;\\n  background-color: #f8efc0;\\n  color: #000;\\n  padding: 5px;\\n  margin: 0 4px;\\n  padding-left: 10px;\\n  padding-right: 20px;\\n  display: inline-block;\\n  position: relative;\\n  margin-bottom: 8px;\\n}\\n.selected-tags-list .tag .close {\\n  top: 11px;\\n  right: 6px;\\n  font-size: 0.7em;\\n  position: absolute;\\n}\\n.filter-group:not(:last-child) {\\n  margin-bottom: 15px;\\n}\\n\"","module.exports = \"<div *ngIf=\\\"imageFilters !== null\\\" (click)=\\\"blurProcessing($event)\\\" [class.inline]=\\\"inline\\\">\\n    <div class=\\\"filter-group\\\">\\n        Тип:\\n        <select *ngIf=\\\"fixedImageTypeId ===  null\\\" [(ngModel)]=\\\"filter.selectedType\\\" class=\\\"form-control form-control-lg field-wrapper\\\" (ngModelChange)=\\\"applyFilter()\\\">\\n            <option selected [value]=\\\"null\\\">Любой</option>\\n            <option *ngFor='let type of imageFilters.types' [value]=\\\"type.id\\\">{{type.name}}</option>\\n        </select>\\n        <ng-template *ngIf=\\\"fixedImageTypeId !== null\\\">{{fixedImageTypeId}}</ng-template>\\n    </div>\\n    <div class=\\\"filter-group\\\">\\n        Теги:\\n        <div class=\\\"field-wrapper\\\">\\n            <div class=\\\"input-wrapper\\\">\\n                <input class=\\\"form-control form-control-lg\\\" (click)=\\\"showAvailableTags()\\\" [(ngModel)]=\\\"tagsFilter\\\"\\n                       (keydown.arrowup)=\\\"decreaseSelectedTagIndex()\\\"\\n                       (keydown.arrowdown)=\\\"increaseSelectedTagIndex()\\\"\\n                       (keyup.enter)=\\\"selectTag()\\\"\\n                       [focus]=\\\"focusEventEmitter\\\" id=\\\"tags-input\\\"\\n                >\\n                <div class=\\\"tags-list-box\\\" id=\\\"tags-list-box\\\" *ngIf=\\\"showTagsBox\\\">\\n                    <div class=\\\"tag\\\" [class.selected]=\\\"i === selectedTagIndex\\\" *ngFor=\\\"let tag of getFilteredTags; let i = index;\\\" (mouseup)=\\\"selectTag(tag)\\\" (mouseenter)=\\\"setSelectedTagIndex(i)\\\">\\n                        {{ tag }}\\n                    </div>\\n                </div>\\n            </div>\\n            <div class=\\\"selected-tags-list\\\">\\n                <div class=\\\"tag\\\" *ngFor=\\\"let tag of filter.selectedTags\\\">\\n                    {{ tag }}\\n                    <i class=\\\"fa fa-close close\\\" (click)=\\\"unselectTag(tag)\\\"></i>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\\"filter-group\\\" *ngIf=\\\"showShowTitles\\\">\\n        Показывать подписи<mat-checkbox [color]=\\\"'primary'\\\" [(ngModel)]=\\\"filter.showDescriptions\\\" (ngModelChange)=\\\"applyFilter()\\\"></mat-checkbox>\\n    </div>\\n</div>\\n\"","import {Component, EventEmitter, Input, OnChanges, OnInit, SimpleChanges} from '@angular/core';\nimport {SubMenuComponent} from '../sub-menu.component';\nimport {PagesListComponent} from '../../pages-list/pages-list.component'\nimport {ModelService} from \"../../model.service\";\nimport {ImageFilters} from \"../../models/image-filters\";\nimport {SelectItemService} from \"../../select-item.service\";\nimport {SelectItemEvent} from \"../../models/select-item-event\";\nimport {ImageFilter} from \"../../models/image-filter\";\n\n\n@Component({\n    selector: 'sub-menu-images',\n    templateUrl: './images.component.html',\n    styleUrls: ['./images.component.css'],\n})\nexport class SubMenuImagesComponent extends SubMenuComponent {\n\n    private filter: ImageFilter;\n\n    private tagsFilter: string = '';\n\n    private showTagsBox: boolean = false;\n\n    private selectedTagIndex: number = 0;\n\n    public focusEventEmitter = new EventEmitter<boolean>();\n\n    @Input()\n    inline: boolean = false;\n\n    @Input()\n    showShowTitles: boolean = true;\n\n    @Input()\n    fixedImageTypeId: number = null;\n\n    private isTagSelected(tag: string): boolean {\n        return !!this.filter.selectedTags.find(t => t === tag);\n    }\n\n    public setSelectedTagIndex(index) {\n        this.selectedTagIndex = index;\n    }\n\n    public increaseSelectedTagIndex() {\n        this.selectedTagIndex++;\n        if (this.selectedTagIndex >= this.getFilteredTags.length) {\n            this.selectedTagIndex = 0;\n        }\n    }\n\n    public blurProcessing($event) {\n        if ($event.srcElement.id !== 'tags-input' && $event.srcElement.id !== 'tags-list-box') {\n            console.log('hide');\n            this.showAvailableTags(false);\n            this.focusEventEmitter.emit(false);\n        }\n    }\n\n    public decreaseSelectedTagIndex() {\n        this.selectedTagIndex--;\n        if (this.selectedTagIndex < 0) {\n            this.selectedTagIndex = this.getFilteredTags.length - 1;\n        }\n    }\n\n    private showAvailableTags(show: boolean = true) {\n        if (show) {\n            this.selectedTagIndex = 0;\n        }\n        this.showTagsBox = show;\n    }\n\n    public applyFilter() {\n        this.selectItemService.emitEventOfType(SelectItemEvent.Type.ApplyFilter, {\n            'filter': this.filter\n        });\n    }\n\n    public unselectTag(tag: string) {\n        this.filter.selectedTags = this.filter.selectedTags.filter(t => t !== tag);\n        this.applyFilter();\n    }\n\n    public processBlur($event) {\n        console.log($event);\n    }\n\n    public selectTag(tag: string = null) {\n\n        if (tag === null) {\n            tag = this.getFilteredTags[this.selectedTagIndex];\n        }\n\n        if (!this.filter.selectedTags.find(t => t === tag)) {\n            this.filter.selectedTags.push(tag);\n            this.tagsFilter = '';\n            this.showAvailableTags(false);\n            this.focusEventEmitter.emit(false);\n            this.applyFilter();\n        }\n    }\n\n    public get getFilteredTags() {\n        let result = [];\n        if (!this.tagsFilter) {\n            result = this.imageFilters.tags.filter((tag) => {\n                return !this.isTagSelected(tag);\n            });\n        } else {\n            result = this.imageFilters.tags.filter((tag) => {\n                return tag.startsWith(this.tagsFilter) && !this.isTagSelected(tag);\n            });\n        }\n\n        return result.sort((a: string, b: string) => {\n            a = a.toLowerCase();\n            b = b.toLowerCase();\n            return a < b ? -1 : (a > b ? 1 : 0);\n        });\n    }\n\n    private imageFilters: ImageFilters = null;\n\n    public constructor(private modelService: ModelService,\n                       private selectItemService: SelectItemService) {\n        super();\n        this.filter = new ImageFilter();\n        this.filter.selectedTags = [];\n        this.filter.selectedType = null;\n        this.selectItemService.event$.subscribe((event: SelectItemEvent) => {\n            if (event.itemType === SelectItemEvent.Type.NewTag) {\n                const tag = event.payload.tag;\n                if (this.imageFilters.tags.find(t => t === tag) === undefined) {\n                    this.imageFilters.tags.push(tag);\n                }\n            }\n\n            if (event.itemType === SelectItemEvent.Type.RefreshTags) {\n                this.loadImageFilters();\n            }\n        });\n    }\n\n    private loadImageFilters() {\n        this.modelService.getImageFilters().subscribe((filters) => {\n            this.imageFilters = filters;\n            if (this.filter.selectedTags.length) {\n                let oldSelectedTags = Object.assign({}, this.filter.selectedTags);\n                this.filter.selectedTags = this.filter.selectedTags.filter(tag => {\n                    return !!this.imageFilters.tags.find(t => t === tag);\n                });\n\n                if (oldSelectedTags !== this.filter.selectedTags) {\n                    this.applyFilter();\n                }\n            }\n        });\n    }\n\n    ngOnInit() {\n        this.loadImageFilters();\n    }\n\n}","module.exports = \".bordered-section {\\n  border: 1px solid #444;\\n  margin: 5px;\\n}\\n.shadowed {\\n  box-shadow: 0 0 25px rgba(0, 0, 0, 0.2);\\n}\\n.put-right {\\n  position: absolute;\\n  right: 11px;\\n  left: 350px;\\n  top: 17px;\\n  max-height: 100%;\\n  overflow-y: auto;\\n}\\n:host {\\n  width: 100%;\\n  display: block;\\n  overflow: hidden;\\n  position: relative;\\n}\\n\"","module.exports = \"<pages-list></pages-list>\"","import { Component, OnInit } from '@angular/core';\nimport { SubMenuComponent } from '../sub-menu.component';\nimport { PagesListComponent } from '../../pages-list/pages-list.component'\n\n@Component({\n  selector: 'sub-menu-pages',\n  templateUrl: './pages.component.html',\n  styleUrls: ['./pages.component.css'],\n})\nexport class SubMenuPagesComponent extends SubMenuComponent {\n\n  ngOnInit() {\n  }\n\n}","module.exports = \".bordered-section {\\n  border: 1px solid #444;\\n  margin: 5px;\\n}\\n.shadowed {\\n  box-shadow: 0 0 25px rgba(0, 0, 0, 0.2);\\n}\\n.put-right {\\n  position: absolute;\\n  right: 11px;\\n  left: 350px;\\n  top: 17px;\\n  max-height: 100%;\\n  overflow-y: auto;\\n}\\n:host {\\n  width: 100%;\\n  display: block;\\n  overflow: hidden;\\n  position: relative;\\n}\\n\"","module.exports = \"<settings-list></settings-list>\"","import { Component, OnInit } from '@angular/core';\nimport { SubMenuComponent } from '../sub-menu.component';\nimport { SettingsListComponent } from '../../settings-list/settings-list.component'\n\n@Component({\n  selector: 'sub-menu-settings',\n  templateUrl: './settings.component.html',\n  styleUrls: ['./settings.component.css'],\n})\nexport class SubMenuSettingsComponent extends SubMenuComponent {\n\n  ngOnInit() {\n  }\n\n}","module.exports = \".bordered-section {\\n  border: 1px solid #444;\\n  margin: 5px;\\n}\\n.shadowed {\\n  box-shadow: 0 0 25px rgba(0, 0, 0, 0.2);\\n}\\n.put-right {\\n  position: absolute;\\n  right: 11px;\\n  left: 350px;\\n  top: 17px;\\n  max-height: 100%;\\n  overflow-y: auto;\\n}\\n.sub-menu {\\n  background-color: #fff;\\n  position: relative;\\n}\\n.sub-menu .navbar-selector-item {\\n  border: none!important;\\n}\\n.triangle.top {\\n  top: 0;\\n  right: 50%;\\n  position: absolute;\\n  content: '';\\n  display: block;\\n  width: 10px;\\n  height: 10px;\\n  background: #fff;\\n  -webkit-transform: rotate(45deg);\\n  transform: rotate(45deg);\\n  z-index: 1;\\n  margin-top: calc(-10px/2);\\n}\\n.sub-menu-items {\\n  display: none;\\n}\\n.active + .sub-menu-items {\\n  display: initial;\\n}\\n.menu-items {\\n  padding-left: 0;\\n  background-color: #eee;\\n}\\n.menu-items li {\\n  text-align: center;\\n}\\n.menu-items li a {\\n  color: #444;\\n  width: 100%;\\n}\\n.menu-items li a.active {\\n  background-color: #bbb;\\n}\\n\"","module.exports = \"<div class=\\\"sub-menu\\\">\\n  <div class=\\\"triangle top\\\" *ngIf=\\\"subMenu !== null &&\\n  (subMenu.getType() === 'pages' ||\\n   subMenu.getType() === 'settings' ||\\n   subMenu.getType() === 'images')\\\">\\n  </div>\\n  <sub-menu-pages *ngIf=\\\"subMenu !== null && subMenu.getType() === 'pages'\\\"></sub-menu-pages>\\n  <sub-menu-settings *ngIf=\\\"subMenu !== null && subMenu.getType() === 'settings'\\\"></sub-menu-settings>\\n  <sub-menu-images *ngIf=\\\"subMenu !== null && subMenu.getType() === 'images'\\\"></sub-menu-images>\\n</div>\"","import { Component, OnInit, Input, ViewEncapsulation } from '@angular/core';\nimport { SubMenu } from '../models/sub-menu';\nimport { SubMenuPagesComponent } from './pages/pages.component';\n\n@Component({\n  selector: 'sub-menu',\n  templateUrl: './sub-menu.component.html',\n  styleUrls: ['./sub-menu.component.css'],\n  encapsulation: ViewEncapsulation.None,\n})\n\nexport class SubMenuComponent implements OnInit {\n\n  @Input() subMenu: SubMenu;\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","module.exports = \"<div class=\\\"object-editor\\\" [ngClass]=\\\"{active: trainer !== null}\\\">\\n  <div class=\\\"close\\\" (click)=\\\"close()\\\">\\n    <i class=\\\"fa fa-window-close\\\" aria-hidden=\\\"true\\\"></i>\\n  </div>\\n  <div *ngIf=\\\"trainer !== null\\\">\\n    <div class=\\\"field name\\\">\\n      <span class=\\\"label\\\">Имя тренера</span>\\n      <input type=\\\"text\\\" [(ngModel)]=\\\"trainer.name\\\">\\n    </div>\\n\\n    <div class=\\\"field vk\\\">\\n      <span class=\\\"label\\\"><mat-checkbox [color]=\\\"'primary'\\\" [checked]=\\\"trainer.has_vk\\\" (change)=\\\"trainer.has_vk = 1 - trainer.has_vk\\\"></mat-checkbox> <a target=\\\"_blank\\\" href=\\\"{{trainer.vk_link}}\\\">VK</a></span>\\n      <input type=\\\"text\\\" [(ngModel)]=\\\"trainer.vk_link\\\" [disabled]=\\\"!trainer.has_vk\\\">\\n    </div>\\n    <div class=\\\"field fb\\\">\\n      <span class=\\\"label\\\"><mat-checkbox [color]=\\\"'primary'\\\" [checked]=\\\"trainer.has_fb\\\" (change)=\\\"trainer.has_fb = 1 - trainer.has_fb\\\"></mat-checkbox> <a target=\\\"_blank\\\" href=\\\"{{trainer.fb_link}}\\\">FB</a></span>\\n      <input type=\\\"text\\\" [(ngModel)]=\\\"trainer.fb_link\\\" [disabled]=\\\"!trainer.has_fb\\\">\\n    </div>\\n    <div class=\\\"field inst\\\">\\n      <span class=\\\"label\\\"><mat-checkbox [color]=\\\"'primary'\\\" [checked]=\\\"trainer.has_inst\\\" (change)=\\\"trainer.has_inst = 1 - trainer.has_inst\\\"></mat-checkbox> <a target=\\\"_blank\\\" href=\\\"{{trainer.inst_link}}\\\">Insta</a></span>\\n      <input type=\\\"text\\\" [(ngModel)]=\\\"trainer.inst_link\\\" [disabled]=\\\"!trainer.has_inst\\\">\\n    </div>\\n\\n\\n    <div class=\\\"field\\\">\\n      <span class=\\\"label\\\">Изображение</span>\\n      <img width=\\\"200px\\\" *ngIf=\\\"trainer.img_src\\\" (click)=\\\"chooser.showPopup()\\\" src=\\\"/{{trainer.img_src}}\\\">\\n      <button *ngIf=\\\"!trainer.img_src\\\" (click)=\\\"chooser.showPopup()\\\">Browse</button>\\n      <app-image-chooser-popup #chooser (selectedImageId)=\\\"selectImage($event)\\\" [multiple]=\\\"false\\\" [fixedImageTypeId]=\\\"1\\\"></app-image-chooser-popup>\\n    </div>\\n\\n    <div class=\\\"field\\\">\\n      <span class=\\\"label\\\">Должность</span>\\n      <input type=\\\"text\\\" [(ngModel)]=\\\"trainer.position\\\">\\n    </div>\\n\\n    <div class=\\\"field\\\">\\n      <span class=\\\"label\\\">В 2 строки</span>\\n      <span [ngSwitch]=\\\"language\\\">\\n        <mat-checkbox [color]=\\\"'primary'\\\" *ngSwitchCase=\\\"1\\\" [(ngModel)]=\\\"trainer.two_lines_position\\\"></mat-checkbox>\\n        <mat-checkbox [color]=\\\"'primary'\\\" *ngSwitchCase=\\\"2\\\" [(ngModel)]=\\\"trainer.two_lines_position_en\\\"></mat-checkbox>\\n      </span>\\n    </div>\\n\\n    <div class=\\\"field\\\">\\n      <span class=\\\"label\\\">Описание</span>\\n      <textarea ngxTrumbowygEditor [(ngModel)]=\\\"trainer.description\\\"></textarea>\\n    </div>\\n\\n    <div class=\\\"field\\\">\\n      <span class=\\\"label\\\">Путь URL</span>\\n      <input type=\\\"text\\\" [(ngModel)]=\\\"trainer.alias\\\">\\n    </div>\\n\\n\\n    <div class=\\\"buttons\\\">\\n      <button class=\\\"ripple module-control-button-element default\\\" (click)=\\\"save()\\\">Сохранить</button>\\n      <button class=\\\"ripple module-control-button-element delete\\\" (click)=\\\"openModal(confirmDelete)\\\">Удалить</button>\\n    </div>\\n  </div>\\n</div>\\n<ng-template #confirmDelete>\\n  <div class=\\\"modal-header\\\">\\n    <h4 class=\\\"modal-title pull-left\\\">Вы точно хотите удалить этого тренера?</h4>\\n    <button type=\\\"button\\\" class=\\\"close pull-right\\\" aria-label=\\\"Close\\\" (click)=\\\"modalRef.hide()\\\">\\n      <span aria-hidden=\\\"true\\\">&times;</span>\\n    </button>\\n  </div>\\n  <div class=\\\"modal-body\\\">\\n    <button class=\\\"btn btn-primary\\\" (click)=\\\"modalRef.hide()\\\">отмена</button>\\n    <button class=\\\"btn btn-danger\\\" (click)=\\\"delete()\\\">да, удалить</button>\\n  </div>\\n</ng-template>\"","import {Component, OnInit, TemplateRef, ViewChild} from '@angular/core';\nimport {SelectItemEvent} from \"../models/select-item-event\";\nimport {SelectItemService} from \"../select-item.service\";\nimport {Trainer} from \"../models/trainer\";\nimport {ModelService} from \"../model.service\";\nimport {BsModalRef, BsModalService} from \"ngx-bootstrap\";\nimport {ReadFile} from 'ngx-file-helpers';\nimport {MenuService} from \"../menu.service\";\nimport {CmsImage} from \"../models/cms-image\";\n\n\n@Component({\n  selector: 'trainer-editor',\n  templateUrl: './trainer-editor.component.html',\n  styleUrls: ['../common/object-editor.component.css'],\n})\nexport class TrainerEditorComponent implements OnInit {\n\n  modalRef: BsModalRef;\n\n  public trainer: Trainer;\n\n  public newImageFile: ReadFile;\n\n  private language: number = 1;\n\n  constructor(\n      private selectItemService: SelectItemService,\n      private modelService: ModelService,\n      private modalService: BsModalService,\n  ) {\n\n      this.selectItemService.event$.subscribe((event: SelectItemEvent) => {\n          if (event.itemType === SelectItemEvent.Type.TrainerSelect) {\n              this.trainer = event.payload.trainer;\n              if (!event.payload.initial) {\n                  this.selectItemService.emitCloseAll('trainer');\n              }\n          } else if (event.itemType === SelectItemEvent.Type.CloseAllSelectedItems && event.payload.model !== 'trainer') {\n              this.close();\n          } else if (event.itemType === SelectItemEvent.Type.LanguageChange) {\n              this.language = event.payload.language;\n          }\n      });\n\n  }\n\n  selectImage(image: CmsImage) {\n      this.trainer.img_id = image.id;\n      this.trainer.img_src = image.filename;\n  }\n\n  openModal(template: TemplateRef<any>, options) {\n      this.modalRef = this.modalService.show(template, options);\n  }\n\n  public close() {\n      if (this.trainer !== null) {\n          this.selectItemService.emit(\n              new SelectItemEvent(SelectItemEvent.Type.TrainerClose, {\n                  trainerId: this.trainer.id\n              })\n          );\n      }\n\n      this.trainer = null;\n  }\n\n  public save()\n  {\n      let trainerItem = Object.setPrototypeOf(this.trainer, Trainer.prototype);\n      this.modelService.saveTrainer(trainerItem);\n  }\n\n  public delete()\n  {\n      this.modelService.deleteTrainer(this.trainer)\n          .subscribe(() => {\n              let trainerId = this.trainer.id;\n              this.trainer = null;\n              this.modalRef.hide();\n              this.selectItemService.emit(\n                  new SelectItemEvent(SelectItemEvent.Type.RoomRemove, {\n                      trainerId: trainerId\n                  }));\n          });\n  }\n\n  public dropped(file: ReadFile) {\n      this.newImageFile = file;\n      //this.cropper.setImage(this.newImageFile.content);\n  }\n\n  public cancelImage() {\n      this.newImageFile = null;\n  }\n\n  public fileOver(event) {\n      //console.log(event);\n  }\n\n  public fileLeave(event) {\n      //console.log(event);\n  }\n\n\n  ngOnInit() {\n    this.trainer = null;\n    this.newImageFile = null;\n  }\n}\n","module.exports = \"<div class=\\\"content\\\">\\n    <div class=\\\"module-list\\\">\\n        <ul class=\\\"object-list-element\\\" *ngIf=\\\"trainers !== null\\\" [ngClass]=\\\"{active: selectedTrainer !== null}\\\" #trainersList>\\n            <li class=\\\"object-item\\\" *ngFor=\\\"let trainer of trainers\\\" (click)=\\\"loadTrainer(trainer)\\\" [ngClass]=\\\"{active: this.selectedTrainer && trainer.id == selectedTrainer.id}\\\">\\n                <h2 class=\\\"object-name\\\">\\n                    {{trainer.name | wordCountLimit: 2 }}\\n                    <a *ngIf=\\\"getTrainerPageUrl(trainer) !== null\\\" [href]=\\\"getTrainerPageUrl(trainer)\\\" target=\\\"_blank\\\"><i class=\\\"fa fa-external-link\\\" aria-hidden=\\\"true\\\"></i></a>\\n                </h2>\\n            </li>\\n        </ul>\\n        <div class=\\\"toolbar-element\\\">\\n            <div (click)=\\\"openModal(createTrainer)\\\"><i class=\\\"fa fa-plus\\\"></i></div>\\n            <div (click)=\\\"openModal(reorderTrainers)\\\"><i class=\\\"fa fa-bars\\\"></i></div>\\n        </div>\\n    </div>\\n    <div class=\\\"module-editor module-editor-visible\\\" [ngClass]=\\\"{'visible': selectedTrainer != null}\\\">\\n        <trainer-editor></trainer-editor>\\n    </div>\\n</div>\\n<ng-template #reorderTrainers>\\n    <div class=\\\"modal-header\\\">\\n        <h4 class=\\\"modal-title\\\">Поменять местами</h4>\\n        <button type=\\\"button\\\" class=\\\"close\\\" aria-label=\\\"Close\\\" (click)=\\\"modalRef.hide()\\\">\\n            <span aria-hidden=\\\"true\\\">&times;</span>\\n        </button>\\n    </div>\\n    <div class=\\\"modal-body\\\">\\n        <bs-sortable *ngIf=\\\"trainers\\\"\\n                     [(ngModel)]=\\\"trainers\\\"\\n                     itemClass=\\\"sortable-item\\\"\\n                     itemActiveClass=\\\"sortable-item-active\\\"\\n                     placeholderItem=\\\"Drag here\\\"\\n                     placeholderClass=\\\"placeholderStyle\\\"\\n                     wrapperClass=\\\"sortable-wrapper\\\"\\n                     fieldName=\\\"name\\\"\\n        ></bs-sortable>\\n    </div>\\n    <div class=\\\"modal-footer\\\">\\n        <button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" (click)=\\\"reorderApply();modalRef.hide();\\\">Да</button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" (click)=\\\"modalRef.hide()\\\">Отмена</button>\\n    </div>\\n</ng-template>\\n\\n<ng-template #createTrainer>\\n    <div class=\\\"modal-header\\\">\\n        <h4 class=\\\"modal-title pull-left\\\">Создать нового тренера</h4>\\n        <button type=\\\"button\\\" class=\\\"close pull-right\\\" aria-label=\\\"Close\\\" (click)=\\\"modalRef.hide()\\\">\\n            <span aria-hidden=\\\"true\\\">&times;</span>\\n        </button>\\n    </div>\\n    <div class=\\\"modal-body\\\">\\n        <div>\\n            Введите имя вашего любимого тренера:\\n        </div>\\n        <div>\\n            <input type=\\\"text\\\" #newTrainerName>\\n        </div>\\n        <div>\\n            <button class=\\\"btn btn-primary\\\" (click)=\\\"createNewTrainer(newTrainerName.value)\\\">создать</button>\\n        </div>\\n    </div>\\n</ng-template>\"","import {Component, OnInit, TemplateRef, ViewChild} from '@angular/core';\nimport {ModelService} from \"../model.service\";\nimport {Trainer} from \"../models/trainer\";\nimport {SelectItemEvent} from \"../models/select-item-event\";\nimport {SelectItemService} from \"../select-item.service\";\nimport {BsModalRef, BsModalService} from \"ngx-bootstrap\";\nimport {State} from \"../models/state\";\nimport {bindToComponentState} from \"../storage\";\nimport {PagesService} from \"../pages.service\";\n\n@Component({\n    selector: 'trainers',\n    templateUrl: './trainers.component.html',\n    styleUrls: ['../common/object-list.component.css'],\n})\nexport class TrainersComponent extends State implements OnInit {\n\n    @ViewChild('trainersList') trainersContainer: any;\n\n    static DETAIL_TRAINER_PAGE_ID = 29;\n\n    modalRef: BsModalRef;\n\n    openModal(template: TemplateRef<any>) {\n        this.modalRef = this.modalService.show(template);\n    }\n\n    processLoadedState() {\n        let state = this.getState();\n        for (let key in state) {\n            this[key] = state[key];\n        }\n\n        if (this.selectedTrainer !== null && this.trainers) {\n            this.loadTrainer(this.trainers.find(t => t.id == this.selectedTrainer.id), true);\n        }\n    }\n\n    detailPage = null;\n\n    getTrainerPageUrl(trainer: Trainer)\n    {\n        if (!trainer.alias || !trainer.alias.trim()) {\n            return null;\n        }\n\n        if (this.detailPage === null) {\n            this.pagesService.getPage(TrainersComponent.DETAIL_TRAINER_PAGE_ID).subscribe((page) => {\n               this.detailPage = page;\n            });\n        } else {\n            let aliasRegex = /<alias:(.*)>/gi;\n            return this.detailPage.url.replace(aliasRegex, trainer.alias);\n        }\n\n        return null;\n    }\n\n    reorderApply() {\n        this.modelService.reorderApply('trainer', this.trainers);\n    }\n\n    public trainers: Trainer[];\n\n    @bindToComponentState\n    public selectedTrainer: Trainer;\n\n    public newTrainer: Trainer;\n\n    constructor(private modelService: ModelService,\n                private pagesService: PagesService,\n                private selectItemService: SelectItemService,\n                private modalService: BsModalService,) {\n        super();\n        this.newTrainer = new Trainer();\n\n        selectItemService.event$.subscribe((event: SelectItemEvent) => {\n            if (event.itemType === SelectItemEvent.Type.TrainerRemove) {\n                this.trainers = this.trainers.filter(t => t.id !== event.payload.trainerId);\n            } else if (event.itemType === SelectItemEvent.Type.LanguageChange) {\n                this.loadTrainers(true);\n            } else if (event.itemType === SelectItemEvent.Type.TrainerClose) {\n                if (this.selectedTrainer.id == event.payload.trainerId) {\n                    this.unselectTrainer();\n                }\n            }\n        });\n    }\n\n    private loadTrainers(force: boolean = false) {\n        this.modelService.getTrainers().subscribe(trainers => {\n            trainers.sort((a, b) => {\n                return a.n - b.n\n            });\n            this.trainers = trainers;\n            this.processLoadedState();\n            if (force) {\n                if (this.selectedTrainer !== null) {\n                    const selectedTrainerId = this.selectedTrainer.id;\n                    this.selectedTrainer = this.trainers.find(t => t.id == selectedTrainerId);\n                    this.loadTrainer(this.selectedTrainer);\n                }\n            }\n        });\n    }\n\n    private unselectTrainer() {\n        this.selectedTrainer = null;\n    }\n\n    public loadTrainer(trainer: Trainer, initial:boolean = false) {\n        this.selectedTrainer = trainer;\n        this.selectItemService.emit(new SelectItemEvent(\n            SelectItemEvent.Type.TrainerSelect,\n            {\n                trainer: trainer,\n                initial: initial\n            }\n        ));\n    }\n\n    public createNewTrainer(newTrainerName) {\n        this.newTrainer.name = newTrainerName;\n\n        this.modelService.createTrainer(this.newTrainer).subscribe(trainer => {\n            this.trainers.push(trainer as Trainer);\n            this.loadTrainer(trainer as Trainer);\n            this.modalRef.hide();\n            this.newTrainer = new Trainer();\n            this.trainersContainer.scrollTop = this.trainersContainer.scrollHeight;\n        });\n    }\n\n    ngOnInit() {\n        this.loadTrainers();\n    }\n}\n","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: true\n};\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.log(err));\n"],"sourceRoot":""}