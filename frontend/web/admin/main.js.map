{"version":3,"sources":["webpack:///./src/$_lazy_route_resource lazy namespace object","webpack:///./src/app/app-routing.module.ts","webpack:///./src/app/app.component.css","webpack:///./src/app/app.component.html","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/authentication.service.ts","webpack:///./src/app/click-stop-propogation.directive.ts","webpack:///./src/app/common/object-editor.component.css","webpack:///./src/app/common/object-list.component.css","webpack:///./src/app/components/app-helper.ts","webpack:///./src/app/filters/keys.ts","webpack:///./src/app/filters/values.ts","webpack:///./src/app/filters/word-count-limit.ts","webpack:///./src/app/focus.directive.ts","webpack:///./src/app/image-chooser-popup/image-chooser-popup.component.css","webpack:///./src/app/image-chooser-popup/image-chooser-popup.component.html","webpack:///./src/app/image-chooser-popup/image-chooser-popup.component.ts","webpack:///./src/app/image-chooser/image-chooser.component.css","webpack:///./src/app/image-chooser/image-chooser.component.html","webpack:///./src/app/image-chooser/image-chooser.component.ts","webpack:///./src/app/image-cropper/image-cropper.component.css","webpack:///./src/app/image-cropper/image-cropper.component.html","webpack:///./src/app/image-cropper/image-cropper.component.ts","webpack:///./src/app/images/images.component.css","webpack:///./src/app/images/images.component.html","webpack:///./src/app/images/images.component.ts","webpack:///./src/app/login/login.component.css","webpack:///./src/app/login/login.component.html","webpack:///./src/app/login/login.component.ts","webpack:///./src/app/menu.service.ts","webpack:///./src/app/menu/menu.component.css","webpack:///./src/app/menu/menu.component.html","webpack:///./src/app/menu/menu.component.ts","webpack:///./src/app/model.service.ts","webpack:///./src/app/models/base-api-model.ts","webpack:///./src/app/models/cms-image.ts","webpack:///./src/app/models/image-filter.ts","webpack:///./src/app/models/image-filters.ts","webpack:///./src/app/models/image-type.ts","webpack:///./src/app/models/menu-item.ts","webpack:///./src/app/models/notification-event.ts","webpack:///./src/app/models/restaurant-menu.ts","webpack:///./src/app/models/room.ts","webpack:///./src/app/models/select-item-event.ts","webpack:///./src/app/models/state.ts","webpack:///./src/app/models/sub-menu-images.ts","webpack:///./src/app/models/sub-menu-pages.ts","webpack:///./src/app/models/sub-menu-settings.ts","webpack:///./src/app/models/sub-menu.ts","webpack:///./src/app/models/trainer.ts","webpack:///./src/app/models/training-activity-type.ts","webpack:///./src/app/models/training-activity.ts","webpack:///./src/app/need-auth-guard.ts","webpack:///./src/app/ng-for-in.directive.ts","webpack:///./src/app/notification.service.ts","webpack:///./src/app/page-editor-field-extended/page-editor-field-extended.component.css","webpack:///./src/app/page-editor-field-extended/page-editor-field-extended.component.html","webpack:///./src/app/page-editor-field-extended/page-editor-field-extended.component.ts","webpack:///./src/app/page-editor-field/page-editor-field.component.css","webpack:///./src/app/page-editor-field/page-editor-field.component.html","webpack:///./src/app/page-editor-field/page-editor-field.component.ts","webpack:///./src/app/page-editor-tree-item/page-editor-tree-item.component.css","webpack:///./src/app/page-editor-tree-item/page-editor-tree-item.component.html","webpack:///./src/app/page-editor-tree-item/page-editor-tree-item.component.ts","webpack:///./src/app/page-editor-tree/page-editor-tree.component.css","webpack:///./src/app/page-editor-tree/page-editor-tree.component.html","webpack:///./src/app/page-editor-tree/page-editor-tree.component.ts","webpack:///./src/app/page/page.component.css","webpack:///./src/app/page/page.component.html","webpack:///./src/app/page/page.component.ts","webpack:///./src/app/pages-list/pages-list.component.css","webpack:///./src/app/pages-list/pages-list.component.html","webpack:///./src/app/pages-list/pages-list.component.ts","webpack:///./src/app/pages.service.ts","webpack:///./src/app/pages/pages.component.css","webpack:///./src/app/pages/pages.component.html","webpack:///./src/app/pages/pages.component.ts","webpack:///./src/app/room-editor/room-editor.component.css","webpack:///./src/app/room-editor/room-editor.component.html","webpack:///./src/app/room-editor/room-editor.component.ts","webpack:///./src/app/rooms/rooms.component.html","webpack:///./src/app/rooms/rooms.component.ts","webpack:///./src/app/select-item.service.ts","webpack:///./src/app/services/language.service.ts","webpack:///./src/app/settings-list/settings-list.component.css","webpack:///./src/app/settings-list/settings-list.component.html","webpack:///./src/app/settings-list/settings-list.component.ts","webpack:///./src/app/settings.service.ts","webpack:///./src/app/settings/settings.component.css","webpack:///./src/app/settings/settings.component.html","webpack:///./src/app/settings/settings.component.ts","webpack:///./src/app/storage.ts","webpack:///./src/app/sub-menu/images/images.component.css","webpack:///./src/app/sub-menu/images/images.component.html","webpack:///./src/app/sub-menu/images/images.component.ts","webpack:///./src/app/sub-menu/pages/pages.component.css","webpack:///./src/app/sub-menu/pages/pages.component.html","webpack:///./src/app/sub-menu/pages/pages.component.ts","webpack:///./src/app/sub-menu/settings/settings.component.css","webpack:///./src/app/sub-menu/settings/settings.component.html","webpack:///./src/app/sub-menu/settings/settings.component.ts","webpack:///./src/app/sub-menu/sub-menu.component.css","webpack:///./src/app/sub-menu/sub-menu.component.html","webpack:///./src/app/sub-menu/sub-menu.component.ts","webpack:///./src/app/trainer-editor/trainer-editor.component.html","webpack:///./src/app/trainer-editor/trainer-editor.component.ts","webpack:///./src/app/trainers/trainers.component.html","webpack:///./src/app/trainers/trainers.component.ts","webpack:///./src/app/trainings-editor/trainings-editor.component.css","webpack:///./src/app/trainings-editor/trainings-editor.component.html","webpack:///./src/app/trainings-editor/trainings-editor.component.ts","webpack:///./src/app/trainings/trainings.component.css","webpack:///./src/app/trainings/trainings.component.html","webpack:///./src/app/trainings/trainings.component.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error('Cannot find module \"' + req + '\".');\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","import { NgModule }             from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\n\nimport { PagesComponent }     from './pages/pages.component';\nimport { ImagesComponent }    from './images/images.component';\nimport {TrainersComponent} from \"./trainers/trainers.component\";\nimport {RoomsComponent} from \"./rooms/rooms.component\";\nimport {SettingsListComponent} from \"./settings-list/settings-list.component\";\nimport {SettingsComponent} from \"./settings/settings.component\";\nimport {TrainingsEditorComponent} from \"./trainings-editor/trainings-editor.component\";\nimport {TrainingsComponent} from \"./trainings/trainings.component\";\nimport {RestaurantMenu} from \"./models/restaurant-menu\";\nimport {RestaurantMenuComponent} from \"./menu/menu.component\";\nimport {LoginComponent} from \"./login/login.component\";\nimport {NeedAuthGuard} from \"./need-auth-guard\";\n\nconst routes: Routes = [\n    {\n        path: '',\n        redirectTo: 'pages',\n        pathMatch: 'full'\n    },\n    {\n        path: 'images',\n        component: ImagesComponent,\n        data : {\n            name: 'Изображения'\n        },\n        canActivate: [NeedAuthGuard]\n    },\n    {\n        path: 'pages',\n        component: PagesComponent,\n        data : {\n            name: 'Страницы'\n        },\n        canActivate: [NeedAuthGuard]\n    },\n    {\n        path: 'trainers',\n        component: TrainersComponent,\n        data : {\n            name: 'Тренеры'\n        },\n        canActivate: [NeedAuthGuard]\n    },\n    {\n        path: 'rooms',\n        component: RoomsComponent,\n        data : {\n            name: 'Номера'\n        },\n        canActivate: [NeedAuthGuard]\n    },\n    {\n        path: 'trainings',\n        component: TrainingsComponent,\n        data : {\n            name: 'Тренировки'\n        },\n        canActivate: [NeedAuthGuard]\n    },\n    {\n        path: 'restaurant',\n        component: RestaurantMenuComponent,\n        data : {\n            name: 'Меню ресторана'\n        },\n        canActivate: [NeedAuthGuard]\n    },\n    {\n        path: 'settings',\n        component: SettingsComponent,\n        data : {\n            name: 'Настройки'\n        },\n        canActivate: [NeedAuthGuard]\n    },\n    { path: 'login', component: LoginComponent },\n\n    // otherwise redirect to home\n    { path: '**', redirectTo: '' }\n];\n\n@NgModule({\n    imports: [ RouterModule.forRoot(routes) ],\n    exports: [ RouterModule ]\n})\nexport class AppRoutingModule {}","module.exports = \"/* Application-wide Styles */\\n.bordered-section {\\n  border: 1px solid #444;\\n  margin: 5px;\\n}\\n.shadowed {\\n  box-shadow: 0 0 25px rgba(0, 0, 0, 0.2);\\n}\\n.put-right {\\n  position: absolute;\\n  right: 11px;\\n  left: 350px;\\n  top: 17px;\\n  max-height: 100%;\\n  overflow-y: auto;\\n}\\n.sub-menu {\\n  background-color: #fff;\\n  position: relative;\\n}\\n.sub-menu .navbar-selector-item {\\n  border: none!important;\\n}\\n.triangle.top {\\n  top: 0;\\n  right: 50%;\\n  position: absolute;\\n  content: '';\\n  display: block;\\n  width: 10px;\\n  height: 10px;\\n  background: #fff;\\n  -webkit-transform: rotate(45deg);\\n  transform: rotate(45deg);\\n  z-index: 1;\\n  margin-top: calc(-10px/2);\\n}\\n.sub-menu-items {\\n  display: none;\\n}\\n.active + .sub-menu-items {\\n  display: initial;\\n}\\n.menu-items {\\n  padding-left: 0;\\n  background-color: #eee;\\n}\\n.menu-items li {\\n  text-align: center;\\n}\\n.menu-items li a {\\n  color: #444;\\n  width: 100%;\\n}\\n.menu-items li a.active {\\n  background-color: #bbb;\\n}\\nh1 {\\n  color: #369;\\n  font-family: Arial, Helvetica, sans-serif;\\n  font-size: 250%;\\n}\\nh2,\\nh3 {\\n  color: #444;\\n  font-family: Arial, Helvetica, sans-serif;\\n  font-weight: lighter;\\n}\\nbody {\\n  margin: 2em;\\n}\\nbody,\\ninput[text],\\nbutton {\\n  color: #888;\\n  font-family: Cambria, Georgia;\\n}\\n/* everywhere else */\\n*:not(.fa) {\\n  font-family: Arial, Helvetica, sans-serif;\\n}\\nnav a {\\n  text-decoration: none;\\n  display: inline-block;\\n  background-color: #eee;\\n}\\nnav a:visited,\\na:link {\\n  color: #607D8B;\\n}\\nnav a:hover {\\n  color: #039be5;\\n  background-color: #CFD8DC;\\n}\\nnav a.active {\\n  color: #039be5;\\n}\\n.card-header {\\n  padding: .15rem .15rem!important;\\n}\\n.btn-link {\\n  text-decoration: none!important;\\n  color: #444!important;\\n}\\naccordion-group .panel.card {\\n  margin-bottom: 10px;\\n}\\n.bordered-section {\\n  border: 1px solid #444;\\n  margin: 5px;\\n}\\n.shadowed {\\n  box-shadow: 0 0 25px rgba(0, 0, 0, 0.2);\\n}\\n.put-right {\\n  position: absolute;\\n  right: 11px;\\n  left: 350px;\\n  top: 17px;\\n  max-height: 100%;\\n  overflow-y: auto;\\n}\\n.toolbar-element {\\n  background-color: #fff;\\n  text-align: center;\\n}\\n.toolbar-element div {\\n  display: inline-block;\\n  border: none;\\n  background-color: #fff;\\n  padding: 5px;\\n}\\n.toolbar-element div i {\\n  color: #0D47A1;\\n  width: 31px;\\n  height: 31px;\\n  position: relative;\\n}\\n.toolbar-element div i:before {\\n  display: none;\\n}\\n.toolbar-element div i.fa-plus {\\n  background: url('/admin/assets/icons/plus.svg') no-repeat;\\n}\\n.toolbar-element div i.fa-bars {\\n  background: url('/admin/assets/icons/bars.svg') no-repeat 0 3px;\\n}\\n.module-list {\\n  background: #fff;\\n}\\n.module-list .trainers-list-element,\\n.module-list .toolbar-element {\\n  display: block;\\n}\\n.module-editor {\\n  background: #fff;\\n}\\n.module-editor.module-editor-visible:not(.visible) {\\n  display: none;\\n}\\n/* The switch - the box around the slider */\\n.switch {\\n  position: relative;\\n  display: inline-block;\\n  width: 60px;\\n  height: 34px;\\n}\\n.switch input {\\n  display: none;\\n}\\n.switch .slider {\\n  position: absolute;\\n  cursor: pointer;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n  background-color: #ccc;\\n  transition: .4s;\\n}\\n.switch .slider:before {\\n  position: absolute;\\n  content: \\\"\\\";\\n  height: 26px;\\n  width: 26px;\\n  left: 4px;\\n  bottom: 4px;\\n  background-color: white;\\n  transition: .4s;\\n}\\n.switch .slider.round {\\n  border-radius: 34px;\\n}\\n.switch .slider.round:before {\\n  border-radius: 50%;\\n}\\n.switch input:checked + .slider {\\n  background-color: #97a0a7;\\n}\\n.switch input:focus + .slider {\\n  box-shadow: 0 0 1px #97a0a7;\\n}\\n.switch input:checked + .slider:before {\\n  -webkit-transform: translateX(26px);\\n  transform: translateX(26px);\\n}\\n.ripple {\\n  background-position: center;\\n  transition: background 0.8s;\\n}\\n.ripple:hover {\\n  background: rgba(255, 255, 255, 0.1) radial-gradient(circle, transparent 1%, rgba(255, 255, 255, 0.3) 1%) center / 15000%;\\n}\\n.ripple:active {\\n  background-color: rgba(255, 255, 255, 0.1);\\n  background-size: 100%;\\n  transition: background 0s;\\n}\\n/**\\nбабахаем все стили прямо сюда, временно, разумеется\\n*/\\ndiv.menu ul {\\n  list-style: none;\\n}\\nbody,\\nhtml {\\n  min-height: 100%;\\n}\\nbody {\\n  margin: 0;\\n  padding: 0;\\n}\\nbody app-root {\\n  display: flex;\\n  height: 100%;\\n  flex-direction: column;\\n}\\n.module-wrapper-element {\\n  min-height: 100vh;\\n  position: relative;\\n  flex: 1 1;\\n}\\n.module-wrapper-element:not(.login) {\\n  margin-left: 250px;\\n  margin-top: 50px;\\n}\\n.module-wrapper-element.login {\\n  background: url('/admin/assets/img/login_form_bg.png') no-repeat;\\n  background-size: cover;\\n  display: inline-flex;\\n  flex-direction: row;\\n  justify-content: center;\\n  align-items: center;\\n}\\nheader.admin-header {\\n  background-color: #000;\\n  height: 50px;\\n  right: 0;\\n  top: 0;\\n  position: fixed;\\n  left: 0;\\n  z-index: 90;\\n  box-shadow: 0 0 22px rgba(0, 0, 0, 0.5);\\n}\\n.alert-element {\\n  position: fixed;\\n  right: 10px;\\n  top: 60px;\\n  width: 200px;\\n  background-color: #eee;\\n  z-index: 999;\\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);\\n  display: none;\\n}\\n.alert-element .message {\\n  padding: 10px;\\n}\\n.alert-element .close {\\n  position: absolute;\\n  top: 5px;\\n  right: 5px;\\n}\\n.admin-content-wrapper {\\n  height: 100%;\\n  background-color: #dcdcdc;\\n  overflow: hidden;\\n  flex: 1 0 auto;\\n  z-index: 1;\\n  display: flex;\\n}\\n.admin-content-wrapper > .wrapper {\\n  display: flex;\\n  flex-direction: row;\\n  width: 100%;\\n  height: 100%;\\n}\\n.admin-content-wrapper > .wrapper > .menu {\\n  flex: 0 0;\\n}\\n.admin-content-wrapper > .wrapper > .content {\\n  flex: 1 1;\\n}\\n.admin-content-wrapper .wrapper .menu {\\n  height: 100%;\\n  background-color: #eee;\\n  min-width: 200px;\\n  float: left;\\n}\\n.navbar-selector-item {\\n  border-bottom: 1px solid #444;\\n  padding: 10px 20px;\\n  text-align: left;\\n}\\n.navbar-selector-item:first-of-type {\\n  border-top: 1px solid #444;\\n}\\n.navbar-selector-item.active {\\n  position: relative;\\n  background-color: #c5c5c5;\\n}\\n.menu-selector-item a {\\n  padding: 10px 20px;\\n  background-color: #d6d6d6;\\n}\\n.module-menu-element {\\n  width: 320px;\\n}\\n.module-menu-element > div:not(.module-panel) {\\n  box-shadow: 0 0 25px rgba(0, 0, 0, 0.2);\\n}\\n.module-menu-element h3 {\\n  font-size: 20px;\\n  margin-left: 16px;\\n  margin-top: 24px;\\n}\\n.module-menu-element .module-panel {\\n  margin-top: 10px;\\n  margin-left: 15px;\\n  display: inline-flex;\\n  flex-direction: row;\\n  width: 100%;\\n}\\n.page-editor .module-panel .save {\\n  margin-right: 0!important;\\n}\\n.page-editor .module-panel .view {\\n  margin: 0 10px;\\n  padding: 8px;\\n}\\n.module-content-element {\\n  position: absolute;\\n  right: 11px;\\n  left: 350px;\\n  top: 17px;\\n  max-height: 100%;\\n  overflow-y: auto;\\n}\\n.large-popup {\\n  width: 80%;\\n  max-width: none;\\n}\\n.admin-menu-element {\\n  box-shadow: 4px 0 24px rgba(0, 0, 0, 0.15);\\n  left: 0;\\n  top: 50px;\\n  bottom: 0;\\n  position: fixed;\\n  width: 250px;\\n  z-index: 90;\\n}\\n.switch {\\n  top: 6px;\\n}\\n.language-selector-label {\\n  display: inline-block;\\n  top: -12px;\\n  position: relative;\\n  margin: 0 10px;\\n}\\n.language-selector {\\n  height: 50px;\\n  display: inline-block;\\n  vertical-align: top;\\n}\\n.user-area {\\n  height: 50px;\\n  display: inline-block;\\n  position: relative;\\n  line-height: 50px;\\n  vertical-align: top;\\n  margin: 0 18px;\\n  cursor: pointer;\\n}\\n.module-control-button-element {\\n  background-color: #fff;\\n  border: none;\\n  height: 52px;\\n  padding: 0 20px;\\n  margin-right: 18px;\\n  flex: 0 0;\\n  color: #000;\\n  box-shadow: 0 0 25px rgba(0, 0, 0, 0.2);\\n}\\n.module-control-button-element.default {\\n  background-color: #4a90e2;\\n  color: #fff;\\n}\\n.module-control-button-element.cancel {\\n  background-color: #888;\\n  color: #fff;\\n}\\n.module-control-button-element.delete {\\n  background-color: #bd0e0e;\\n  color: #fff;\\n}\\n.page-editor .module-editor {\\n  position: absolute;\\n  right: 11px;\\n  left: 350px;\\n  top: 17px;\\n  max-height: 100%;\\n  overflow-y: auto;\\n}\\ntrainers:not(.integrated) .module-list,\\nrooms:not(.integrated) .module-list,\\ntrainings:not(.integrated) .module-list {\\n  float: left;\\n  margin-left: 10px;\\n  margin-right: 10px;\\n}\\ntrainers:not(.integrated) .module-editor,\\nrooms:not(.integrated) .module-editor,\\ntrainings:not(.integrated) .module-editor {\\n  overflow: hidden;\\n}\\n.modal-dialog.vertical {\\n  min-width: 700px!important;\\n}\\n[hidden] {\\n  display: none !important;\\n}\\n.form-control-inline {\\n  width: initial;\\n  display: inline-block;\\n}\\n.modal-dialog {\\n  width: -webkit-min-content;\\n  width: -moz-min-content;\\n  width: min-content;\\n  min-width: 500px;\\n}\\n.fast-image-editor-popup .modal-body {\\n  height: auto!important;\\n}\\nselect.form-control,\\ninput.form-control {\\n  border-radius: 0!important;\\n  height: 30px!important;\\n  padding: 0!important;\\n  padding-left: 6px!important;\\n}\\nselect.form-control:focus,\\ninput.form-control:focus {\\n  border-color: #ced4da;\\n  -o-box-shadow: none;\\n  box-shadow: none;\\n}\\ninput.color {\\n  display: inline-block;\\n  width: 30px!important;\\n  height: 30px;\\n  outline: none;\\n  border: 2px solid #757575;\\n  border-radius: 2px;\\n}\\n.modal-dialog.image-chooser-popup {\\n  width: 90%!important;\\n  max-width: none!important;\\n}\\nmat-checkbox {\\n  margin-right: 10px;\\n  margin-left: 10px;\\n}\\n.mat-checkbox-checked.mat-primary .mat-checkbox-background,\\n.mat-checkbox-indeterminate.mat-primary .mat-checkbox-background {\\n  background-color: #4a90e2!important;\\n}\\n.trumbowyg-box {\\n  margin-top: 0!important;\\n  border: 1px solid #a9a9a9!important;\\n}\\n.trumbowyg-button-pane {\\n  background: #eeeeee!important;\\n}\\n.textarea-field .trumbowyg-box {\\n  min-height: 0;\\n  height: 200px;\\n}\\n.sortable-item-unset {\\n  display: unset;\\n}\\n.sortable-item-active img {\\n  display: none;\\n}\\n.sortable-item-active .image-card-wrapper {\\n  background-image: url('/admin/assets/img/anyimage.png');\\n  background-size: 80% 80%;\\n  background-repeat: no-repeat;\\n  background-position: center;\\n  opacity: 0.2;\\n}\\ntextarea {\\n  width: 100%;\\n}\\n.sindu_dragger table {\\n  background: none!important;\\n}\\n.field.description .trumbowyg-box,\\n.settings .field .trumbowyg-box,\\n.field.description .trumbowyg-editor,\\n.settings .field .trumbowyg-editor {\\n  min-height: auto!important;\\n}\\ncolor-picker {\\n  z-index: 10;\\n}\\n.language-selector {\\n  white-space: nowrap;\\n}\\n\"","module.exports = \"<div class=\\\"alert-element\\\">\\n    <div class=\\\"message\\\">\\n    </div>\\n    <span class=\\\"close\\\" (click)=\\\"hideAlert()\\\">\\n    <i class=\\\"fa fa-close\\\"></i>\\n  </span>\\n</div>\\n<header class=\\\"admin-header\\\" *ngIf=\\\"isAuthorized()\\\">\\n    <div class=\\\"row\\\">\\n        <div class=\\\"col-md-8 col-sm-6 col-6\\\">\\n            <a class=\\\"header-logo\\\" href=\\\"\\\" title=\\\"beshitza.ru\\\">\\n                <img src=\\\"assets/img/logo_header.jpg\\\">\\n            </a>\\n        </div>\\n        <div class=\\\"col-md-4 col-sm-6 col-6 text-right\\\">\\n            <span class=\\\"language-selector\\\">\\n                <span class=\\\"language-selector-label\\\">RU</span>\\n                <label class=\\\"switch\\\">\\n                    <input type=\\\"checkbox\\\" class=\\\"switch\\\" id=\\\"switch-language\\\" [ngModel]=\\\"languageEn\\\"\\n                           (change)=\\\"toggleLanguage()\\\">\\n                    <span class=\\\"slider round\\\"></span>\\n                </label>\\n                <span class=\\\"language-selector-label\\\">EN</span>\\n            </span>\\n            <span class=\\\"user-area\\\">\\n                <b>{{getUserName() | titlecase}}</b>, <span (click)=\\\"logout()\\\">выйти</span>\\n            </span>\\n        </div>\\n    </div>\\n</header>\\n<section class=\\\"admin-content-wrapper\\\">\\n    <div class=\\\"wrapper\\\">\\n        <div class=\\\"admin-menu-element\\\" *ngIf=\\\"isAuthorized()\\\">\\n            <nav>\\n                <ul class=\\\"menu-items\\\">\\n                    <li *ngFor=\\\"let item of getMenuItems()\\\" class=\\\"menu-selector-item\\\">\\n                        <a routerLinkActive=\\\"active\\\" routerLink=\\\"{{item.getPath()}}\\\">{{item.getName()}}</a>\\n                        <div class=\\\"sub-menu-items\\\">\\n                            <sub-menu [subMenu]=\\\"item.getSubmenu()\\\"></sub-menu>\\n                        </div>\\n                    </li>\\n                </ul>\\n            </nav>\\n        </div>\\n        <div class=\\\"module-wrapper-element\\\" [class.login]=\\\"!isAuthorized()\\\">\\n            <router-outlet></router-outlet>\\n        </div>\\n    </div>\\n</section>\"","import {Component} from '@angular/core';\nimport 'rxjs/add/operator/filter';\nimport {ActivatedRoute, Router, NavigationEnd} from '@angular/router';\nimport {MenuService} from \"./menu.service\";\nimport {MenuItem} from \"./models/menu-item\";\nimport {SelectItemService} from \"./select-item.service\";\nimport {SelectItemEvent} from \"./models/select-item-event\";\nimport * as $ from 'jquery';\nimport {NotificationService} from \"./notification.service\";\nimport {NotificationEvent} from \"./models/notification-event\";\nimport {AuthenticationService} from \"./authentication.service\";\n\n\n@Component({\n    selector: 'app-root',\n    templateUrl: './app.component.html',\n    styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n    title = 'Админка';\n    currentMenuContent = null;\n    currentRoute = null;\n    languageEn = false;\n\n    constructor(private route: ActivatedRoute,\n                private router: Router,\n                private menuService: MenuService,\n                private selectItemService: SelectItemService,\n                private notificationService: NotificationService,\n                private auth: AuthenticationService) {\n        this.notificationService.onError((event: NotificationEvent) => {\n            AppComponent.showErrorAlert(event.message);\n        });\n        this.auth.checkAuth();\n    }\n\n    public isAuthorized()\n    {\n        return this.auth.isAuthenticated();\n    }\n\n    private hideAlert() {\n        $('.alert-element').hide();\n    }\n\n    public getUserName() {\n        return this.auth.getUserName();\n    }\n\n    public logout()\n    {\n        this.auth.logout();\n    }\n\n    private static showErrorAlert(message: string) {\n        $('.alert-element .message').text(message);\n        $('.alert-element').show();\n    }\n\n    toggleLanguage() {\n        this.languageEn = !this.languageEn;\n        this.selectItemService.emit(new SelectItemEvent(SelectItemEvent.Type.LanguageChange, {\n            language: this.languageEn ? 2 : 1\n        }));\n\n    }\n\n    getMenuItems(): MenuItem[] {\n        return this.menuService.getItems();\n    }\n\n    ngOnInit() {\n        this.router.events\n            .filter(event => event instanceof NavigationEnd)\n            .subscribe(event => {\n                this.currentRoute = this.route.root;\n                while (this.currentRoute.children[0] !== undefined) {\n                    this.currentRoute = this.currentRoute.children[0];\n                }\n            })\n    }\n}\n","import {BrowserModule} from '@angular/platform-browser';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\nimport {NgModule} from '@angular/core';\nimport {ModalModule, SortableModule, TabsModule} from 'ngx-bootstrap';\nimport {AppComponent} from './app.component';\nimport {PagesComponent} from './pages/pages.component';\nimport {PagesService} from './pages.service';\nimport {ModelService} from './model.service';\nimport {MenuService} from './menu.service';\nimport {AppRoutingModule} from './app-routing.module';\nimport {ImagesComponent} from './images/images.component';\nimport {TrainersComponent} from './trainers/trainers.component';\nimport {HttpClientModule} from '@angular/common/http';\nimport {PageComponent} from './page/page.component';\nimport {PageEditorTreeComponent} from './page-editor-tree/page-editor-tree.component';\nimport {SubMenuComponent} from './sub-menu/sub-menu.component';\nimport {SubMenuPagesComponent} from './sub-menu/pages/pages.component';\nimport {SubMenuSettingsComponent} from './sub-menu/settings/settings.component';\nimport {PagesListComponent} from './pages-list/pages-list.component';\nimport {SelectItemService} from \"./select-item.service\";\nimport {NgxTrumbowygModule} from 'ngx-trumbowyg';\nimport {TrainerEditorComponent} from './trainer-editor/trainer-editor.component';\nimport {FileHelpersModule} from 'ngx-file-helpers';\nimport {BsDropdownModule} from 'ngx-bootstrap';\nimport {WordCountLimit} from './filters/word-count-limit';\nimport {Values} from './filters/values';\nimport {Keys} from './filters/keys';\nimport {ImageChooserComponent} from './image-chooser/image-chooser.component';\nimport {NgForIn} from './ng-for-in.directive';\nimport {AccordionModule} from 'ngx-bootstrap/accordion';\nimport {PageEditorFieldComponent} from './page-editor-field/page-editor-field.component';\nimport {ColorPickerModule} from 'ngx-color-picker';\nimport {RoomEditorComponent} from \"./room-editor/room-editor.component\";\nimport {RoomsComponent} from \"./rooms/rooms.component\";\nimport {LanguageService} from \"./services/language.service\";\nimport {SettingsListComponent} from \"./settings-list/settings-list.component\";\nimport {SettingsService} from \"./settings.service\";\nimport {SettingsComponent} from \"./settings/settings.component\";\nimport {ClickStopPropagation} from \"./click-stop-propogation.directive\";\nimport { PageEditorTreeItemComponent } from './page-editor-tree-item/page-editor-tree-item.component';\nimport { ImageCropperComponent } from 'ng2-img-cropper';\nimport { CustomImageCropperComponent } from './image-cropper/image-cropper.component';\nimport {SubMenuImagesComponent} from \"./sub-menu/images/images.component\";\nimport { FocusDirective } from './focus.directive';\nimport { ScrollToModule } from 'ng2-scroll-to-el';\nimport { ImageChooserPopupComponent } from './image-chooser-popup/image-chooser-popup.component';\nimport {MatCheckboxModule} from \"@angular/material\";\nimport {PageEditorFieldExtendedComponent} from \"./page-editor-field-extended/page-editor-field-extended.component\";\nimport {TrainingsEditorComponent} from \"./trainings-editor/trainings-editor.component\";\nimport {TrainingsComponent} from \"./trainings/trainings.component\";\nimport {RestaurantMenuComponent} from \"./menu/menu.component\";\nimport { LoginComponent } from './login/login.component';\nimport {NeedAuthGuard} from \"./need-auth-guard\";\n\n@NgModule({\n    declarations: [\n        AppComponent,\n        PagesComponent,\n        ImagesComponent,\n        TrainersComponent,\n        RoomsComponent,\n        PageComponent,\n        SettingsComponent,\n        PageEditorTreeComponent,\n        SubMenuComponent,\n        SubMenuPagesComponent,\n        SubMenuSettingsComponent,\n        SubMenuImagesComponent,\n        PagesListComponent,\n        SettingsListComponent,\n        TrainerEditorComponent,\n        RoomEditorComponent,\n        WordCountLimit,\n        Values,\n        Keys,\n        ImageChooserComponent,\n        NgForIn,\n        PageEditorFieldComponent,\n        PageEditorFieldExtendedComponent,\n        ClickStopPropagation,\n        PageEditorTreeItemComponent,\n        ImageCropperComponent,\n        CustomImageCropperComponent,\n        FocusDirective,\n        ImageChooserPopupComponent,\n        TrainingsEditorComponent,\n        TrainingsComponent,\n        RestaurantMenuComponent,\n        LoginComponent\n    ],\n    imports: [\n        BrowserModule,\n        FormsModule,\n        ReactiveFormsModule,\n        AppRoutingModule,\n        HttpClientModule,\n        NgxTrumbowygModule.withConfig(AppModule.editorOptions),\n        ModalModule.forRoot(),\n        FileHelpersModule,\n        BsDropdownModule.forRoot(),\n        TabsModule.forRoot(),\n        AccordionModule.forRoot(),\n        SortableModule.forRoot(),\n        ColorPickerModule,\n        ScrollToModule.forRoot(),\n        MatCheckboxModule,\n    ],\n    providers: [\n        PagesService, MenuService, SelectItemService, ModelService, LanguageService, SettingsService, NeedAuthGuard\n    ],\n    bootstrap: [AppComponent],\n    exports: [ModalModule]\n})\nexport class AppModule {\n    public static editorOptions = {\n        lang: 'ru',\n        svgPath: 'assets/icons/icons.svg',\n        removeformatPasted: true,\n        autogrow: true,\n        btns: [\n            ['formatting'],\n            ['strong', 'em', 'del'],\n            ['superscript', 'subscript'],\n            ['link'],\n            ['justifyLeft', 'justifyCenter', 'justifyRight', 'justifyFull'],\n            ['unorderedList', 'orderedList'],\n            ['horizontalRule'],\n            ['removeformat']\n        ]\n    };\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { map } from 'rxjs/operators';\nimport {Router} from \"@angular/router\";\n\n@Injectable({ providedIn: 'root' })\nexport class AuthenticationService {\n    constructor(private http: HttpClient, private router: Router) { }\n\n    private baseUrl = '/api';\n\n    public isAuthenticated()\n    {\n        return !!localStorage.getItem('userName');\n    }\n\n    public getUserName()\n    {\n        return localStorage.getItem('userName');\n    }\n\n\n    private cleanUserDataAnddRedirect()\n    {\n        localStorage.removeItem('userName');\n        localStorage.removeItem('userEmail');\n        this.router.navigateByUrl(\n            this.router.createUrlTree(\n                ['/login']\n            )\n        );\n\n    }\n\n    public checkAuth()\n    {\n       /* this.http.get<any>(`${this.baseUrl}/auth`, {})\n            .subscribe(authData => {\n                // login successful if there's a jwt token in the response\n                if (authData.status === 'success' && authData.auth === false) {\n                    this.cleanUserDataAnddRedirect();\n                }\n            });*/\n    }\n\n    login(username: string, password: string) {\n        return this.http.post<any>(`${this.baseUrl}/login`, { username, password })\n            .pipe(map(authData => {\n                // login successful if there's a jwt token in the response\n                if (authData.status === 'success' && authData.auth === true) {\n                    localStorage.setItem('userName', authData.userName);\n                    localStorage.setItem('userEmail', authData.userEmail);\n                }\n\n                return authData;\n            }));\n    }\n\n    logout() {\n        return this.http.post<any>(`${this.baseUrl}/logout`, {})\n            .subscribe(() => {\n                this.cleanUserDataAnddRedirect();\n            });\n    }\n}","import {Directive, HostListener} from \"@angular/core\";\n\n@Directive({\n    selector: \"[click-stop-propagation]\"\n})\nexport class ClickStopPropagation\n{\n    @HostListener(\"click\", [\"$event\"])\n    public onClick(event: any): void\n    {\n        event.stopPropagation();\n    }\n}","module.exports = \".object-editor {\\n  padding: 10px 10px;\\n  position: relative;\\n}\\n.object-editor:not(.active) .close {\\n  display: none;\\n}\\n.object-editor .field * {\\n  vertical-align: top;\\n  margin-bottom: 10px;\\n}\\n.object-editor .field .label {\\n  width: 120px;\\n  text-align: left;\\n  margin-right: 20px;\\n  display: inline-block;\\n}\\n.object-editor .field input[type=text] {\\n  width: 300px;\\n}\\n.object-editor .close,\\n.object-editor .cancel {\\n  position: absolute;\\n  right: 10px;\\n  top: 10px;\\n}\\n.image-picker {\\n  position: relative;\\n}\\n.image-picker .img-crop img {\\n  width: 400px;\\n}\\n.image-picker [ngxfiledropzone] {\\n  border: 5px dashed #eee;\\n  padding: 50px;\\n  text-align: center;\\n  display: inline-block;\\n  margin-left: 10px;\\n}\\n\"","module.exports = \"::-webkit-scrollbar {\\n  width: 0px;\\n  /* remove scrollbar space */\\n  background: transparent;\\n  /* optional: just make scrollbar invisible */\\n}\\n/* optional: show position indicator in red */\\n::-webkit-scrollbar-thumb {\\n  background: #FF0000;\\n}\\n.object-list-element {\\n  padding: 0;\\n  max-height: 70vh;\\n  overflow-y: scroll;\\n  min-width: 200px;\\n  width: 250px;\\n}\\n.object-list-element li {\\n  list-style: none;\\n  padding: 10px 20px;\\n  height: 43px;\\n}\\n.object-list-element li h2 i {\\n  float: right;\\n}\\n.object-name {\\n  font-size: 17px;\\n  overflow: hidden;\\n}\\n.object-id {\\n  float: left;\\n  margin-right: 8px;\\n}\\n.object-item.active {\\n  background-color: #eee;\\n}\\n\"","export class AppHelper {\n    public static uuid(): string {\n        function s4() {\n            return Math.floor((1 + Math.random()) * 0x10000)\n                .toString(16)\n                .substring(1);\n        }\n        return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();\n    }\n}","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n    name: 'keys'\n})\nexport class Keys implements PipeTransform {\n    transform(value: Object): any {\n        return Object.keys(value);\n    }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n    name: 'values'\n})\nexport class Values implements PipeTransform {\n    transform(value: Object): any {\n        return Object.values(value);\n    }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n    name: 'wordCountLimit'\n})\nexport class WordCountLimit implements PipeTransform {\n    transform(value: string, count: number): string {\n        return value ? value.split(\" \").slice(0, count).join(\" \") : '';\n    }\n}\n","import {Directive, Input, EventEmitter, ElementRef, Renderer, Inject} from '@angular/core';\n\n@Directive({\n    selector: '[focus]'\n})\nexport class FocusDirective {\n    @Input('focus') focusEvent: EventEmitter<boolean>;\n\n    constructor(@Inject(ElementRef) private element: ElementRef, private renderer: Renderer) {\n    }\n\n    ngOnInit() {\n        this.focusEvent.subscribe(event => {\n            switch (event) {\n                case true:\n                  this.renderer.invokeElementMethod(this.element.nativeElement, 'focus', []);\n                  break;\n                case false:\n                  this.renderer.invokeElementMethod(this.element.nativeElement, 'blur', []);\n                    break;\n            }\n\n        });\n    }\n}","module.exports = \"h4 {\\n  display: inline-block;\\n}\\n.modal-dialog {\\n  overflow-y: initial !important;\\n}\\n.modal-body {\\n  height: 70vh;\\n  overflow-y: auto;\\n}\\n.modal-body label {\\n  margin-right: 10px;\\n}\\n.modal-header > div:first-child {\\n  flex: 1 1;\\n}\\n.modal-header > div:first-child * {\\n  vertical-align: bottom;\\n}\\n.modal-header > div:first-child h4 {\\n  margin-right: 10px;\\n}\\n.modal-header > div:first-child :nth-child(2) {\\n  height: 68px;\\n  display: inline-block;\\n}\\n.modal-footer {\\n  text-align: right;\\n}\\n.toolbar {\\n  display: inline-block;\\n  width: 300px;\\n}\\n\"","module.exports = \"<ng-template #imageChooser>\\n  <div class=\\\"modal-header\\\">\\n    <div class=\\\"pull-left\\\">\\n      <sub-menu-images [inline]=\\\"true\\\" [showShowTitles]=\\\"false\\\" [fixedImageTypeId]=\\\"fixedImageTypeId\\\"></sub-menu-images>\\n    </div>\\n    <button type=\\\"button\\\" class=\\\"close pull-right\\\" aria-label=\\\"Close\\\" (click)=\\\"modalRef.hide()\\\">\\n      <span aria-hidden=\\\"true\\\">&times;</span>\\n    </button>\\n  </div>\\n  <div class=\\\"modal-body\\\">\\n    <app-images\\n            [preSelectedImageIds]=\\\"preSelectedImageIds\\\"\\n            [initiallyFilterByTypeId]=\\\"fixedImageTypeId\\\"\\n            [selectionMode]=\\\"true\\\"\\n            [multiple]=\\\"multiple\\\"\\n            (selectedImageId)=\\\"outputImageId($event)\\\" (selectedImageIds)=\\\"outputImageIds($event)\\\"></app-images>\\n  </div>\\n  <div class=\\\"modal-footer\\\">\\n    <div class=\\\"toolbar\\\">\\n      <button class=\\\"ripple module-control-button-element default\\\" (click)=\\\"imageChoose(); closePopup()\\\">Выбор</button>\\n      <button class=\\\"ripple module-control-button-element delete\\\" (click)=\\\"closePopup()\\\">Отмена</button>\\n    </div>\\n  </div>\\n</ng-template>\\n<ng-template #fastImageEditor>\\n  <div class=\\\"modal-header\\\">\\n    <h4>Описание фотографии в слайдере</h4>\\n  </div>\\n  <div class=\\\"modal-body\\\">\\n    <label>Описание:</label>\\n    <input [(ngModel)]=\\\"editingImage.description\\\">\\n  </div>\\n\\n  <div class=\\\"modal-footer\\\">\\n    <div class=\\\"toolbar\\\">\\n      <button class=\\\"ripple module-control-button-element default\\\" (click)=\\\"this.saveEditingImage();\\\">Сохранить</button>\\n      <button class=\\\"ripple module-control-button-element delete\\\" (click)=\\\"closePopup()\\\">Отмена</button>\\n    </div>\\n  </div>\\n</ng-template>\"","import {Component, EventEmitter, Input, OnInit, Output, ViewChild} from '@angular/core';\nimport {CmsImage} from \"../models/cms-image\";\nimport {BsModalService} from \"ngx-bootstrap\";\nimport {SelectItemService} from \"../select-item.service\";\nimport {ModelService} from \"../model.service\";\n\n@Component({\n    selector: 'app-image-chooser-popup',\n    templateUrl: './image-chooser-popup.component.html',\n    styleUrls: ['./image-chooser-popup.component.css'],\n})\nexport class ImageChooserPopupComponent implements OnInit {\n\n\n    @Input() multiple: boolean = false;\n    @Input() fixedImageTypeId: number = null;\n\n    @Output() selectedImageId = new EventEmitter<CmsImage>();\n    @Output() selectedImageIds = new EventEmitter<Array<CmsImage>>();\n\n    @Input() preSelectedImageIds: Array<number> = [];\n\n    private modalRef;\n\n    private editingImage: CmsImage|null = null;\n\n    public constructor(\n        private modalService: BsModalService,\n        private modelService: ModelService,\n        private selectItemService: SelectItemService\n    ) {}\n\n    public showPopup()\n    {\n        this.modalRef = this.modalService.show(this.imageChooser, {\n            class: 'image-chooser-popup'\n        });\n    }\n\n    public saveEditingImage()\n    {\n        let self = this;\n        this.modelService.saveImage(this.editingImage, null, function() {\n            self.closePopup();\n        });\n    }\n\n    public showFastEditor(image: CmsImage)\n    {\n        console.log(this.editingImage);\n        this.editingImage = image;\n        this.modalRef = this.modalService.show(this.fastImageEditor, {\n            class: 'fast-image-editor-popup'\n        });\n    }\n\n    public imageChoose()\n    {\n        this.selectItemService.emitImageChooserEvent();\n    }\n\n    public closePopup()\n    {\n        this.modalRef.hide();\n    }\n\n    public outputImageId(imageId)\n    {\n        this.selectedImageId.emit(imageId);\n    }\n\n    public outputImageIds(imageIds)\n    {\n        this.selectedImageIds.emit(imageIds);\n    }\n\n    @ViewChild('imageChooser') imageChooser;\n    @ViewChild('fastImageEditor') fastImageEditor;\n\n    ngOnInit() {\n    }\n}\n","module.exports = \":host .tick {\\n  position: absolute;\\n  top: 10px;\\n  right: 10px;\\n  width: 15px;\\n  height: 15px;\\n  border: 1px solid #000;\\n  background-color: #fff;\\n}\\n:host .tick.ticked:after {\\n  content: '';\\n  position: absolute;\\n  width: 10px;\\n  height: 10px;\\n  top: 2px;\\n  left: 2px;\\n  border-radius: 5px;\\n  background-color: #000;\\n}\\n\"","module.exports = \"<div class=\\\"image-chooser-element\\\">\\n    <div>\\n        <div class=\\\"images\\\">\\n            <div class=\\\"content module-editor\\\" *ngIf=\\\"images !== null\\\">\\n\\n                <div class=\\\"image-card\\\">\\n                    <div class=\\\"new-image image-wrapper\\\" accept=\\\"image/*\\\" ngxFileDropzone (fileDrop)=\\\"dropped($event)\\\" ngxFilePicker (filePick)=\\\"dropped($event)\\\">\\n                        Добавьте фото<br>\\n                        <i class=\\\"plus\\\"></i><br>\\n                    </div>\\n                </div>\\n\\n                <div *ngFor=\\\"let image of images; let i = index;\\\" class=\\\"image-card\\\" (click)=\\\"markImage(i)\\\" [hidden]=\\\"i >= limit\\\">\\n                    <div class='image-card-wrapper' *ngIf=\\\"i < limit;\\\">\\n                        <img #imagesList src=\\\"/{{image.filename}}\\\" (load)=\\\"detectOrientation(i)\\\">\\n                        <div class=\\\"short-description\\\">\\n                            {{image.description | wordCountLimit: 15 }}\\n                        </div>\\n                    </div>\\n                    <div class=\\\"tick\\\" [class.ticked]=\\\"multiple ? preSelectedImageIds[image.id] : preSelectedImageId === image.id\\\"></div>\\n                </div>\\n\\n                <div class=\\\"image-card\\\" (click)=\\\"loadMore()\\\" *ngIf=\\\"limit < images.length\\\">\\n                    <div class=\\\"load-more image-wrapper\\\">\\n                        Показать<br>ещё\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n<div #bottom></div>\"","import {Component, ElementRef, EventEmitter, Input, OnInit, Output, ViewChild, ViewChildren} from '@angular/core';\nimport {CmsImage} from \"../models/cms-image\";\nimport {ModelService} from \"../model.service\";\nimport {SelectItemService} from \"../select-item.service\";\nimport {SelectItemEvent} from \"../models/select-item-event\";\nimport {ImageFilter} from \"../models/image-filter\";\nimport {ScrollToService} from \"ng2-scroll-to-el\";\nimport {ImageType} from \"../models/image-type\";\n\n@Component({\n  selector: 'app-image-chooser',\n  templateUrl: './image-chooser.component.html',\n  styleUrls: ['./image-chooser.component.css', '../images/images.component.css']\n})\nexport class ImageChooserComponent implements OnInit {\n\n    @ViewChildren('imagesList') imageList;\n\n    private images: CmsImage[];\n\n\n    preSelectedImageId = null;\n    preSelectedImageIds = [];\n\n    @ViewChild('bottom') bottom: ElementRef;\n\n    private limit: number = 10;\n\n    @Input() multiple: boolean = false;\n    @Input() fixedImageTypeId: number = null;\n\n    @Output() selectedImageId = new EventEmitter<CmsImage>();\n    @Output() selectedImageIds = new EventEmitter<Array<CmsImage>>();\n\n\n    constructor(\n        private modelService: ModelService,\n        private selectItemService: SelectItemService,\n        private scrollService: ScrollToService\n    )\n    {\n        this.selectItemService.event$.subscribe((event: SelectItemEvent) => {\n            if (event.itemType === SelectItemEvent.Type.ImageChooserApply) {\n                if (this.multiple) {\n                    const result = [];\n                    for (let imageId in this.preSelectedImageIds) {\n                        if (!this.preSelectedImageIds[imageId]) continue;\n                        result.push(this.images.find(i => i.id === Number(imageId)));\n                    }\n                    this.selectedImageIds.emit(result);\n                } else {\n                    this.selectedImageId.emit(this.images.find(i => i.id === Number(this.preSelectedImageId)));\n                }\n            }\n        });\n\n        this.selectItemService.event$.subscribe((event: SelectItemEvent) => {\n            if (event.itemType === SelectItemEvent.Type.ApplyFilter) {\n                const filter: ImageFilter = event.payload.filter;\n                this.loadImages(filter);\n            }\n        });\n    }\n\n    public dropped($event)\n    {\n\n    }\n\n    public loadMore()\n    {\n        if (this.images && this.limit < this.images.length) {\n            this.limit += 14;\n        }\n\n        this.scrollService.scrollTo(this.bottom.nativeElement);\n    }\n\n    public markImage(i: number)\n    {\n        let imageId = this.images[i].id;\n\n        if (this.multiple) {\n            if (this.preSelectedImageIds[imageId] === undefined) {\n                this.preSelectedImageIds[imageId] = true;\n            } else {\n                this.preSelectedImageIds[imageId] = !this.preSelectedImageIds[imageId];\n            }\n        } else {\n            this.preSelectedImageId = imageId;\n        }\n    }\n\n    public detectOrientation(i: number)\n    {\n        let image = this.imageList.toArray()[i].nativeElement;\n\n        if (image.naturalWidth > image.naturalHeight) {\n            image.classList.add('landscape');\n        } else if (image.naturalWidth < image.naturalHeight) {\n            image.classList.add('portrait');\n        }\n    }\n\n    private loadImages(filter: ImageFilter|null = null) {\n        this.modelService.getImages(filter).subscribe(images => {\n            images.forEach((rawImage, index) => {images[index] = CmsImage.fromRaw(rawImage);});\n            this.images = images;\n        });\n    }\n\n    ngOnInit() {\n        this.loadImages();\n    }\n\n}\n","module.exports = \"\"","module.exports = \"<img-cropper #cropper [image]=\\\"{}\\\" [settings]=\\\"cropperSettings\\\"></img-cropper>\"","import {\n    ChangeDetectionStrategy, ChangeDetectorRef, Component, Input, OnChanges, OnInit,\n    ViewChild\n} from '@angular/core';\nimport {CmsImage} from \"../models/cms-image\";\nimport {Bounds, CropperSettings, ImageCropperComponent} from \"ngx-img-cropper\";\nimport {SimpleChanges} from \"../../../../frontend/web/js/node_modules/@angular/core\";\nimport {SelectItemService} from \"../select-item.service\";\nimport {SelectItemEvent} from \"../models/select-item-event\";\n\n@Component({\n    selector: 'app-image-cropper',\n    templateUrl: './image-cropper.component.html',\n    styleUrls: ['./image-cropper.component.css']\n})\nexport class CustomImageCropperComponent implements OnInit {\n\n    @Input() image: CmsImage;\n\n    @Input() aspectRatio: number;\n\n    @ViewChild('cropper') cropper: ImageCropperComponent;\n\n    constructor(\n        private selectItemService: SelectItemService,\n    ) {\n        this.cropperSettings = new CropperSettings();\n\n        this.cropperSettings.preserveSize = true;\n        this.cropperSettings.noFileInput = true;\n        this.cropperSettings.cropOnResize = false;\n        this.cropperSettings.minWidth = 500;\n        this.cropperSettings.minHeight = 500;\n        this.cropperSettings.keepAspect = true;\n\n    }\n\n    private imageWidth: number = null;\n    private imageHeight: number = null;\n\n    public cropperSettings: CropperSettings;\n\n    private editingImageObject = new Image();\n\n    private toDataURL = url => fetch(url)\n        .then(response => response.blob())\n        .then(blob => new Promise((resolve, reject) => {\n            const reader = new FileReader()\n            reader.onloadend = () => resolve(reader.result)\n            reader.onerror = reject\n            reader.readAsDataURL(blob);\n        }));\n\n    private loadPreviewData(image: CmsImage) {\n        this.toDataURL('/' + image.filename).then(data => {\n            this.editingImageObject.src = data.toString();\n            let that = this;\n            this.editingImageObject.addEventListener(\"load\", function(){\n                console.log( this.naturalWidth +' x '+ this.naturalHeight );\n\n                that.imageWidth = this.naturalWidth;\n                that.imageHeight = this.naturalHeight;\n\n                that.updateCropperSettings();\n            });\n        });\n    }\n\n    private updateCropperSettings()\n    {\n        const imageAspectRatio = this.imageWidth / this.imageHeight;\n\n        this.cropper.cropper.resizeCanvas(650, 650 / imageAspectRatio);\n        this.cropperSettings.minWidth = this.imageWidth / 5;\n        this.cropperSettings.minHeight = this.imageHeight / 5;\n        this.cropper.cropper.setImage(this.editingImageObject);\n    }\n\n\n    ngOnInit() {\n        this.cropperSettings.width = 100;\n        this.cropperSettings.height = 100 / this.aspectRatio;\n        this.loadPreviewData(this.image);\n    }\n\n}\n","module.exports = \".bordered-section {\\n  border: 1px solid #444;\\n  margin: 5px;\\n}\\n.shadowed {\\n  box-shadow: 0 0 25px rgba(0, 0, 0, 0.2);\\n}\\n.put-right {\\n  position: absolute;\\n  right: 11px;\\n  left: 350px;\\n  top: 17px;\\n  max-height: 100%;\\n  overflow-y: auto;\\n}\\n:host {\\n  height: 100%;\\n  overflow: hidden;\\n}\\n:host .module-editor {\\n  background: none;\\n  padding: 8px;\\n}\\n:host .module-editor:not(.show-descriptions) .short-description {\\n  display: none;\\n}\\n:host .module-editor.show-descriptions .image-card {\\n  padding-top: 14.5%;\\n}\\n.tick {\\n  position: absolute;\\n  top: 10px;\\n  right: 10px;\\n  width: 15px;\\n  height: 15px;\\n  border: 1px solid #000;\\n  background-color: #fff;\\n}\\n.tick.ticked:after {\\n  content: '';\\n  position: absolute;\\n  width: 10px;\\n  height: 10px;\\n  top: 2px;\\n  left: 2px;\\n  border-radius: 5px;\\n  background-color: #000;\\n}\\n.wrapper {\\n  height: 100%;\\n}\\n.wrapper.one .image-card {\\n  width: 99%;\\n  padding-top: 99%;\\n}\\n.wrapper.two .image-card {\\n  width: 49%;\\n  padding-top: 49%;\\n}\\n.wrapper.four .image-card {\\n  width: 24%;\\n  padding-top: 24%;\\n}\\n.image-card {\\n  display: inline-block;\\n  width: 11.5%;\\n  padding-top: 11.5%;\\n  position: relative;\\n  margin: 0.5%;\\n}\\n.image-card:hover .short-description {\\n  height: initial;\\n  white-space: initial;\\n  line-height: 22px;\\n  padding: 13px;\\n  padding-left: 12px;\\n}\\n.image-card:before {\\n  position: absolute;\\n  top: 5px;\\n  right: 5px;\\n  bottom: 0;\\n  left: 5px;\\n  content: \\\"\\\";\\n  border-radius: 6px;\\n  box-shadow: 0 3px 15px 0 rgba(0, 0, 0, 0.4);\\n}\\n.image-card .plus {\\n  width: 31px;\\n  height: 31px;\\n  position: relative;\\n  background: url(/admin/assets/icons/plus.svg) no-repeat;\\n  font-size: 0;\\n  margin-top: 11px;\\n  display: block;\\n}\\n.image-card.ticked .image-card-wrapper:after {\\n  position: absolute;\\n  content: '';\\n  width: 100%;\\n  height: 100%;\\n  border: 4px solid #4a90e2;\\n  display: block;\\n}\\n.image-card .image-card-wrapper {\\n  width: 100%;\\n  height: 100%;\\n  overflow: hidden;\\n  position: absolute;\\n  top: 0;\\n  bottom: 0;\\n  background-color: #fff;\\n  border-radius: 6px;\\n  box-sizing: border-box;\\n}\\n.image-card:before {\\n  position: absolute;\\n  top: 5px;\\n  right: 5px;\\n  bottom: 0;\\n  left: 5px;\\n  content: \\\"\\\";\\n  border-radius: 6px;\\n  box-shadow: 0 3px 15px 0 rgba(0, 0, 0, 0.4);\\n}\\n.image-card img {\\n  position: absolute;\\n  top: 50%;\\n  left: 50%;\\n  -webkit-transform: translateY(-50%) translateX(-50%);\\n          transform: translateY(-50%) translateX(-50%);\\n}\\n.image-card img.landscape {\\n  height: 100%!important;\\n}\\n.image-card img.portrait {\\n  width: 100%!important;\\n}\\n.image-card .new-image,\\n.image-card .load-more {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n  background-color: #fff;\\n  border-radius: 6px;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  align-items: center;\\n  text-align: center;\\n}\\n.image-card .short-description {\\n  position: absolute;\\n  bottom: 0;\\n  white-space: nowrap;\\n  text-overflow: ellipsis;\\n  width: 100%;\\n  overflow: hidden;\\n  padding: 12px;\\n  background-color: #fff;\\n  box-shadow: 0 -4px 7px rgba(0, 0, 0, 0.3);\\n}\\n[ngxFileDropzone] {\\n  text-align: center;\\n}\\n.image-for-crop {\\n  width: 100%;\\n}\\n.tags-list .tag {\\n  border-radius: 18px;\\n  background-color: #f8efc0;\\n  color: #000;\\n  padding: 5px;\\n  margin: 0 4px;\\n  padding-left: 10px;\\n  padding-right: 20px;\\n  display: inline-block;\\n  position: relative;\\n  margin-bottom: 8px;\\n}\\n.tags-list .tag .close {\\n  top: 11px;\\n  right: 6px;\\n  font-size: 0.7em;\\n  position: absolute;\\n}\\n.tags-list .tag.plus {\\n  padding: 5px 12.34px!important;\\n  cursor: pointer;\\n}\\n.tags-list .tag.input {\\n  border: none;\\n  padding-left: 10px;\\n}\\n.tags-list .tag.input:focus {\\n  outline: none;\\n}\\n.image-editor-element .update-image {\\n  position: relative;\\n  text-align: center;\\n  margin: 17px 0;\\n}\\n.image-editor-element .update-image .wrapper {\\n  padding: 10px;\\n}\\n.image-editor-element .update-image .plus {\\n  width: 31px;\\n  height: 31px;\\n  position: relative;\\n  background: url(/admin/assets/icons/plus.svg) no-repeat;\\n  font-size: 0;\\n  margin-top: 11px;\\n  display: inline-block;\\n}\\n.image-editor-element .update-image:before {\\n  position: absolute;\\n  top: 2px;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n  content: \\\"\\\";\\n  border-radius: 6px;\\n  box-shadow: 0 3px 11px 0 rgba(0, 0, 0, 0.2);\\n}\\n.image-editor-element textarea {\\n  width: 100%;\\n  margin-bottom: 9px;\\n}\\n.image-editor-element .tags-list {\\n  margin-bottom: 16px;\\n}\\n.image-editor-element .tags-list .tag:first-child {\\n  margin-left: 0;\\n}\\n.image-editor-element .redactor {\\n  margin-top: 0;\\n}\\n.image-editor-element .redactor.vertical .left-part {\\n  vertical-align: top;\\n  max-width: 200px;\\n  display: inline-block;\\n  margin-right: 16px;\\n  float: left;\\n}\\n.image-editor-element .redactor.vertical .right-part {\\n  vertical-align: top;\\n  overflow: hidden;\\n  padding: 0 9px;\\n}\\n.image-editor-element .redactor.vertical .right-part .update-image {\\n  margin-top: 0!important;\\n}\\n.image-editor-element .redactor:not(.vertical) .right-part {\\n  margin-top: 17px;\\n}\\nsection {\\n  margin-top: 16px;\\n}\\n.preview-selector a {\\n  border-radius: 20px;\\n  margin: 10px 5px 10px 5px;\\n  background: none;\\n  padding: 3px 10px;\\n  cursor: pointer;\\n  display: inline-block;\\n}\\n.preview-selector a:first-child {\\n  margin-left: 0;\\n}\\n.preview-selector a.selected {\\n  background-color: #f8efc0;\\n}\\n\"","module.exports = \"<div #wrapper (window:resize)=\\\"onResize($event)\\\" [class]=\\\"getWrapperClass()\\\">\\n  <div class=\\\"images\\\">\\n    <!--infiniteScroll-->\\n    <!--[infiniteScrollDistance]=\\\"2\\\"-->\\n    <!--[infiniteScrollThrottle]=\\\"50\\\"-->\\n    <!--[infiniteScrollContainer]=\\\"'body'\\\"-->\\n    <!--(scrolled)=\\\"loadMore()\\\"-->\\n    <div class=\\\"content module-editor module-editor-full\\\" [class.show-descriptions]=\\\"showDescriptions\\\" *ngIf=\\\"images !== null\\\">\\n      <div class=\\\"image-card\\\">\\n          <div class=\\\"new-image image-wrapper\\\" accept=\\\"image/*\\\" ngxFileDropzone (fileDrop)=\\\"dropped($event)\\\" ngxFilePicker (filePick)=\\\"dropped($event)\\\">\\n            Добавьте фото<br>\\n            <i class=\\\"plus\\\"></i><br>\\n          </div>\\n      </div>\\n      <div *ngFor=\\\"let image of images; let i = index;\\\"\\n           class=\\\"image-card\\\"\\n           (click)=\\\"this.selectionMode ? markImage(i) : openEditor(image, image.getOrientation)\\\"\\n           [class.ticked]=\\\"multiple ? preSelectedImagesMap[image.id] : preSelectedImageMap === image.id\\\"\\n           [hidden]=\\\"i >= limit\\\"\\n      >\\n        <div class='image-card-wrapper' *ngIf=\\\"i < limit;\\\">\\n          <img #imagesList src=\\\"/{{image.filename}}\\\" (load)=\\\"initImageOrientation(i)\\\">\\n          <div class=\\\"short-description\\\">\\n            {{image.description | wordCountLimit: 15 }}\\n          </div>\\n        </div>\\n      </div>\\n      <div class=\\\"image-card\\\" (click)=\\\"loadMore()\\\" *ngIf=\\\"limit < images.length\\\">\\n        <div class=\\\"load-more image-wrapper\\\">\\n          Показать<br>ещё\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n<div #bottom></div>\\n<ng-template #confirmDelete class=\\\"alert-box\\\">\\n  <div class=\\\"modal-header\\\">\\n    <h4 class=\\\"modal-title\\\">Подтвердите действиe</h4>\\n    <button type=\\\"button\\\" class=\\\"close\\\" aria-label=\\\"Close\\\" (click)=\\\"modalRef.hide()\\\">\\n      <span aria-hidden=\\\"true\\\">&times;</span>\\n    </button>\\n  </div>\\n  <div class=\\\"modal-body\\\">\\n    Удалить фото?\\n  </div>\\n  <div class=\\\"modal-footer\\\">\\n    <button type=\\\"button\\\" class=\\\"ripple module-control-button-element delete\\\" (click)=\\\"onConfirmDelete()\\\">Да</button>\\n    <button type=\\\"button\\\" class=\\\"ripple module-control-button-element cancel\\\" (click)=\\\"onCancelDelete()\\\">Нет</button>\\n  </div>\\n</ng-template>\\n\\n<ng-template #imageEditor>\\n  <div class=\\\"modal-header\\\">\\n    <h4 class=\\\"modal-title pull-left\\\">Настройки фото</h4>\\n    <button type=\\\"button\\\" class=\\\"close pull-right\\\" aria-label=\\\"Close\\\" (click)=\\\"modalRef.hide()\\\">\\n      <span aria-hidden=\\\"true\\\">&times;</span>\\n    </button>\\n  </div>\\n  <div class=\\\"modal-body image-editor-element\\\" [class.vertical]=\\\"editingImage.getOrientation\\\" *ngIf=\\\"editingImage !== null\\\">\\n    <!--<tabset>-->\\n      <!--<tab heading=\\\"Общие настройки\\\" id=\\\"redactor-tab\\\">-->\\n        <section class=\\\"redactor\\\" [class.vertical]=\\\"editingImage.getOrientation\\\">\\n\\n          <div class=\\\"left-part\\\">\\n            <div [ngSwitch]=\\\"imageDataForUpdateEditing === null\\\">\\n              <img src=\\\"/{{editingImage.filename}}\\\" class=\\\"image-for-crop\\\" *ngSwitchCase=\\\"true\\\">\\n              <img src=\\\"{{imageDataForUpdateEditing.content}}\\\" class=\\\"image-for-crop\\\" *ngSwitchCase=\\\"false\\\">\\n            </div>\\n          </div>\\n\\n          <div class=\\\"right-part\\\">\\n            <div class=\\\"update-image\\\" accept=\\\"image/*\\\" ngxFileDropzone (fileDrop)=\\\"droppedForUpdate($event)\\\" ngxFilePicker (filePick)=\\\"droppedForUpdate($event)\\\">\\n                <div class=\\\"wrapper\\\">\\n                  Заменить фото<br>\\n                  <i class=\\\"plus\\\"></i>\\n                </div>\\n            </div>\\n\\n            <textarea [(ngModel)]=\\\"editingImage.description\\\"></textarea>\\n\\n            <div class=\\\"tags-list\\\">\\n              <div class=\\\"tag\\\" *ngFor=\\\"let tag of editingImage.getTags()\\\">\\n                {{ tag }}\\n                <i class=\\\"fa fa-close close\\\" (click)=\\\"removeTag(tag)\\\"></i>\\n              </div>\\n              <div *ngIf=\\\"tagAddingMode === false\\\" class=\\\"tag plus\\\" (click)=\\\"setTagEditingMode(true)\\\">+</div>\\n              <input *ngIf=\\\"tagAddingMode === true\\\"\\n                     #newTag class=\\\"tag input\\\"\\n                     [focus]=\\\"focusEventEmitter\\\"\\n                     (keyup.enter)=\\\"addTag(newTag.value)\\\"\\n                     (keyup.space)=\\\"addTag(newTag.value, true);newTag.value = '';\\\"\\n                     (blur)=\\\"setTagEditingMode(false)\\\">\\n            </div>\\n\\n            <div class=\\\"type\\\" *ngIf=\\\"imageTypes !== null\\\">\\n              Тип фото: <select [(ngModel)]=\\\"editingImage.image_type_id\\\" class=\\\"form-control form-control-inline\\\">\\n                <option value=\\\"null\\\">Не выбран</option>\\n                <option *ngFor=\\\"let type of imageTypes\\\" value=\\\"{{type.id}}\\\">\\n                  {{ type.name }}\\n                </option>\\n              </select>\\n            </div>\\n\\n            <section>\\n              <button class=\\\"ripple module-control-button-element cancel\\\" (click)=\\\"modalRef.hide()\\\">отмена</button>\\n              <button class=\\\"ripple module-control-button-element default\\\" (click)=\\\"saveEditingImage()\\\">сохранить</button>\\n              <button class=\\\"ripple module-control-button-element delete\\\" (click)=\\\"deleteEditingImageWithConfirm()\\\">удалить</button>\\n            </section>\\n          </div>\\n\\n          <div class=\\\"cropper-zone\\\">\\n\\n          </div>\\n        </section>\\n      <!--</tab>-->\\n      <!--<tab heading=\\\"Превью\\\" id=\\\"preview-tab\\\">-->\\n        <!--<section class=\\\"preview-editor-element\\\">-->\\n\\n          <!--<nav class=\\\"preview-selector\\\" *ngIf=\\\"editingImage.image_type_id !== null\\\">-->\\n            <!--<a (click)=\\\"selectPreview(preview)\\\" *ngFor=\\\"let preview of getEditingImagePreviews().previewSettings\\\" [class.selected]=\\\"currentPreview != null && preview.id === currentPreview.id\\\">-->\\n             <!--Превью {{preview.width}} x {{preview.height}}-->\\n            <!--</a>-->\\n          <!--</nav>-->\\n          <!--<div innerHTML={{currentPreview.description}}></div>-->\\n\\n          <!--<div *ngIf=\\\"currentPreview !== null\\\">-->\\n            <!--<app-image-cropper [hidden]=\\\"preview.id !== currentPreview.id\\\" *ngFor=\\\"let preview of getEditingImagePreviews().previewSettings\\\" [aspectRatio]=\\\"preview.width / preview.height\\\" [image]=\\\"editingImage\\\"></app-image-cropper>-->\\n          <!--</div>-->\\n\\n        <!--</section>-->\\n      <!--</tab>-->\\n    <!--</tabset>-->\\n  </div>\\n</ng-template>\"","import {\n    Component, ElementRef, EventEmitter, Input, OnInit, Output, TemplateRef, ViewChild,\n    ViewChildren\n} from '@angular/core';\nimport {ModelService} from \"../model.service\";\nimport {CmsImage} from \"../models/cms-image\";\nimport {ReadFileImpl} from \"ngx-file-helpers/src/read-file-impl\";\nimport {ReadFile} from \"ngx-file-helpers\";\nimport {BsModalRef, BsModalService} from \"ngx-bootstrap\";\nimport {ImageType} from \"../models/image-type\";\nimport {Preview} from \"../models/preview\";\nimport {CropperSettings, ImageCropperComponent} from \"ng2-img-cropper\";\nimport {SelectItemService} from \"../select-item.service\";\nimport {SelectItemEvent} from \"../models/select-item-event\";\nimport { ScrollToService } from 'ng2-scroll-to-el';\nimport {ImageFilter} from \"../models/image-filter\";\n\ndeclare var $: any;\n\n@Component({\n    selector: 'app-images',\n    templateUrl: './images.component.html',\n    styleUrls: ['./images.component.css']\n})\nexport class ImagesComponent implements OnInit {\n\n    @Input() selectionMode: boolean = false;\n\n    @Input() multiple: boolean = false;\n\n\n    @Output() selectedImageId = new EventEmitter<CmsImage>();\n    @Output() selectedImageIds = new EventEmitter<Array<CmsImage>>();\n\n    private images: CmsImage[] = null;\n\n    imageDataForUpdateEditing: any = null;\n\n    editingImage: CmsImage | null;\n\n    currentPreview: Preview | null = null;\n\n    tagAddingMode: boolean = false;\n\n    modalRef: BsModalRef;\n\n    modalRefConfirm: BsModalRef;\n\n    public focusEventEmitter = new EventEmitter<boolean>();\n\n    private imageTypes: Array<ImageType> = null;\n\n    private showDescriptions: boolean = false;\n\n    preSelectedImageMap = null;\n    preSelectedImagesMap = [];\n\n    @Input()\n    preSelectedImageIds: Array<number> = [];\n\n    @ViewChildren('imagesList') imageList;\n    @ViewChild('imageEditor') imageEditor: TemplateRef<any>;\n    @ViewChild('confirmDelete') confirmDelete: ElementRef;\n    @ViewChild('newTag') newTag: ElementRef;\n    @ViewChild('bottom') bottom: ElementRef;\n    @ViewChild('wrapper') wrapper: ElementRef;\n\n    private actualSize: number = null;\n\n    onResize($event)\n    {\n        this.actualSize = this.wrapper.nativeElement.offsetWidth;\n        console.log(this.actualSize);\n    }\n\n    public loadMore()\n    {\n        if (this.images && this.limit < this.images.length) {\n            this.limit += 14;\n        }\n\n        this.scrollService.scrollTo(this.bottom.nativeElement);\n    }\n\n    public markImage(i: number)\n    {\n        let imageId = this.images[i].id;\n\n        if (this.multiple) {\n            if (this.preSelectedImagesMap[imageId] === undefined) {\n                this.preSelectedImagesMap[imageId] = true;\n            } else {\n                this.preSelectedImagesMap[imageId] = !this.preSelectedImagesMap[imageId];\n            }\n        } else {\n            this.preSelectedImageMap = imageId;\n        }\n    }\n\n    public detectOrientation(i: number)\n    {\n        let image = this.imageList.toArray()[i].nativeElement;\n\n        if (image.naturalWidth > image.naturalHeight) {\n            image.classList.add('landscape');\n        } else if (image.naturalWidth < image.naturalHeight) {\n            image.classList.add('portrait');\n        }\n    }\n\n    @Input()\n    initiallyFilterByTypeId: number | null = null;\n\n    private loadImages(filter: ImageFilter = null, force: boolean = false) {\n\n        if (this.initiallyFilterByTypeId && filter === null) {\n            filter = new ImageFilter();\n            filter.selectedTags = [];\n            filter.selectedType = this.imageTypes.find(t => t.id === this.initiallyFilterByTypeId);\n        }\n\n        this.modelService.getImages(filter).subscribe(images => {\n            let availableTags = [];\n            images.forEach((rawImage, index) => {\n                let image = CmsImage.fromRaw(rawImage);\n                images[index] = image;\n                availableTags = availableTags.concat(image.getTags());\n                availableTags = availableTags.filter(function(item, i, ar){ return ar.indexOf(item) === i; });\n                this.selectItemService.emitEventOfType(SelectItemEvent.Type.AvailableTags, {availableTags : availableTags});\n            });\n            this.images = images.reverse();\n        });\n    }\n\n    public getWrapperClass(): string\n    {\n        let result = 'wrapper';\n\n        if (this.actualSize < 400)\n        {\n            result += ' one';\n        }\n\n        if (this.actualSize >= 400 && this.actualSize < 900)\n        {\n            result +=  ' two';\n        }\n\n        if (this.actualSize >= 900 && this.actualSize < 1200)\n        {\n            result +=  ' four';\n        }\n\n        if (this.actualSize >= 1200)\n        {\n            result +=  ' eight';\n        }\n\n        return result;\n    }\n\n    private filter;\n\n    constructor(private modelService: ModelService,\n                private modalService: BsModalService,\n                private selectItemService: SelectItemService,\n                private scrollService: ScrollToService) {\n        this.imageDataForUpdateEditing = null;\n        this.filter = new ImageFilter();\n\n        this.selectItemService.event$.subscribe((event: SelectItemEvent) => {\n           if (event.itemType === SelectItemEvent.Type.ApplyFilter) {\n               this.filter = event.payload.filter;\n               this.showDescriptions = this.filter.showDescriptions;\n               console.log(this.filter);\n               this.loadImages(this.filter);\n           } else if (event.itemType === SelectItemEvent.Type.LanguageChange) {\n                this.loadImages(this.filter, true);\n            } else if (event.itemType === SelectItemEvent.Type.ImageChooserApply) {\n                if (this.multiple) {\n                    const result = [];\n                    for (let imageId in this.preSelectedImagesMap) {\n                        if (!this.preSelectedImagesMap[imageId]) continue;\n                        let image = this.images.find(i => i.id === Number(imageId));\n                        if (image !== undefined) {\n                            result.push(image);\n                        }\n                    }\n                    if (result.length) {\n                        this.selectedImageIds.emit(result);\n                    }\n                } else {\n                    let image = this.images.find(i => i.id === Number(this.preSelectedImageMap));\n                    if (image !== undefined) {\n                        this.selectedImageId.emit(image);\n                    }\n                }\n            }\n        });\n    }\n\n    private load()\n    {\n        this.modelService.getImageTypes().subscribe(types => {\n            this.imageTypes = types;\n            this.loadImages();\n        });\n    }\n\n    openEditor(image: CmsImage, orientation: boolean) {\n        this.editingImage = image;\n\n        if (this.imageTypes !== null) {\n            const previews = this.getEditingImagePreviews();\n            if (previews && previews.previewSettings[0]) {\n                this.selectPreview(previews.previewSettings[0]);\n            }\n        }\n\n        this.modalRef = this.modalService.show(this.imageEditor, {'class' : (orientation ? 'vertical' : '')});\n    }\n\n    public calcAspectRatio(preview: Preview)\n    {\n        return preview.width / preview.height;\n    }\n\n    public getEditingImagePreviews()\n    {\n        return this.imageTypes.find(t => t.id == this.editingImage.image_type_id);\n    }\n\n    public getAspectRatio()\n    {\n        return this.currentPreview.width / this.currentPreview.height;\n    }\n\n    private selectPreview(preview: Preview)\n    {\n        this.currentPreview = preview;\n    }\n\n    private saveEditingImage()\n    {\n        this.modelService.saveImage(this.editingImage, this.imageDataForUpdateEditing, (newImage: CmsImage) => {\n            let index = this.images.findIndex(i => i.id === newImage.id);\n            this.images[index] = CmsImage.fromRaw(newImage);\n        });\n    }\n\n    public onConfirmDelete(): void {\n        this.deleteEditingImage();\n        this.modalRefConfirm.hide();\n    }\n\n    public onCancelDelete(): void {\n        this.modalRefConfirm.hide();\n    }\n\n\n    deleteEditingImageWithConfirm()\n    {\n        this.modalRefConfirm = this.modalService.show(this.confirmDelete);\n    }\n\n    private deleteEditingImage()\n    {\n        this.modelService.deleteImage(this.editingImage).subscribe(() => {\n            this.modalRef.hide();\n            this.images = this.images.filter(i => i.id !== this.editingImage.id);\n            this.editingImage = null;\n        });\n    }\n\n    private setTagEditingMode(mode: boolean) {\n        this.tagAddingMode = mode;\n        setTimeout(() => {\n            this.focusEventEmitter.emit(mode);\n        }, 10);\n    }\n\n    private removeTag(tag: string) {\n        this.editingImage.removeTag(tag);\n    }\n\n    private addTag(tag: string, keepInput: boolean = false) {\n        this.editingImage.addTag(tag);\n        this.selectItemService.emitEventOfType(SelectItemEvent.Type.NewTag, {tag : tag});\n        if (!keepInput) {\n            this.setTagEditingMode(false);\n        }\n    }\n\n    ngOnInit() {\n        this.load();\n        this.actualSize = this.wrapper.nativeElement.offsetWidth;\n\n        console.log(this.preSelectedImageIds);\n\n        for (let id of this.preSelectedImageIds) {\n            this.preSelectedImagesMap[id] = true;\n        }\n    }\n\n    private limit = 50;\n\n    public initImageOrientation(i: number) {\n        let imageObject = this.images[i];\n        let image = this.imageList.toArray()[i].nativeElement;\n\n        let orientation = false;\n\n        if (image.naturalWidth > image.naturalHeight) {\n            image.classList.add('landscape');\n        } else if (image.naturalWidth < image.naturalHeight) {\n            image.classList.add('portrait');\n            orientation = true;\n        }\n\n        imageObject.setupOrientationInfo(orientation);\n    }\n\n    public dropped($event: ReadFile) {\n        let content = $event.content;\n        this.modelService.createImage($event, this.filter, (response) => {\n            if (response.status === 'success') {\n                let image = CmsImage.fromRaw(response.image);\n                this.images.unshift(image);\n            }\n        });\n    }\n\n    public droppedForUpdate($event: ReadFile) {\n        console.log($event);\n        this.imageDataForUpdateEditing = {\n            content: $event.content,\n            name: $event.name\n        };\n    }\n}\n","module.exports = \":host {\\n  position: relative;\\n  display: block;\\n}\\n.login-form {\\n  padding: 30px 50px;\\n  box-sizing: content-box;\\n  width: 400px;\\n  margin: 0 auto;\\n  background: #E0E0E0;\\n  box-shadow: 0 0 27px 0 rgba(142, 127, 127, 0.5);\\n  border-radius: 6px;\\n  font-family: Lora, sans-serif;\\n  font-size: 26px;\\n  color: #E0E0E0;\\n  text-align: center;\\n}\\n.login-form .login-logo {\\n  width: 95px;\\n  margin-bottom: 21px;\\n  display: inline-block;\\n}\\n.login-form .invalid-feedback {\\n  position: absolute;\\n  background: #fff;\\n  border: 1px solid #f00;\\n  width: 195px;\\n  right: -210px;\\n  top: 7px;\\n  padding: 0 10px;\\n}\\n.login-form input {\\n  height: 52px!important;\\n  padding-left: 18px!important;\\n}\\n.login-form .field {\\n  margin-bottom: 2px;\\n  position: relative;\\n}\\n.login-form button {\\n  background: #6681E1;\\n  box-shadow: 2px 2px 9px 0 rgba(0, 0, 0, 0.5);\\n  /* LOGIN: */\\n  font-family: Lora, sans-serif;\\n  font-size: 26px;\\n  color: #E0E0E0;\\n  text-align: center;\\n  padding: 5px 50px;\\n  border-radius: 1px;\\n  margin-top: 28px;\\n}\\n\"","module.exports = \"<div class=\\\"login-form\\\">\\n  <img src=\\\"assets/img/logo.png\\\" class=\\\"login-logo\\\">\\n  <form [formGroup]=\\\"loginForm\\\" (ngSubmit)=\\\"onSubmit()\\\">\\n    <div class=\\\"field\\\">\\n      <input placeholder=\\\"login\\\" id=\\\"username\\\" type=\\\"text\\\" formControlName=\\\"username\\\" class=\\\"form-control\\\" [ngClass]=\\\"{ 'is-invalid': submitted && f.username.errors }\\\" />\\n      <div *ngIf=\\\"submitted && f.username.errors\\\" class=\\\"invalid-feedback\\\">\\n        <div *ngIf=\\\"f.username.errors.required\\\">Введите логин</div>\\n      </div>\\n    </div>\\n    <div class=\\\"field\\\">\\n      <input placeholder=\\\"password\\\" id=\\\"password\\\" type=\\\"password\\\" formControlName=\\\"password\\\" class=\\\"form-control\\\" [ngClass]=\\\"{ 'is-invalid': submitted && f.password.errors }\\\" />\\n      <div *ngIf=\\\"submitted && f.password.errors\\\" class=\\\"invalid-feedback\\\">\\n        <div *ngIf=\\\"f.password.errors.required\\\">Введите пароль</div>\\n      </div>\\n    </div>\\n    <div class=\\\"field\\\">\\n      <button [disabled]=\\\"loading\\\" class=\\\"btn btn-primary\\\">ВОЙТИ</button>\\n      <img *ngIf=\\\"loading\\\" src=\\\"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\\\" />\\n    </div>\\n    <div *ngIf=\\\"error\\\" class=\\\"alert alert-danger\\\">{{error}}</div>\\n  </form>\\n</div>\"","import { Component, OnInit } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { first } from 'rxjs/operators';\n\nimport { AuthenticationService } from '../authentication.service';\n\n@Component({\n    templateUrl: 'login.component.html',\n    selector: 'app-login',\n    styleUrls: ['./login.component.css']\n})\nexport class LoginComponent implements OnInit {\n    loginForm: FormGroup;\n    loading = false;\n    submitted = false;\n    returnUrl: string;\n    error = '';\n\n    constructor(\n        private formBuilder: FormBuilder,\n        private route: ActivatedRoute,\n        private router: Router,\n        private authenticationService: AuthenticationService) {}\n\n    public isAuthorized()\n    {\n        return this.authenticationService.isAuthenticated();\n    }\n\n    ngOnInit() {\n        this.loginForm = this.formBuilder.group({\n            username: ['', Validators.required],\n            password: ['', Validators.required]\n        });\n\n        // reset login status\n        this.authenticationService.logout();\n\n        // get return url from route parameters or default to '/'\n        this.returnUrl = this.route.snapshot.queryParams['returnUrl'] || '/';\n    }\n\n    // convenience getter for easy access to form fields\n    get f() { return this.loginForm.controls; }\n\n    onSubmit() {\n        this.submitted = true;\n\n        // stop here if form is invalid\n        if (this.loginForm.invalid) {\n            return;\n        }\n\n        this.loading = true;\n        this.authenticationService.login(this.f.username.value, this.f.password.value)\n            .pipe(first())\n            .subscribe(\n                data => {\n                    this.router.navigate([this.returnUrl]);\n                },\n                error => {\n                    this.error = error;\n                    this.loading = false;\n                });\n    }\n}","import { Injectable } from '@angular/core';\nimport { MenuItem } from './models/menu-item';\nimport { SubMenuPages } from \"./models/sub-menu-pages\";\nimport {SubMenuSettingsComponent} from \"./sub-menu/settings/settings.component\";\nimport {SubMenuSettings} from \"./models/sub-menu-settings\";\nimport {SubMenuImages} from \"./models/sub-menu-images\";\n\n@Injectable()\nexport class MenuService {\n\n  private menuItems: MenuItem[];\n  private defaultRoute = {\n    path: '',\n    redirectTo: 'pages',\n    pathMatch: 'full'\n  };\n\n  constructor() {\n    this.menuItems = [];\n    this.menuItems.push( new MenuItem('images', 'Изображения', new SubMenuImages()));\n    this.menuItems.push( new MenuItem('pages', 'Страницы', new SubMenuPages()));\n    this.menuItems.push( new MenuItem('trainers', 'Тренеры', null));\n    this.menuItems.push( new MenuItem('rooms', 'Номера', null));\n    this.menuItems.push( new MenuItem('trainings', 'Тренировки', null));\n    this.menuItems.push( new MenuItem('restaurant', 'Меню ресторана', null));\n    this.menuItems.push( new MenuItem('settings', 'Настройки', new SubMenuSettings()));\n  }\n\n  getItems(): MenuItem[] {\n    return this.menuItems;\n  }\n}\n","module.exports = \".restaurant-menu-element .item {\\n  margin-bottom: 10px;\\n}\\n@media screen and (min-width: 1200px) {\\n}\\n.restaurant-menu-element .item > div {\\n  display: flex;\\n  flex-direction: row;\\n}\\n.restaurant-menu-element .item > div .description {\\n  line-height: 21px;\\n  flex: 0 auto;\\n  font-size: 15px;\\n  font-family: 'Open Sans', sans-serif;\\n}\\n.restaurant-menu-element .item > div .price {\\n  flex: 1 1;\\n  text-align: right;\\n  font-size: 15px;\\n  font-family: 'Open Sans', sans-serif;\\n  padding-right: 10px;\\n  line-height: 20px;\\n}\\n.restaurant-menu-element .tab-list h3 {\\n  font-family: 'Acrom-Light', sans-serif;\\n}\\n.restaurant-menu-element.mobile {\\n  margin-bottom: 18px;\\n  background-color: #fff;\\n  padding: 5px;\\n}\\n.restaurant-menu-element.mobile > section > header {\\n  text-align: center;\\n  padding: 10px;\\n  background-color: #f9f1dc;\\n  font-size: 20px;\\n  color: #000;\\n  text-transform: uppercase;\\n  font-family: 'Acrom-Light', sans-serif;\\n}\\n.restaurant-menu-element.mobile .menu-category {\\n  padding-left: 10px;\\n}\\n.restaurant-menu-element.mobile .menu-category .item .description {\\n  font-size: 15px;\\n  color: #000;\\n}\\n.restaurant-menu-element.mobile .menu-category .item .price {\\n  font-size: 15px;\\n  color: #000;\\n  line-height: 20px;\\n}\\n.restaurant-menu-element.mobile .menu-category .title {\\n  text-transform: uppercase;\\n  font-size: 22px;\\n  margin: 15px 0;\\n  color: #000;\\n  font-family: 'Acrom-Regular', sans-serif;\\n  text-align: center;\\n  margin-left: -10px;\\n}\\n.restaurant-menu-element.desktop {\\n  background-color: #fff;\\n  padding: 12px;\\n  margin-bottom: 30px;\\n}\\n@media screen and (min-width: 1200px) {\\n  .restaurant-menu-element.desktop header li {\\n    height: 55px;\\n    line-height: 55px;\\n    padding: 0!important;\\n  }\\n}\\n.restaurant-menu-element.desktop .tab-list {\\n  white-space: nowrap;\\n  font-size: 0;\\n}\\n.restaurant-menu-element.desktop .tab-list li {\\n  display: inline-block;\\n  width: 33.3%;\\n  text-align: center;\\n  padding: 10px;\\n  background-color: #eae5cf;\\n  font-size: 20px;\\n  color: #000;\\n  text-transform: uppercase;\\n}\\n.restaurant-menu-element.desktop .tab-list li.active {\\n  background-color: #f9f1dc;\\n  color: #000;\\n}\\n.restaurant-menu-element.desktop .content .tab:not(.active) {\\n  display: none;\\n}\\n.restaurant-menu-element.desktop .content .tab {\\n  overflow: hidden;\\n}\\n.restaurant-menu-element.desktop .content .menu-category {\\n  width: 33.3%;\\n  display: inline-block;\\n  color: #000;\\n  font-size: 18px;\\n  padding: 20px 0;\\n  padding-top: 35px;\\n  vertical-align: top;\\n  float: left;\\n}\\n.restaurant-menu-element.desktop .content .menu-category .title {\\n  text-transform: uppercase;\\n  font-size: 22px;\\n  margin-bottom: 25px;\\n  font-family: 'Acrom-Regular', sans-serif;\\n  text-align: center;\\n}\\n\"","module.exports = \"<div class=\\\"content\\\" *ngIf=\\\"isReady()\\\">\\n  <div class=\\\"restaurant-menu-element desktop ng-scope\\\" ng-controller=\\\"TabsController as tabs\\\" ng-init=\\\"tabs.activeTabIndex = 1\\\">\\n    <header>\\n      <ul class=\\\"tab-list\\\">\\n        <li (click)=\\\"setActiveTabIndex(catId)\\\" *ngFor=\\\"let catId of getCategories()\\\" [class.active]=\\\"isActive(catId)\\\" role=\\\"button\\\" tabindex=\\\"0\\\" class=\\\"active\\\" style=\\\"\\\">\\n          <h3>\\n            {{getCategoryName(catId)}}\\n            <span *ngIf=\\\"isActive(catId) && isEditingAllowed()\\\" (click)=\\\"openNewTitlePopup(catId)\\\">\\n              <i class=\\\"fa fa-plus\\\"></i>\\n            </span>\\n            <span *ngIf=\\\"isActive(catId)\\\" (click)=\\\"openReorderTitlesPopup(catId)\\\">\\n              <i class=\\\"fa fa-bars\\\"></i>\\n            </span>\\n          </h3>\\n        </li>\\n      </ul>\\n    </header>\\n    <section class=\\\"content\\\">\\n      <div class=\\\"tab active\\\" [class.active]=\\\"isActive(n)\\\" *ngFor=\\\"let n of [1,2,3]\\\">\\n        <div class=\\\"menu-category\\\" *ngFor=\\\"let menuCategoryTitle of getMenuCategories(n)\\\">\\n          <div class=\\\"title\\\" (dblclick)=\\\"openEditTitlePopup(menuCategoryTitle)\\\">{{menuCategoryTitle}}</div>\\n          <div class=\\\"item\\\" *ngFor=\\\"let item of getCategoryItems(n, menuCategoryTitle)\\\" (dblclick)=\\\"openEditItemPopup(item)\\\">\\n            <div>\\n              <div class=\\\"description\\\">{{item.title}}<span class=\\\"sizes\\\">{{item.size}}</span></div><div class=\\\"price\\\">{{item.price}}р.</div>\\n            </div>\\n          </div>\\n          <div class=\\\"toolbar-element\\\">\\n            <div (click)=\\\"openNewItemPopup(n, menuCategoryTitle)\\\" *ngIf=\\\"isEditingAllowed()\\\">\\n              <i class=\\\"fa fa-plus\\\"></i>\\n            </div>\\n            <div (click)=\\\"openReorderPopup(n, menuCategoryTitle)\\\">\\n              <i class=\\\"fa fa-bars\\\"></i>\\n            </div>\\n          </div>\\n        </div>\\n      </div>\\n    </section>\\n  </div>\\n</div>\\n\\n<ng-template #newItemPopup>\\n  <div class=\\\"modal-header\\\" [ngSwitch]=\\\"isCreatingNewCategory()\\\">\\n      <h4 *ngSwitchCase=\\\"false\\\" class=\\\"modal-title pull-left\\\">Добавить блюдо в меню</h4>\\n      <h4 *ngSwitchCase=\\\"true\\\" class=\\\"modal-title pull-left\\\">Добавить категорию и блюдо в меню</h4>\\n    <button type=\\\"button\\\" class=\\\"close pull-right\\\" aria-label=\\\"Close\\\" (click)=\\\"closePopup()\\\">\\n      <span aria-hidden=\\\"true\\\">&times;</span>\\n    </button>\\n  </div>\\n  <div class=\\\"modal-body\\\">\\n    <div class=\\\"field\\\" *ngIf=\\\"isCreatingNewCategory()\\\">\\n      <label>Название категории</label>\\n      <div class=\\\"input\\\">\\n        <input autofocus placeholder='введите название' type=\\\"text\\\" [(ngModel)]=\\\"newItem.category_title\\\">\\n      </div>\\n    </div>\\n\\n    <div class=\\\"field\\\">\\n      <label>Название</label>\\n      <div class=\\\"input\\\">\\n        <input type=\\\"text\\\" [(ngModel)]=\\\"newItem.title\\\">\\n      </div>\\n    </div>\\n    <div class=\\\"field\\\">\\n      <label>Цена</label>\\n      <div class=\\\"input\\\">\\n        <input type=\\\"text\\\" [(ngModel)]=\\\"newItem.price\\\">\\n      </div>\\n    </div>\\n    <div class=\\\"field\\\">\\n      <label>Кол-во</label>\\n      <div class=\\\"input\\\">\\n        <input type=\\\"text\\\" [(ngModel)]=\\\"newItem.size\\\">\\n      </div>\\n    </div>\\n  </div>\\n  <div class=\\\"modal-footer\\\">\\n    <div class=\\\"buttons\\\">\\n      <button type=\\\"button\\\" class=\\\"ripple module-control-button-element default\\\" (click)=\\\"addItem()\\\">Создать</button>\\n      <button type=\\\"button\\\" class=\\\"ripple module-control-button-element cancel\\\" (click)=\\\"closePopup()\\\">Отмена</button>\\n    </div>\\n  </div>\\n</ng-template>\\n\\n<ng-template #reorderItemPopup>\\n  <div class=\\\"modal-header\\\">\\n    <h4 class=\\\"modal-title\\\">Поменять местами</h4>\\n    <button type=\\\"button\\\" class=\\\"close\\\" aria-label=\\\"Close\\\" (click)=\\\"closePopup()\\\">\\n      <span aria-hidden=\\\"true\\\">&times;</span>\\n    </button>\\n  </div>\\n  <div class=\\\"modal-body\\\">\\n    <bs-sortable *ngIf=\\\"itemsToSort\\\"\\n                 [(ngModel)]=\\\"itemsToSort\\\"\\n                 itemClass=\\\"sortable-item\\\"\\n                 itemActiveClass=\\\"sortable-item-active\\\"\\n                 placeholderItem=\\\"Drag here\\\"\\n                 placeholderClass=\\\"placeholderStyle\\\"\\n                 wrapperClass=\\\"sortable-wrapper\\\"\\n                 fieldName=\\\"title\\\"\\n    ></bs-sortable>\\n  </div>\\n  <div class=\\\"modal-footer\\\">\\n    <button type=\\\"button\\\" class=\\\"save ripple module-control-button-element default\\\" (click)=\\\"reorderApply();\\\">Да</button>\\n    <button type=\\\"button\\\" class=\\\"ripple module-control-button-element cancel\\\" (click)=\\\"closePopup()\\\">Отмена</button>\\n  </div>\\n</ng-template>\\n\\n\\n<ng-template #reorderTitlePopup>\\n  <div class=\\\"modal-header\\\">\\n    <h4 class=\\\"modal-title\\\">Поменять местами</h4>\\n    <button type=\\\"button\\\" class=\\\"close\\\" aria-label=\\\"Close\\\" (click)=\\\"closePopup()\\\">\\n      <span aria-hidden=\\\"true\\\">&times;</span>\\n    </button>\\n  </div>\\n  <div class=\\\"modal-body\\\">\\n    <bs-sortable *ngIf=\\\"titlesToSort\\\"\\n                 [(ngModel)]=\\\"titlesToSort\\\"\\n                 itemClass=\\\"sortable-item\\\"\\n                 itemActiveClass=\\\"sortable-item-active\\\"\\n                 placeholderItem=\\\"Drag here\\\"\\n                 placeholderClass=\\\"placeholderStyle\\\"\\n                 wrapperClass=\\\"sortable-wrapper\\\"\\n    ></bs-sortable>\\n  </div>\\n  <div class=\\\"modal-footer\\\">\\n    <button type=\\\"button\\\" class=\\\"save ripple module-control-button-element default\\\" (click)=\\\"reorderTitleApply();\\\">Да</button>\\n    <button type=\\\"button\\\" class=\\\"ripple module-control-button-element cancel\\\" (click)=\\\"closePopup()\\\">Отмена</button>\\n  </div>\\n</ng-template>\\n\\n<ng-template #deleteItemConfirmPopup>\\n  <div class=\\\"modal-header\\\">\\n    <h4 class=\\\"modal-title\\\">Точно удалить?</h4>\\n    <button type=\\\"button\\\" class=\\\"close\\\" aria-label=\\\"Close\\\" (click)=\\\"closePopup()\\\">\\n      <span aria-hidden=\\\"true\\\">&times;</span>\\n    </button>\\n  </div>\\n  <div class=\\\"modal-footer\\\">\\n    <button type=\\\"button\\\" class=\\\"save ripple module-control-button-element default\\\" (click)=\\\"deleteItem();\\\">Да</button>\\n    <button type=\\\"button\\\" class=\\\"ripple module-control-button-element cancel\\\" (click)=\\\"closePopup()\\\">Отмена</button>\\n  </div>\\n</ng-template>\\n\\n<ng-template #deleteCategoryConfirmPopup>\\n    <div class=\\\"modal-header\\\">\\n        <h4 class=\\\"modal-title\\\">Точно удалить?</h4>\\n        <button type=\\\"button\\\" class=\\\"close\\\" aria-label=\\\"Close\\\" (click)=\\\"closePopup()\\\">\\n            <span aria-hidden=\\\"true\\\">&times;</span>\\n        </button>\\n    </div>\\n    <div class=\\\"modal-footer\\\">\\n        <button type=\\\"button\\\" class=\\\"save ripple module-control-button-element default\\\" (click)=\\\"deleteCategory();\\\">Да</button>\\n        <button type=\\\"button\\\" class=\\\"ripple module-control-button-element cancel\\\" (click)=\\\"closePopup()\\\">Отмена</button>\\n    </div>\\n</ng-template>\\n\\n<ng-template #editItemPopup>\\n  <div class=\\\"modal-header\\\">\\n    <h4 class=\\\"modal-title pull-left\\\">Редактировать блюдо в меню</h4>\\n    <button type=\\\"button\\\" class=\\\"close pull-right\\\" aria-label=\\\"Close\\\" (click)=\\\"closePopup()\\\">\\n      <span aria-hidden=\\\"true\\\">&times;</span>\\n    </button>\\n  </div>\\n  <div class=\\\"modal-body\\\">\\n    <div class=\\\"field\\\">\\n      <label>Название</label>\\n      <div class=\\\"input\\\">\\n        <input type=\\\"text\\\" [(ngModel)]=\\\"editingItem.title\\\">\\n      </div>\\n    </div>\\n    <div class=\\\"field\\\">\\n      <label>Цена</label>\\n      <div class=\\\"input\\\">\\n        <input type=\\\"text\\\" [(ngModel)]=\\\"editingItem.price\\\">\\n      </div>\\n    </div>\\n    <div class=\\\"field\\\">\\n      <label>Кол-во</label>\\n      <div class=\\\"input\\\">\\n        <input type=\\\"text\\\" [(ngModel)]=\\\"editingItem.size\\\">\\n      </div>\\n    </div>\\n  </div>\\n  <div class=\\\"modal-footer\\\">\\n    <div class=\\\"buttons\\\">\\n      <button type=\\\"button\\\" class=\\\"ripple module-control-button-element default\\\" (click)=\\\"apply()\\\">Применить</button>\\n      <button type=\\\"button\\\" class=\\\"ripple module-control-button-element delete\\\" (click)=\\\"deleteItemWithConfirm(editingItem)\\\">Удалить</button>\\n    </div>\\n  </div>\\n</ng-template>\\n\\n\\n<ng-template #editTitlePopup>\\n    <div class=\\\"modal-header\\\">\\n        <h4 class=\\\"modal-title pull-left\\\">Действия над категорией</h4>\\n        <button type=\\\"button\\\" class=\\\"close pull-right\\\" aria-label=\\\"Close\\\" (click)=\\\"closePopup()\\\">\\n            <span aria-hidden=\\\"true\\\">&times;</span>\\n        </button>\\n    </div>\\n    <div class=\\\"modal-body\\\">\\n        <div class=\\\"field\\\">\\n            <label>Название категории</label>\\n            <div class=\\\"input\\\">\\n                <input type=\\\"text\\\" [(ngModel)]=\\\"editingTitle\\\">\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\\"modal-footer\\\">\\n        <div class=\\\"buttons\\\">\\n            <button type=\\\"button\\\" class=\\\"ripple module-control-button-element default\\\" (click)=\\\"changeTitle()\\\">Переименовать</button>\\n            <button type=\\\"button\\\" class=\\\"ripple module-control-button-element delete\\\" (click)=\\\"deleteCategoryWithConfirm()\\\">Удалить</button>\\n        </div>\\n    </div>\\n</ng-template>\"","import {Component, OnInit, TemplateRef, ViewChild} from '@angular/core';\nimport {ModelService} from \"../model.service\";\nimport {BsModalRef, BsModalService} from \"ngx-bootstrap\";\nimport {SelectItemService} from \"../select-item.service\";\nimport {SelectItemEvent} from \"../models/select-item-event\";\nimport {RestaurantMenu} from \"../models/restaurant-menu\";\n\n@Component({\n    selector: 'app-restaurant-menu',\n    templateUrl: './menu.component.html',\n    styleUrls: ['../common/object-list.component.css', './menu.component.css'],\n})\nexport class RestaurantMenuComponent implements OnInit {\n\n    public menuItems: RestaurantMenu[] | null = null;\n    public itemsToSort: RestaurantMenu[] = [];\n    public titlesToSort: Array<string> = [];\n    public language: number;\n\n    private editingTitle: string | null = null;\n    private editingTitleOld: string | null = null;\n    private selectedTabId: number = 1;\n    private modalRefs: BsModalRef[] = [];\n    private newItem: RestaurantMenu;\n    private editingItem: RestaurantMenu;\n    private itemToDelete: RestaurantMenu | null = null;\n    private isNewCategory: boolean = false;\n\n    @ViewChild('newItemPopup')\n    newItemPopup;\n\n    @ViewChild('editItemPopup')\n    editItemPopup;\n\n    @ViewChild('reorderItemPopup')\n    reorderItemPopup;\n\n    @ViewChild('editTitlePopup')\n    editTitlePopup;\n\n    @ViewChild('reorderTitlePopup')\n    reorderTitlePopup;\n\n    @ViewChild('deleteItemConfirmPopup')\n    deleteItemConfirmPopup;\n\n    @ViewChild('deleteCategoryConfirmPopup')\n    deleteCategoryConfirmPopup;\n\n    constructor(\n        private modelService: ModelService,\n        private modalService: BsModalService,\n        private selectItemService: SelectItemService\n    ) {\n        this.selectItemService.event$.subscribe((e: SelectItemEvent) => {\n            if (e.itemType === SelectItemEvent.Type.TrainingItemTypeRemove) {\n                this.menuItems = this.menuItems.filter(a => a.id !== e.payload.activityTypeId);\n            } else if (e.itemType === SelectItemEvent.Type.LanguageChange) {\n                this.loadMenuItems(true);\n                this.language = e.payload.language;\n            }\n        });\n    }\n\n    public isEditingAllowed()\n    {\n        return this.language != 2;\n    }\n\n    public openNewTitlePopup(catId: number)\n    {\n        this.openNewItemPopup(catId, '', true);\n    }\n\n    public isCreatingNewCategory()\n    {\n        return this.isNewCategory;\n    }\n\n    public changeTitle()\n    {\n        this.modelService\n            .renameRestaurantMenuCategory(this.editingTitleOld, this.editingTitle)\n            .subscribe(() => {\n                this.menuItems\n                    .filter(i => i.category_title === this.editingTitleOld)\n                    .forEach((item) => {\n                        item.category_title = this.editingTitle;\n                    });\n\n                this.closeAllPopups();\n            }, () => {});\n    }\n\n    public deleteCategory()\n    {\n        this.modelService\n            .deleteRestaurantMenuCategory(this.editingTitleOld)\n            .subscribe(() => {\n                this.menuItems = this.menuItems.filter(i => i.category_title !== this.editingTitleOld);\n                this.closeAllPopups();\n            }, () => {});\n    }\n\n    public deleteCategoryWithConfirm()\n    {\n        this.openModal(this.deleteCategoryConfirmPopup);\n    }\n\n    public reorderTitleApply()\n    {\n        let currentItems = this.menuItems.filter(i => i.menu_type === this.selectedTabId);\n        currentItems.forEach((item) => {\n           item.n = item.n % 1000  + this.titlesToSort.indexOf(item.category_title) * 1000;\n           item.n = item.n % 1000  + this.titlesToSort.indexOf(item.category_title) * 1000;\n        });\n        this.menuItems.sort((a, b) => a.n - b.n);\n        this.modelService.reorderApplyByN('restaurantMenu', currentItems);\n        this.closeAllPopups();\n    }\n\n    public openReorderTitlesPopup(catId: number)\n    {\n        this.titlesToSort = this.getMenuCategories(catId);\n        this.openModal(this.reorderTitlePopup);\n    }\n\n    public openReorderPopup(catId: number, catTitle: string)\n    {\n        this.itemsToSort = this.getCategoryItems(catId, catTitle);\n        this.openModal(this.reorderItemPopup);\n    }\n\n    public apply()\n    {\n        this.modelService\n            .updateRestaurantMenuItem(this.editingItem)\n            .subscribe(() => {\n                this.closeAllPopups();\n            });\n    }\n\n    public deleteItemWithConfirm(item: RestaurantMenu)\n    {\n        this.itemToDelete = item;\n        this.openModal(this.deleteItemConfirmPopup);\n    }\n\n    public deleteItem()\n    {\n        this.modelService\n            .deleteRestaurantMenuItem(this.itemToDelete)\n            .subscribe(() => {\n                this.menuItems = this.menuItems.filter(i => i.id !== this.itemToDelete.id);\n                this.itemToDelete = null;\n                this.closeAllPopups();\n            });\n    }\n\n    public openNewItemPopup(catId: number, catTitle: string = '', isNewCategory: boolean = false)\n    {\n        this.isNewCategory = isNewCategory;\n        this.newItem = RestaurantMenu.fromRaw({\n            menu_type: catId,\n            category_title: catTitle,\n            title: 'Новое блюдо',\n            price: 555,\n            size: ''\n        });\n        this.openModal(this.newItemPopup);\n    }\n\n    public openEditItemPopup(item: RestaurantMenu)\n    {\n        this.editingItem = item;\n        this.openModal(this.editItemPopup);\n    }\n\n    public openEditTitlePopup(title: string)\n    {\n        this.editingTitle = title;\n        this.editingTitleOld = title;\n        this.openModal(this.editTitlePopup);\n    }\n\n    public addItem()\n    {\n        let newN = this.getMenuCategories(this.selectedTabId).length * 1000;\n        if (!this.isNewCategory) {\n            newN = Math.max(\n                ...this.menuItems.filter(i => i.category_title == this.newItem.category_title).map(i => i.n)\n            ) + 1;\n        }\n        this.isNewCategory = false;\n        this.newItem.n = newN;\n        this.modelService\n            .createRestaurantMenuItem(this.newItem)\n            .subscribe((item) => {\n                this.menuItems.push(item);\n                this.closePopup();\n            });\n    }\n\n    public getMenuCategories(catId: number): Array<string>\n    {\n        return Array.from(\n            new Set(\n                this.menuItems\n                    .filter(i => i.menu_type == catId)\n                    .map((item: RestaurantMenu) => item.category_title)\n            )\n        );\n    }\n\n    public getCategoryItems(catId: number, catTitle: string): RestaurantMenu[]\n    {\n        return this.menuItems\n            .filter(i => i.menu_type == catId && i.category_title === catTitle)\n            .sort((a, b) => a.n - b.n);\n    }\n\n    public getCategories()\n    {\n        return RestaurantMenu.getCategories();\n    }\n\n    public getCategoryName(catId: number)\n    {\n        return RestaurantMenu.getMenuCategoryNameById(catId);\n    }\n\n    public isActive(id: number)\n    {\n        return this.selectedTabId === id;\n    }\n\n    public setActiveTabIndex(id: number)\n    {\n        this.selectedTabId = id;\n    }\n\n    public isReady()\n    {\n        return this.menuItems !== null;\n    }\n\n    public openModal(template: TemplateRef<any>) {\n        this.modalRefs.push(this.modalService.show(template));\n    }\n\n    public closePopup()\n    {\n        this.modalRefs[this.modalRefs.length - 1].hide();\n        if (this.modalRefs.length > 0) {\n            this.modalRefs.splice(-1, 1);\n        }\n    }\n\n    public reorderApply()\n    {\n        let data = [];\n        this.itemsToSort.forEach((item, index) => {\n            let dataItem = this.menuItems.find(i => i.id === item.id);\n            dataItem.n = index + Math.round(dataItem.n / 1000) * 1000;\n            data.push(dataItem);\n        });\n        this.modelService.reorderApplyByN('restaurantMenu', data);\n        this.closeAllPopups();\n    }\n\n    private closeAllPopups()\n    {\n        while (this.modalRefs.length) {\n            this.closePopup();\n        }\n    }\n\n    private loadMenuItems(force = false)\n    {\n        this.modelService.getRestaurantMenu().subscribe((menuItems) => {\n            menuItems.sort((a, b) => {\n                return a.n - b.n\n            });\n            this.menuItems = menuItems\n                .map(a => RestaurantMenu.fromRaw(a))\n                .sort((a,b) => a.n - b.n);\n            this.titlesToSort = this.getMenuCategories(this.selectedTabId);\n        });\n    }\n\n\n    ngOnInit() {\n        this.loadMenuItems();\n    }\n}","import {Injectable} from '@angular/core';\nimport {HttpClient, HttpHeaders, HttpParams} from '@angular/common/http';\nimport {Observable, Subject, pipe} from 'rxjs';\nimport { Observable as ObservableInt} from 'rxjs/Observable';\nimport 'rxjs/add/observable/forkJoin';\nimport {Trainer} from \"./models/trainer\";\nimport {CmsImage} from \"./models/cms-image\";\nimport {ReadFileImpl} from \"ngx-file-helpers/src/read-file-impl\";\nimport {ReadFile} from \"ngx-file-helpers\";\nimport {Room} from \"./models/room\";\nimport {LanguageService} from \"./services/language.service\";\nimport {ImageType} from \"./models/image-type\";\nimport {ImageFilters} from \"./models/image-filters\";\nimport {ImageFilter} from \"./models/image-filter\";\nimport {HttpParamsOptions} from \"@angular/common/http/src/params\";\nimport {SelectItemEvent} from \"./models/select-item-event\";\nimport {SelectItemService} from \"./select-item.service\";\nimport {TrainingActivity} from \"./models/training-activity\";\nimport {TrainingActivityType} from \"./models/training-activity-type\";\nimport {RestaurantMenu} from \"./models/restaurant-menu\";\n\nconst httpOptions = {\n    headers: new HttpHeaders({\n        'Content-Type': 'application/json',\n        'Authorization': 'my-auth-token'\n    })\n};\n\n@Injectable()\nexport class ModelService {\n\n    private baseUrl = '/api/';\n\n    constructor(\n        private http: HttpClient,\n        private languageService: LanguageService,\n        private selectItemService: SelectItemService\n    ) {\n        Trainer.setupLanguageService(this.languageService);\n        TrainingActivity.setupLanguageService(this.languageService);\n        TrainingActivityType.setupLanguageService(this.languageService);\n        RestaurantMenu.setupLanguageService(this.languageService);\n        Room.setupLanguageService(this.languageService);\n        CmsImage.setupLanguageService(this.languageService);\n    }\n\n    public reorderApply(modelName: string, modelList: any[])\n    {\n        let order = {};\n        let n = 1;\n\n        for (let item of modelList) {\n            let id = item['id'];\n            order[id] = n;\n            n ++;\n        }\n\n        return this.http.post(this.baseUrl + 'reorder?model=' + modelName, {order: order}, httpOptions)\n            .subscribe();\n    }\n\n    public reorderApplyByN(modelName: string, modelList: any[]) {\n        let order = {};\n\n        for (let item of modelList) {\n            let id = item['id'];\n            order[id] = item['n'];\n        }\n\n        return this.http.post(this.baseUrl + 'reorder?model=' + modelName, {order: order}, httpOptions)\n            .subscribe();\n    }\n\n\n    //rooms\n\n    public getRooms(): Observable<Room[]> {\n        return this.getModelListing<Room>(Room.getApiMethodName());\n    }\n\n    public saveRoom(room: Room) {\n        return this.http.put(this.baseUrl + Room.getApiMethodName(room.id), room.forSave())\n            .subscribe();\n    }\n\n    public deleteRoom(room: Room) {\n        return this.http.delete(this.baseUrl + Room.getApiMethodName(room.id));\n    }\n\n    public createRoom(room: Room): Observable<Object> {\n        return this.http.post<Room>(this.baseUrl + Room.getApiMethodName(), room, httpOptions);\n    }\n\n    //trainers\n\n    public getTrainers(): Observable<Trainer[]> {\n        return this.getModelListing<Trainer>(Trainer.getApiMethodName());\n    }\n\n    public saveTrainer(trainer: Trainer) {\n        return this.http.put(this.baseUrl + Trainer.getApiMethodName(trainer.id), trainer.forSave())\n            .subscribe();\n    }\n\n    public deleteTrainer(trainer: Trainer) {\n        return this.http.delete(this.baseUrl + Trainer.getApiMethodName(trainer.id));\n    }\n\n    public createTrainer(trainer: Trainer): Observable<Object> {\n        return this.http.post<Trainer>(this.baseUrl + Trainer.getApiMethodName(), trainer, httpOptions);\n    }\n\n    // image filters\n\n    public getImageFilters(): Observable<ImageFilters> {\n        return this.http.get<ImageFilters>(this.baseUrl + ImageFilters.getApiMethodName());\n    }\n\n\n    //images\n\n    public getRoomImages(room: Room): Observable<CmsImage[]> | null {\n        let images = [];\n        let tasks$ = [];\n\n        room.image_ids.split(',').forEach((idStr) => {\n            let id = parseInt(idStr);\n            if (id) {\n                tasks$.push(this.getImage(id));\n            }\n        });\n\n        return tasks$.length ? ObservableInt.forkJoin(tasks$) : null;\n    }\n\n\n    public getImages(filter: ImageFilter|null = null): Observable<CmsImage[]> {\n\n        let options = {};\n\n        if (filter !== null) {\n            let params = {\n                selectedType : filter.selectedType ? filter.selectedType.id : '',\n                tags : filter.selectedTags.join(',')\n            };\n            const httpParams: HttpParamsOptions = { fromObject: params as HttpParamsOptions } as HttpParamsOptions;\n            options = { params: new HttpParams(httpParams) };\n        }\n\n        return this.http.get<CmsImage[]>(this.baseUrl + CmsImage.getApiMethodName(), options);\n    }\n\n    public getImage(id: number): Observable<CmsImage> {\n        return this.http.get<CmsImage>(this.baseUrl + CmsImage.getApiMethodName(id));\n    }\n\n\n    public saveImage(image: any, data: ReadFile|null, callback?: Function) {\n        image.beforeSave();\n\n        if (data !== null) {\n            image.data = data;\n        }\n\n        return this.http.put(this.baseUrl + CmsImage.getApiMethodName(image.id), image)\n            .subscribe((data: CmsImage) => {\n                this.selectItemService.emitEventOfType(SelectItemEvent.Type.RefreshTags);\n                if (callback instanceof Function) {\n                    callback(data);\n                }\n        });\n    }\n\n    public deleteImage(image: CmsImage) {\n        return this.http.delete(this.baseUrl + CmsImage.getApiMethodName(image.id));\n    }\n\n    public createImage(image: ReadFile, filter: ImageFilter|null, callback: Function) {\n        return this.http.post(this.baseUrl + CmsImage.getApiMethodName(), {\n            content: image.content,\n            filename: image.name,\n            filter: filter\n        }, httpOptions)\n            .subscribe(response => {\n                if (callback instanceof Function) {\n                    callback(response);\n                }\n            });\n    }\n\n    public updateImage(imageData: ReadFile, image: CmsImage, callback: Function) {\n        return this.http.put(this.baseUrl + CmsImage.getApiMethodName(image.id), {\n            content: imageData.content,\n            filename: imageData.name\n        }, httpOptions)\n            .subscribe(response => {\n                if (callback instanceof Function) {\n                    callback(response);\n                }\n            });\n    }\n\n    // image types\n    public getImageTypes()  {\n        return this.getModelListing<ImageType>(ImageType.getApiMethodName());\n    }\n\n    // training activity types\n    public getTrainingActivityTypes()  {\n        return this.getModelListing<TrainingActivityType>(TrainingActivityType.getApiMethodName());\n    }\n\n    public createTrainingActivityType(trainingActivityType: TrainingActivityType)  {\n        return this.http.post<TrainingActivityType>(this.baseUrl + TrainingActivityType.getApiMethodName(), trainingActivityType, httpOptions);\n    }\n\n    public updateTrainingActivityType(trainingActivityType: TrainingActivityType)  {\n        return this.http.put<TrainingActivityType>(this.baseUrl + TrainingActivityType.getApiMethodName(trainingActivityType.id), trainingActivityType);\n    }\n\n    public deleteTrainingActivityType(trainingActivityType: TrainingActivityType)  {\n        return this.http.delete<TrainingActivityType>(this.baseUrl + TrainingActivityType.getApiMethodName(trainingActivityType.id));\n    }\n\n    // training activities\n    public getTrainingActivitiesByType(typeId: number)  {\n        return this.getModelListing<TrainingActivity>(TrainingActivity.getApiMethodName(null, new Map().set('type_id', typeId)));\n    }\n\n    public createTrainingActivity(trainingActivity: TrainingActivity)  {\n        return this.http.post<TrainingActivity>(this.baseUrl + TrainingActivity.getApiMethodName(), trainingActivity, httpOptions);\n    }\n\n    public updateTrainingActivity(trainingActivity: TrainingActivity)  {\n        return this.http.put<TrainingActivity>(this.baseUrl + TrainingActivity.getApiMethodName(trainingActivity.id), trainingActivity);\n    }\n\n    public deleteTrainingActivity(trainingActivity: TrainingActivity)  {\n        return this.http.delete<TrainingActivity>(this.baseUrl + TrainingActivity.getApiMethodName(trainingActivity.id));\n    }\n\n    // menu\n    public getRestaurantMenu()  {\n        return this.getModelListing<RestaurantMenu>(RestaurantMenu.getApiMethodName());\n    }\n\n    public deleteRestaurantMenuItem(item: RestaurantMenu)  {\n        return this.http.delete<RestaurantMenu>(this.baseUrl + RestaurantMenu.getApiMethodName(item.id));\n    }\n\n    public updateRestaurantMenuItem(item: RestaurantMenu)  {\n        return this.http.put<RestaurantMenu>(this.baseUrl + RestaurantMenu.getApiMethodName(item.id), item);\n    }\n\n    public deleteRestaurantMenuCategory(catTitle: string)  {\n        return this.http.delete<RestaurantMenu>(this.baseUrl + RestaurantMenu.getApiBulkMethodName('delete', new Map().set('catTitle', catTitle)));\n    }\n\n    public renameRestaurantMenuCategory(catTitle: string, newTitle: string)  {\n        return this.http.put<RestaurantMenu>(this.baseUrl + RestaurantMenu.getApiBulkMethodName('rename', new Map().set('catTitle', catTitle)), {\n            oldTitle: catTitle,\n            newTitle: newTitle\n        });\n    }\n\n    public createRestaurantMenuItem(item: RestaurantMenu)  {\n        return this.http.post<RestaurantMenu>(this.baseUrl + RestaurantMenu.getApiMethodName(item.id), item, httpOptions);\n    }\n\n    //common\n\n    private getModelListing<T>(apiMethod: string): Observable<T[]> {\n        return this.http.get<T[]>(this.baseUrl + apiMethod);\n    }\n\n    private static getFormUrlEncoded(toConvert) {\n        return JSON.parse(JSON.stringify(toConvert));\n    }\n}","import {LanguageService} from \"../services/language.service\";\n\nexport class BaseApiModel {\n    protected static apiMethodName;\n\n    protected static passLang = false;\n\n    protected static languageService: LanguageService|null = null;\n\n    public static setupLanguageService(languageService: LanguageService) {\n        this.languageService = languageService;\n    }\n\n    public static getApiMethodName(id?: number, params?: Map<string, string>): string\n    {\n        let result = this.apiMethodName + (id ? ('/' + id) : '');\n\n        if (!params) {\n            params = new Map<string, string>();\n        }\n\n        if (this.passLang && this.languageService) {\n            params.set('lang', this.languageService.getLanguage().toString());\n        }\n\n        if (params && params.size) {\n            let parts = [];\n            params.forEach((value, key) => parts.push(key + '=' + value));\n            result += '?' + parts.join('&');\n        }\n\n        return result;\n    }\n}","import {BaseApiModel} from \"./base-api-model\";\nimport {SelectItemService} from \"../select-item.service\";\nimport {SelectItemEvent} from \"./select-item-event\";\n\nexport class CmsImage extends BaseApiModel {\n    protected static apiMethodName = 'images';\n\n    protected static passLang = true;\n\n    public id: number;\n    public image_type_id: number;\n    public width: number;\n    public height: number;\n    public description: string;\n    public ts_created: string;\n    public alt: string;\n    public title: string;\n    public tags_json: string;\n    public previews_json: string;\n    public is_deleted: boolean;\n    public filename: string;\n\n    private orientation: boolean = false;\n\n    private tags = null;\n\n    public get getOrientation(): boolean{\n        return this.orientation;\n    }\n\n    public setupOrientationInfo(orientation: boolean)\n    {\n        this.orientation = orientation;\n    }\n\n    private init()\n    {\n        this.tags = JSON.parse(this.tags_json);\n    }\n\n    public beforeSave()\n    {\n        this.tags_json = JSON.stringify(this.tags);\n    }\n\n    public static fromRaw(rawImage: any): CmsImage {\n        return Object.assign(new CmsImage(), rawImage);\n    }\n\n    public addTag(tag: string) {\n        if (this.tags === null) {\n            this.tags = [];\n        }\n\n        if (this.tags.find(t => t === tag) === undefined) {\n            this.tags.push(tag);\n        }\n    }\n\n    public removeTag(tag: string) {\n        this.tags = this.tags.filter(t => t !== tag);\n    }\n\n    public getTags(): Array<string> {\n        if (this.tags === null) {\n            this.init();\n        }\n\n        return this.tags;\n    }\n}","import {BaseApiModel} from \"./base-api-model\";\nimport {ImageType} from \"./image-type\";\n\nexport class ImageFilter {\n    public selectedTags: Array<string> = [];\n\n    public selectedType: ImageType | null = null;\n\n    public showDescriptions: boolean = false;\n}","import {BaseApiModel} from \"./base-api-model\";\nimport {ImageType} from \"./image-type\";\n\nexport class ImageFilters extends BaseApiModel {\n    protected static apiMethodName = 'filters';\n\n    public tags: Array<string>;\n\n    public types: Array<ImageType>;\n}","import {Preview} from \"./preview\";\nimport {BaseApiModel} from \"./base-api-model\";\n\nexport class ImageType extends BaseApiModel\n{\n    protected static apiMethodName = 'imageTypes';\n\n    public id: number;\n    public name: string;\n    public previewSettings: Preview[];\n}","import { Component, OnInit } from '@angular/core';\nimport { SubMenu } from './sub-menu';\n\nexport class MenuItem {\n\tconstructor(\n\t\tprivate path: string,\n\t\tprivate name: string,\n\t\tprivate subMenu: SubMenu\n\t) {}\n\n\tgetPath() {\n\t\treturn this.path;\n\t}\n\n\tgetName() {\n\t\treturn this.name;\n\t}\n\n\tgetSubmenu(): SubMenu {\n\t\treturn this.subMenu;\n\t}\n}","export class NotificationEvent {\n\tstatus: NotificationEvent.Status;\n\tmessage: string;\n\tpayload: any;\n\n\n\tconstructor(status: NotificationEvent.Status, message: string, payload: any) {\n\t\tthis.status = status;\n\t\tthis.message = message;\n\t\tthis.payload = payload;\n\t}\n}\n\nexport namespace NotificationEvent {\n\texport enum Status {\n\t\tError,\n\t\tSuccess,\n\t\tWarning\n\t}\n}","import {BaseApiModel} from \"./base-api-model\";\n\nexport class RestaurantMenu extends BaseApiModel {\n    public static ID_MENU_MAIN = 1;\n    public static ID_MENU_BANKET = 2;\n    public static ID_MENU_BAR = 3;\n\n    public static getCategories()\n    {\n        return [\n            this.ID_MENU_MAIN,\n            this.ID_MENU_BANKET,\n            this.ID_MENU_BAR\n        ];\n    }\n\n    public static getMenuCategoryNameById(catId)\n    {\n        switch (catId) {\n            case this.ID_MENU_MAIN:\n                return 'Основное меню';\n            case this.ID_MENU_BANKET:\n                return 'Банкетное меню';\n            case this.ID_MENU_BAR:\n                return 'Барная карта';\n        }\n    }\n\n    protected static apiMethodName = 'menu';\n\n\n\n    protected static passLang = true;\n\n    public id: number;\n    public menu_type: number;\n    public category_title: string;\n    public title: string;\n    public price: number;\n    public size: number;\n    public n: number;\n\n    public static getApiBulkMethodName(actionName, params?: Map<string, string>)\n    {\n        this.apiMethodName = 'menu-bulk/' + actionName;\n        let res = this.getApiMethodName(null, params);\n        this.apiMethodName = 'menu';\n        return res;\n    }\n\n\n    public static fromRaw(raw: any): RestaurantMenu {\n        return Object.assign(new RestaurantMenu(), raw);\n    }\n}","import {BaseApiModel} from \"./base-api-model\";\nimport {ModelService} from \"../model.service\";\nimport {CmsImage} from \"./cms-image\";\nimport {HttpClient} from \"../../../../frontend/web/js/node_modules/ngx-checkbox/node_modules/@angular/common/http/src/client\";\nimport {LanguageService} from \"../services/language.service\";\nimport {SelectItemService} from \"../select-item.service\";\nimport {Observable} from \"rxjs/Rx\";\n\nexport class Room extends BaseApiModel {\n    protected static apiMethodName = 'room';\n\n    protected static passLang = true;\n\n    public id: number;\n    public type_id: number;\n    public price_from: number;\n    public square: number;\n    public bed_type: number;\n    public persons_type: number;\n    public image_ids: string;\n    public title: string;\n    public text: string;\n    public alias: string;\n    public tl_room_type: number;\n    public n: number;\n    public published: number;\n\n    private images = [];\n\n    public static fromRaw(rawRoom: any): Room {\n        return Object.assign(new Room(), rawRoom);\n    }\n\n    public setImages(images: Array<CmsImage>) {\n        this.images = images;\n    }\n\n    public forSave(): any {\n        this.image_ids = this.images.map(i => i.id).join(',');\n        let result = Object.assign({}, this);\n        return result;\n    }\n}","import {MenuItem} from \"./menu-item\";\n\nexport class SelectItemEvent {\n\titemType: SelectItemEvent.Type;\n\tpayload: any;\n\n\n\tconstructor(itemType: SelectItemEvent.Type, payload: any) {\n\t\tthis.itemType = itemType;\n\t\tthis.payload = payload;\n\t}\n}\n\nexport namespace SelectItemEvent {\n\texport enum Type {\n\t\tPage,\n\t\tPageRemove,\n        SettingsGroup,\n\t\tTrainerSelect,\n\t\tTrainerRemove,\n\t\tTrainerClose,\n        RoomSelect,\n        RoomRemove,\n        TrainingItemTypeRemove,\n        RoomClose,\n\t\tLanguageChange,\n\t\tImageChooserApply,\n        AvailableTags,\n\t\tNewTag,\n        RefreshTags,\n\t\tCloseAllSelectedItems,\n\t\tChangeAspectRatio,\n        ApplyFilter,\n\t}\n}","\nimport {getFromLocalStorage} from \"../storage\";\n\nexport class State {\n    private componentState: {};\n    private componentName: string;\n\n    public setStateProperty(propertyName: string, value: any)\n    {\n        //console.log('setting');\n        this.componentState[propertyName] = value;\n        localStorage.setItem(this.componentName, JSON.stringify(Object.assign({}, this.componentState)));\n    }\n\n    public getState()\n    {\n        return this.componentState;\n    }\n\n    private loadState() {\n        let state = getFromLocalStorage(this.componentName);\n        if (state) {\n            this.componentState = state;\n        } else {\n            this.componentState = {};\n        }\n    }\n\n    constructor()\n    {\n        this.componentName = this.constructor.name;\n        this.loadState();\n    }\n}","import {SubMenu} from \"./sub-menu\";\n\nexport class SubMenuImages extends SubMenu {\n\tgetType() {\n\t\treturn 'images';\n\t};\n}","import {SubMenu} from \"./sub-menu\";\n\nexport class SubMenuPages extends SubMenu {\n\tgetType() {\n\t\treturn 'pages';\n\t};\n}","import {SubMenu} from \"./sub-menu\";\n\nexport class SubMenuSettings extends SubMenu {\n\tgetType() {\n\t\treturn 'settings';\n\t};\n}","export class SubMenu {\n\tgetType(): string {\n\t\treturn 'none';\n\t};\n}","import {BaseApiModel} from \"./base-api-model\";\n\nexport class Trainer extends BaseApiModel {\n    protected static apiMethodName = 'trainer';\n\n    protected static passLang = true;\n\n    public id: number;\n    public name: string;\n    public position: string;\n    public description: string;\n    public vk_link: string;\n    public fb_link: string;\n    public inst_link: string;\n    public alias: string;\n    public two_lines_position: number;\n    public two_lines_position_en: number;\n    public img_id: number;\n    public img_src: string;\n    public n: number;\n    public has_vk: number;\n    public has_fb: number;\n    public has_inst: number;\n    public published: number;\n\n    public forSave(): any {\n        let result = Object.assign({}, this);\n        delete result.img_src;\n        return result;\n    }\n}","import {BaseApiModel} from \"./base-api-model\";\nimport {TrainingActivity} from \"./training-activity\";\n\nexport class TrainingActivityType extends BaseApiModel {\n    protected static apiMethodName = 'trainingActivityType';\n\n    protected static passLang = true;\n\n    public id: number;\n    public title: string;\n    public color: string;\n    public description: string;\n    public short_title: string;\n    public n: number;\n\n    public static fromRaw(raw: any): TrainingActivityType {\n        return Object.assign(new TrainingActivityType(), raw);\n    }\n}","import {BaseApiModel} from \"./base-api-model\";\nimport {Room} from \"./room\";\n\nexport class TrainingActivity extends BaseApiModel {\n    protected static apiMethodName = 'trainingActivity';\n\n    protected static passLang = true;\n\n    public id: number;\n    public type_id: number;\n    public training_class: number;\n    public title: string;\n    public description: string;\n\n    public static fromRaw(raw: any): TrainingActivity {\n        return Object.assign(new TrainingActivity(), raw);\n    }\n}","import {CanActivate, Router} from '@angular/router';\nimport {Injectable} from '@angular/core';\nimport {ActivatedRouteSnapshot, RouterStateSnapshot} from '@angular/router/src/router_state';\nimport {AuthenticationService} from \"./authentication.service\";\n\n@Injectable()\nexport class NeedAuthGuard implements CanActivate {\n\n    constructor(private auth: AuthenticationService, private router: Router) {\n    }\n\n    canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot) {\n\n        const redirectUrl = route['_routerState']['url'];\n\n        if (this.auth.isAuthenticated()) {\n            return true;\n        }\n\n        this.router.navigateByUrl(\n            this.router.createUrlTree(\n                ['/login'], {\n                    queryParams: {\n                        redirectUrl\n                    }\n                }\n            )\n        );\n\n        return false;\n    }\n}","import {Directive, Input, OnChanges, SimpleChange, SimpleChanges} from '@angular/core';\nimport {NgForOf} from \"@angular/common\";\n\ninterface NgForInChanges extends SimpleChanges {\n    ngForIn?: SimpleChange;\n    ngForOf?: SimpleChange;\n}\n\n@Directive({\n    selector: '[ngFor][ngForIn]'\n})\nexport class NgForIn<T> extends NgForOf<T> implements OnChanges {\n\n    @Input() ngForIn: any;\n\n    ngOnChanges(changes: NgForInChanges): void {\n        //console.log(\"hello\");\n        if (changes.ngForIn) {\n            this.ngForOf = Object.keys(this.ngForIn) as Array<any>;\n\n            const change = changes.ngForIn;\n            const currentValue = Object.keys(change.currentValue);\n            const previousValue = change.previousValue ? Object.keys(change.previousValue) : undefined;\n\n            //console.log(currentValue);\n            //console.log(previousValue);\n\n            changes.ngForOf =  new SimpleChange(previousValue, currentValue, change.firstChange);\n\n            super.ngOnChanges(changes);\n        }\n    }\n}","import { Injectable } from '@angular/core';\nimport { Subject } from \"rxjs/Subject\";\nimport {NotificationEvent} from './models/notification-event';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class NotificationService {\n  private _event = new Subject();\n  event$ = this._event.asObservable();\n\n  public error(message: string, payload: any = {}) {\n    this.emit(new NotificationEvent(NotificationEvent.Status.Error, message, payload));\n  }\n\n  public onError(callback: Function) {\n    this.event$.subscribe((event: NotificationEvent) => {\n      if (event.status === NotificationEvent.Status.Error) {\n        callback(event);\n      }\n    });\n  }\n\n  emit(event: NotificationEvent) {\n    this._event.next(event);\n  }\n}","module.exports = \":host {\\n  display: block;\\n  margin-bottom: 15px;\\n}\\n:host .content input {\\n  margin: 5px;\\n  padding: 4px;\\n}\\n:host .content tr {\\n  position: relative;\\n}\\n:host .content tr td {\\n  position: relative;\\n}\\n:host .content tr td input:first-child {\\n  margin-left: 0!important;\\n}\\n:host .fr-box.fr-inline {\\n  border: 1px solid #d4d4d4;\\n  margin: 5px;\\n  padding: 5px;\\n  color: #000;\\n}\\n:host .link-input {\\n  white-space: nowrap;\\n}\\n.name-field,\\n.title-field,\\n.id-field {\\n  display: block;\\n}\\n.textarea-field {\\n  margin-left: 10px;\\n}\\n.fa-external-link,\\n.fa-trash {\\n  margin: 5px 0 5px 15px;\\n  font-size: 20px;\\n  position: relative;\\n}\\n.fa-trash {\\n  position: relative;\\n  top: -5px;\\n}\\n.fa-bars,\\n.fa-trash {\\n  color: #4a90e2;\\n  font-size: 20px;\\n  margin-left: 15px;\\n}\\n\"","module.exports = \"<div class=\\\"field\\\">\\n  <h2 class=\\\"title\\\">{{title}}</h2>\\n  <div [ngSwitch]=\\\"params.type\\\" class=\\\"content\\\">\\n    <div *ngSwitchCase=\\\"'simple_json_list'\\\">\\n      <table id=\\\"{{uniqId}}\\\">\\n        <thead>\\n          <tr>\\n            <th *ngFor=\\\"let key in params.options\\\" [hidden]=\\\"getFieldExtra(key)['titleRow'] === false\\\">{{params.options[key]}}</th>\\n          </tr>\\n        </thead>\\n        <tbody>\\n          <tr *ngFor=\\\"let row of getRows; let i = index;\\\">\\n            <td *ngFor=\\\"let key in params.options\\\" [class]=\\\"getFieldExtra(key)['class'] ? getFieldExtra(key)['class'] : ''\\\">\\n\\n              <span class=\\\"title\\\" *ngIf=\\\"getFieldExtra(key)['titleRow'] === false\\\">\\n                {{params.options[key]}}\\n              </span>\\n              <div [ngSwitch]=\\\"getFieldType(key)\\\">\\n                <input *ngSwitchCase=\\\"'string'\\\" type=\\\"text\\\" [(ngModel)]=\\\"row[key]\\\" (change)=\\\"updateJsonField()\\\">\\n                <textarea *ngSwitchCase=\\\"'textarea'\\\" ngxTrumbowygEditor name=\\\"editorDirective\\\" [(ngModel)]=\\\"row[key]\\\" (ngModelChange)=\\\"updateJsonField()\\\"></textarea>\\n                <select *ngSwitchCase=\\\"'select'\\\" [(ngModel)]=\\\"row[key]\\\" (change)=\\\"updateJsonField()\\\">\\n                  <option *ngFor=\\\"let value in getFieldOptions(key)\\\" value=\\\"{{value}}\\\">{{getFieldOptions(key)[value]}}</option>\\n                </select>\\n                <div *ngSwitchCase=\\\"'link'\\\" class=\\\"link-input\\\">\\n                  <input [(ngModel)]=\\\"row[key]\\\" (change)=\\\"updateJsonField()\\\" placeholder=\\\"http://yandex.ru\\\">\\n                  <a target=\\\"_blank\\\" [href]=\\\"row[key]\\\"><i class=\\\"fa fa-external-link\\\"></i></a>\\n                </div>\\n              </div>\\n\\n            </td>\\n            <td>\\n              <span class=\\\"handle\\\"><i class=\\\"fa fa-bars\\\"></i></span>\\n              <span class=\\\"close\\\" (click)=\\\"deleteJsonRow(i)\\\"><i class=\\\"fa fa-trash\\\"></i></span>\\n            </td>\\n          </tr>\\n          <tr colspan=\\\"0\\\">\\n           <td><span class=\\\"add\\\" (click)=\\\"addJsonRow()\\\"><i class=\\\"fa fa-plus\\\"></i></span></td>\\n          </tr>\\n        </tbody>\\n      </table>\\n    </div>\\n\\n    <div *ngSwitchCase=\\\"'simple_json'\\\">\\n      <div *ngFor=\\\"let key in params.options\\\">\\n        {{params.options[key]}}\\n        <div [ngSwitch]=\\\"getFieldType(key)\\\">\\n          <input *ngSwitchCase=\\\"'string'\\\" type=\\\"text\\\" [(ngModel)]=\\\"jsonData[key]\\\" (change)=\\\"updateJsonField()\\\">\\n          <textarea *ngSwitchCase=\\\"'textarea'\\\" ngxTrumbowygEditor name=\\\"editorDirective\\\" [(ngModel)]=\\\"jsonData[key]\\\" (ngModelChange)=\\\"updateJsonField()\\\"></textarea>\\n          <select *ngSwitchCase=\\\"'select'\\\" [(ngModel)]=\\\"jsonData[key]\\\" (change)=\\\"updateJsonField()\\\">\\n            <option *ngFor=\\\"let value in getFieldOptions(key)\\\" value=\\\"{{value}}\\\">{{getFieldOptions(key)[value]}}</option>\\n          </select>\\n          <div *ngSwitchCase=\\\"'link'\\\" class=\\\"link-input\\\">\\n            <input [(ngModel)]=\\\"jsonData[key]\\\" (change)=\\\"updateJsonField()\\\" placeholder=\\\"http://yandex.ru\\\">\\n            <a target=\\\"_blank\\\" [href]=\\\"jsonData[key]\\\">{{jsonData[key]}}</a>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\"","import {AfterViewChecked, Component, Input, OnInit, ViewChild} from '@angular/core';\nimport {AppHelper} from \"../components/app-helper\";\nimport tableDragger from 'table-dragger'\nimport * as $ from 'jquery';\n\n@Component({\n    selector: 'app-page-editor-field-extended',\n    templateUrl: './page-editor-field-extended.component.html',\n    styleUrls: ['./page-editor-field-extended.component.css']\n})\nexport class PageEditorFieldExtendedComponent implements OnInit, AfterViewChecked {\n    public uniqId;\n\n    constructor() {\n        this.uniqId = AppHelper.uuid();\n    }\n\n    @Input() valueSet: any;\n    @Input() valueKey: any;\n    @Input() title: any;\n    @Input() params: any;\n    @Input() titleEachField: boolean = false;\n\n    private jsonData = null;\n\n    private dragger: any = null;\n\n    public swapRows(from: number, to: number) {\n        let tmp = this.jsonData[from];\n        this.jsonData[from] = this.jsonData[to];\n        this.jsonData[to] = tmp;\n    }\n\n    public getFieldType(key) {\n        let fieldType = this.params['options_types'][key];\n\n        if (fieldType === undefined) {\n            fieldType = null;\n        }\n\n        if (fieldType && typeof fieldType !== 'string') {\n            fieldType = fieldType[0] ? fieldType[0] : 'string';\n        }\n\n        return fieldType ? fieldType : 'string';\n    }\n\n    public getFieldOptions(key) {\n        let fieldTypeData = this.params['options_types'][key];\n\n        if (fieldTypeData && typeof fieldTypeData !== 'string') {\n            return fieldTypeData[1] ? fieldTypeData[1] : [];\n        }\n\n        return [];\n    }\n\n    public getFieldExtra(key) {\n        let fieldTypeData = this.params['options_types'][key];\n\n        if (fieldTypeData && typeof fieldTypeData !== 'string') {\n            return fieldTypeData[2] ? fieldTypeData[2] : {};\n        }\n\n        return {};\n    }\n\n    get getRows()\n    {\n        return this.jsonData && this.jsonData.length ? this.jsonData : [];\n    }\n\n    public updateJsonField()\n    {\n        this.valueSet[this.valueKey] = JSON.stringify(this.jsonData);\n    }\n\n    public addJsonRow()\n    {\n        if (!this.jsonData) {\n            this.jsonData = [];\n        }\n\n        try {\n            let newRow = Object.assign({}, this.params.options);\n            Object.keys(newRow).forEach(key => {newRow[key] = '';});\n            console.log(newRow);\n            this.jsonData.push(newRow);\n        } finally {\n        }\n\n        this.reinitRequired = true;\n    }\n\n\n    public deleteJsonRow(index: number)\n    {\n        try {\n            let data = this.jsonData;\n            this.jsonData = data.filter(item => data.indexOf(item) !== index);\n        } finally {\n        }\n\n        this.updateJsonField();\n    }\n\n    public setVal(value: any) {\n        this.valueSet[this.valueKey] = value;\n    }\n\n    private reinitDragger() {\n        if (this.jsonData.length) {\n\n            if (this.dragger) {\n                this.dragger.destroy();\n            }\n\n            this.initDragger(true);\n        };\n    }\n\n    private initDragger(force: boolean = false) {\n        if (force || (this.dragger === null && this.jsonData.length)) {\n\n            let el = document.getElementById(this.uniqId);\n            this.dragger = tableDragger(el, {\n                mode: 'row',\n                dragHandler: '.handle',\n                onlyBody: true,\n                animation: 300\n            });\n\n            let that = this;\n            this.dragger.on('drop',function(from, to) {\n                that.swapRows(from - 1, to - 1);\n                that.updateJsonField();\n                that.reinitDragger();\n            });\n        };\n    }\n\n    private reinitRequired = false;\n\n\n    ngAfterViewChecked()\n    {\n        if (this.params.type == 'simple_json_list') {\n            this.initDragger();\n            if (this.reinitRequired) {\n                this.reinitDragger();\n                this.reinitRequired = false;\n            }\n        }\n    }\n\n    ngOnInit() {\n        this.jsonData = JSON.parse(this.valueSet[this.valueKey]);\n\n        if (!this.jsonData && this.params.type == 'simple_json') {\n            this.jsonData = {};\n\n            for (let key in this.params['options']) {\n                this.jsonData[key] = '';\n            }\n\n        } else if (!this.jsonData && this.params.type == 'simple_json_list') {\n            this.jsonData = [];\n        }\n    }\n}\n","module.exports = \":host {\\n  display: block;\\n  margin-bottom: 15px;\\n}\\n:host .inline {\\n  display: inline-block;\\n  margin-left: 10px;\\n}\\n:host .inline input.color {\\n  position: relative;\\n  top: -3px;\\n}\\n:host .title {\\n  display: inline-block;\\n  vertical-align: top;\\n}\\n:host .content input:not([type=checkbox]) {\\n  width: 100%;\\n  display: block;\\n}\\n:host .content input[type=text] {\\n  width: 300px;\\n}\\n:host .fr-box.fr-inline {\\n  border: 1px solid #d4d4d4;\\n  margin: 5px;\\n  padding: 5px;\\n  color: #000;\\n}\\n\"","module.exports = \"<div class=\\\"field\\\">\\n  <div class=\\\"title\\\">\\n    <b *ngIf=\\\"params.required === 1\\\">\\n      <label for=\\\"{{uniqId}}\\\">{{title}}</label>\\n    </b>\\n    <label *ngIf=\\\"params.required !== 1\\\" for=\\\"{{uniqId}}\\\">{{title}}</label>\\n  </div>\\n  <div [ngSwitch]=\\\"params.type\\\" class=\\\"content\\\" [class.inline]=\\\"params.type === 'checkbox' || params.type === 'color'\\\">\\n    <div *ngSwitchCase=\\\"'string'\\\">\\n      <input id={{uniqId}} type=\\\"text\\\" [(ngModel)]=\\\"valueSet[valueKey]\\\">\\n    </div>\\n    <div *ngSwitchCase=\\\"'select'\\\">\\n      <select id={{uniqId}} [(ngModel)]=\\\"valueSet[valueKey]\\\">\\n        <option *ngFor=\\\"let option in params.options\\\" [value]=\\\"option\\\">{{params.options[option]}}</option>\\n      </select>\\n    </div>\\n    <div *ngSwitchCase=\\\"'checkbox'\\\">\\n      <mat-checkbox id={{uniqId}} [(ngModel)]=\\\"valueSet[valueKey]\\\" [color]=\\\"'primary'\\\"></mat-checkbox>\\n    </div>\\n    <div *ngSwitchCase=\\\"'textarea'\\\">\\n      <textarea id={{uniqId}} ngxTrumbowygEditor name=\\\"editorDirective\\\" [(ngModel)]=\\\"valueSet[valueKey]\\\"></textarea>\\n    </div>\\n    <div *ngSwitchCase=\\\"'script'\\\">\\n      <textarea id={{uniqId}} name=\\\"editorDirective\\\" [(ngModel)]=\\\"valueSet[valueKey]\\\"></textarea>\\n    </div>\\n    <div *ngSwitchCase=\\\"'color'\\\">\\n      <input class=\\\"color\\\" id={{uniqId}} type=\\\"text\\\" (colorPickerChange)=\\\"setVal($event)\\\" [colorPicker]=\\\"valueSet[valueKey]\\\" [style.background]=\\\"valueSet[valueKey]\\\" [cpOutputFormat]=\\\"hex\\\"/>\\n    </div>\\n    <div *ngSwitchCase=\\\"'image'\\\">\\n      <img *ngIf=\\\"imageSrc && imageSrc.length\\\" width=\\\"200px\\\" src=\\\"/{{imageSrc}}\\\" (click)=\\\"openChooser()\\\">\\n      <button *ngIf=\\\"!(imageSrc && imageSrc.length)\\\" (click)=\\\"openChooser()\\\">Выбор</button>\\n\\n      <app-image-chooser-popup #imageChooser (selectedImageId)=\\\"selectImage($event)\\\"></app-image-chooser-popup>\\n    </div>\\n  </div>\\n</div>\\n\"","import {Component, Input, OnInit, ViewChild} from '@angular/core';\nimport {AppHelper} from \"../components/app-helper\";\nimport {ModelService} from \"../model.service\";\nimport {CmsImage} from \"../models/cms-image\";\nimport {BsModalService} from \"ngx-bootstrap\";\nimport {SelectItemService} from \"../select-item.service\";\nimport {ImageChooserPopupComponent} from \"../image-chooser-popup/image-chooser-popup.component\";\n//import {CustomCheckBoxModel} from \"angular-custom-checkbox\";\n\n@Component({\n    selector: 'app-page-editor-field',\n    templateUrl: './page-editor-field.component.html',\n    styleUrls: ['./page-editor-field.component.css']\n})\nexport class PageEditorFieldComponent implements OnInit {\n    private uniqId;\n\n    private modalRef;\n\n    @ViewChild('imageChooser') imageChooser: ImageChooserPopupComponent;\n\n    constructor(\n        private modelService: ModelService,\n        private modalService: BsModalService,\n        private selectItemService: SelectItemService\n    ) {\n        this.uniqId = AppHelper.uuid();\n    }\n\n    openChooser()\n    {\n        this.imageChooser.showPopup();\n    }\n\n\n    @Input() valueSet: any;\n    @Input() valueKey: any;\n    @Input() title: any;\n    @Input() params: any;\n\n\n    private imageSrc = null;\n\n    private jsonData = null;\n\n    public getRows()\n    {\n        if (this.jsonData === null) {\n            this.jsonData = JSON.parse(this.valueSet[this.valueKey]);\n        }\n\n        return this.jsonData && this.jsonData.length ? this.jsonData : [];\n    }\n\n    public updateJsonField()\n    {\n        this.valueSet[this.valueKey] = JSON.stringify(this.jsonData);\n    }\n\n    public addJsonRow()\n    {\n        if (!this.jsonData) {\n            this.jsonData = [];\n        }\n\n        try {\n            let newRow = Object.assign({}, this.params.options);\n            Object.keys(newRow).forEach(key => {newRow[key] = '';});\n            console.log(newRow);\n            this.jsonData.push(newRow);\n        } finally {\n        }\n    }\n\n\n    public deleteJsonRow(index: number)\n    {\n        try {\n            let data = this.jsonData;\n            this.jsonData = data.filter(item => data.indexOf(item) !== index);\n        } finally {\n        }\n    }\n\n    public selectImage(image: CmsImage)\n    {\n        this.valueSet[this.valueKey] = image.id;\n        this.imageSrc = image.filename;\n    }\n\n    public froalaSettings: Object = {\n        toolbarInline: true,\n    };\n\n    public setVal(value: any) {\n        this.valueSet[this.valueKey] = value;\n    }\n\n    private reloadImageSrc()\n    {\n        this.modelService.getImage(this.valueSet[this.valueKey]).subscribe((image) => {\n            //console.log('image obtained!');\n            this.imageSrc = image.filename;\n        });\n    }\n\n    ngOnInit() {\n        if (this.params.type === 'image') {\n            //console.log('azazaza');\n            this.reloadImageSrc();\n        }\n    }\n\n}\n","module.exports = \".toolbar button {\\n  margin: 0 5px;\\n}\\n.instances {\\n  position: relative;\\n  border-radius: 5px;\\n  padding: 5px;\\n  margin: 5px;\\n  margin-bottom: 15px;\\n  background-color: rgba(0, 0, 0, 0.1);\\n}\\n.instances .toolbar-element {\\n  background-color: transparent!important;\\n}\\n.instances .toolbar-element div {\\n  background-color: transparent!important;\\n}\\n.instances .instance-item {\\n  position: relative;\\n}\\n.instances .instance-item .toolbar {\\n  display: block;\\n  overflow: hidden;\\n}\\n.instances .instance-item .instance-toolbar {\\n  position: absolute;\\n  top: 0;\\n  right: 5px;\\n  z-index: 90;\\n}\\n.instances .instance-item .instance-toolbar .close {\\n  top: 13px;\\n  position: absolute;\\n  right: 8px;\\n  font-size: 17px;\\n}\\n.composite-field-items {\\n  padding-right: 30px;\\n}\\n.composite-field-items .item {\\n  width: 100%;\\n  height: 20px;\\n  padding: 10px;\\n  border-radius: 10px;\\n  background-color: rgba(247, 231, 213, 0.64);\\n  margin-bottom: 5px;\\n}\\n.empty-wrapper {\\n  display: inline-block;\\n}\\n\"","module.exports = \"<div [ngSwitch]=\\\"params[key].type\\\">\\n  <div *ngSwitchCase=\\\"'composite'\\\">\\n    <h3>{{params[key].title}}</h3>\\n    <div class=\\\"instances\\\">\\n      <div *ngFor=\\\"let section of values[key]; let i = index;\\\" class=\\\"instance-item\\\">\\n        <div class=\\\"instance-toolbar\\\">\\n          <span class=\\\"close\\\" (click)=\\\"deleteInstanceWithConfirm(key, i)\\\"><i class=\\\"fa fa-close\\\"></i></span>\\n        </div>\\n        <page-editor\\n                [level]=\\\"level + 1\\\"\\n                [generalName]=\\\"getSectionGeneralName(section)\\\"\\n                [itemTitle]=\\\"getSectionTitle(section)\\\"\\n                [uniqKey]=\\\"uniqKey + '_' + key\\\"\\n                [params]=\\\"params[key]['availableInstances'][section.type]\\\"\\n                [values]=\\\"section\\\">\\n        </page-editor>\\n      </div>\\n      <div class=\\\"toolbar toolbar-element\\\">\\n        <div class=\\\"empty-wrapper\\\" [ngSwitch]=\\\"(params[key]['availableInstances'] | values).length === 1\\\">\\n          <div *ngSwitchCase=\\\"true\\\" dropdownToggle aria-controls=\\\"dropdown-basic\\\" #item (click)=\\\"appendInstance(key)\\\">\\n            <i class=\\\"fa fa-plus\\\"></i>\\n          </div>\\n          <div *ngSwitchCase=\\\"false\\\" class=\\\"btn-group\\\" dropdown #dropdown=\\\"bs-dropdown\\\" [autoClose]=\\\"true\\\">\\n            <div dropdownToggle aria-controls=\\\"dropdown-basic\\\">\\n              <i class=\\\"fa fa-plus\\\"></i>\\n            </div>\\n            <ul *dropdownMenu class=\\\"dropdown-menu\\\"\\n                role=\\\"menu\\\" aria-labelledby=\\\"button-triggers-manual\\\">\\n              <li *ngFor=\\\"let instanceType in params[key]['availableInstances']\\\" role=\\\"menuitem\\\">\\n                <a class=\\\"dropdown-item\\\" (click)=\\\"appendInstance(key, instanceType)\\\">\\n                  {{params[key]['instancesLabels'][instanceType]}}\\n                </a>\\n              </li>\\n            </ul>\\n          </div>\\n        </div>\\n        <div *ngIf=\\\"values[key].length > 1\\\"(click)=\\\"reorder()\\\">\\n          <i class=\\\"fa fa-bars\\\"></i>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n  <div *ngSwitchDefault>\\n    <app-page-editor-field [title]=\\\"params[key].title\\\" [params]=\\\"params[key]\\\" [valueSet]=\\\"values\\\" [valueKey]=\\\"key\\\"></app-page-editor-field>\\n  </div>\\n</div>\"","import {Component, Input, OnInit} from '@angular/core';\nimport {PageEditorTreeComponent} from \"../page-editor-tree/page-editor-tree.component\";\n\n@Component({\n    selector: 'app-page-editor-tree-item',\n    templateUrl: './page-editor-tree-item.component.html',\n    styleUrls: ['./page-editor-tree-item.component.css']\n})\nexport class PageEditorTreeItemComponent implements OnInit {\n    @Input() params: any;\n    @Input() key:    any;\n    @Input() values: any;\n    @Input() uniqKey: string;\n    @Input() level: number = 1;\n    @Input() parent: PageEditorTreeComponent;\n\n\n    constructor() {\n    }\n\n    ngOnInit() {\n    }\n\n    public getSectionGeneralName(section: any)\n    {\n        return this.params[this.key]['instancesLabels'][section.type];\n    }\n\n    public getSectionTitle(section: any)\n    {\n        return PageEditorTreeItemComponent.obtainSectionTitle(this.params, this.key, section);\n    }\n\n\n    public static obtainSectionTitle(params, key, section: any)\n    {\n        if (params[key] && params[key].itemTitleKey) {\n            let fieldName = params[key].itemTitleKey;\n            let result;\n\n            let itemTitleFieldType = null;\n            try {\n                let subsectionType = section.type;\n                itemTitleFieldType = params[key].availableInstances[subsectionType][fieldName].type;\n\n                switch (itemTitleFieldType) {\n                    case 'select':\n                        try {\n                            let subsectionType = section.type;\n                            let fieldValue = section[fieldName];\n                            let options = params[key].availableInstances[subsectionType][fieldName].options;\n\n                            result = options[fieldValue];\n                        } catch (e) {\n                            let subsectionTypeName = section.sectionTypeName ? section.sectionTypeName : '';\n                            result = 'Не выбрано';\n                            if (subsectionTypeName) {\n                                result += ' :' + subsectionTypeName;\n                            }\n                        }\n                        break;\n                    case 'string':\n                        result = section[fieldName];\n                        break;\n                }\n            } catch (e) {\n                result = 'Нет названия';\n            }\n\n\n            return result ? result : 'Без названия';\n        }\n\n        return 'Без названия';\n    }\n\n    public prepareInstance(instanceParams, sectionType: string, fieldName: string) {\n        let newSection = {\n            sectionType: sectionType,\n            type: sectionType,\n            sectionTypeName: this.params[fieldName]['instancesLabels'][sectionType]\n        };\n\n        for (let key in instanceParams) {\n            if (instanceParams[key].type !== 'composite') {\n                newSection[key] = instanceParams[key].default;\n            } else {\n                newSection[key] = [];\n            }\n        }\n\n        return newSection;\n    }\n\n    public reorder()\n    {\n        this.parent.reorder(this.key);\n    }\n\n    public deleteInstanceWithConfirm(key: string, instanceIndex: number) {\n        this.deleteInstance(key, instanceIndex);\n    }\n\n    public deleteInstance(key: string, instanceIndex: number) {\n        this.values[key].splice(instanceIndex, 1);\n        //console.log(this.values[key].length);\n        //console.log(this.values[key]);\n    }\n\n    public appendInstance(key: string) {\n        let instanceType = Object.keys(this.params[key]['availableInstances'])[0];\n        //console.log(key);\n        //console.log(instanceType);\n\n        let newInstance = this.prepareInstance(this.params[key]['availableInstances'][instanceType], instanceType, key);\n\n        this.values[key].push(newInstance);\n\n    }\n\n}\n","module.exports = \".bordered-section {\\n  border: 1px solid #444;\\n  margin: 5px;\\n}\\n.shadowed {\\n  box-shadow: 0 0 25px rgba(0, 0, 0, 0.2);\\n}\\n.put-right {\\n  position: absolute;\\n  right: 11px;\\n  left: 350px;\\n  top: 17px;\\n  max-height: 100%;\\n  overflow-y: auto;\\n}\\n/*.composite-field-items page-editor {*/\\n/*display: none;*/\\n/*}*/\\n:host {\\n  display: block;\\n}\\n.not-grouped-content {\\n  background-color: #fff;\\n}\\nul {\\n  list-style: none;\\n  padding-left: 0;\\n}\\n\"","module.exports = \"<accordion  *ngIf=\\\"!paramsHasGroups\\\">\\n    <accordion-group heading=\\\"{{getHeading}}\\\" [isOpen]=\\\"false\\\" (isOpenChange)=\\\"logToggle($event, 'nogroup')\\\">\\n        <div *ngFor=\\\"let key in notGroupdParams\\\">\\n            <app-page-editor-tree-item [level]=\\\"level\\\" [key]=\\\"key\\\" [params]=\\\"params\\\" [values]=\\\"values\\\" [parent]=\\\"this\\\" [uniqKey]=\\\"uniqKey\\\"></app-page-editor-tree-item>\\n        </div>\\n    </accordion-group>\\n</accordion>\\n<accordion *ngIf=\\\"paramsHasGroups\\\" class=\\\"super\\\">\\n    <accordion-group *ngIf=\\\"(notGroupdParams | json) !== '{}'\\\" heading=\\\"{{getHeading}}\\\" [isOpen]=\\\"false\\\" (isOpenChange)=\\\"logToggle($event, 'nogroup')\\\">\\n        <div *ngFor=\\\"let key in notGroupdParams\\\">\\n            <app-page-editor-tree-item [level]=\\\"level\\\" [key]=\\\"key\\\" [params]=\\\"params\\\" [values]=\\\"values\\\" [parent]=\\\"this\\\" [uniqKey]=\\\"uniqKey\\\"></app-page-editor-tree-item>\\n        </div>\\n    </accordion-group>\\n    <accordion-group *ngFor=\\\"let group in groupedParamsSet\\\" heading=\\\"{{groupedParamsSet[group].title}}\\\" style=\\\"color: #f00\\\" [isOpen]=\\\"false\\\" (isOpenChange)=\\\"logToggle($event, group)\\\">\\n        <div *ngFor=\\\"let key in groupedParamsSet[group].values\\\">\\n            <app-page-editor-tree-item [level]=\\\"level\\\" [key]=\\\"key\\\" [params]=\\\"params\\\" [values]=\\\"values\\\" [parent]=\\\"this\\\" [uniqKey]=\\\"uniqKey\\\"></app-page-editor-tree-item>\\n        </div>\\n    </accordion-group>\\n</accordion>\\n<ng-template #reorderDialog>\\n    <div class=\\\"modal-header\\\">\\n        <h4 class=\\\"modal-title\\\">Поменять местами</h4>\\n        <button type=\\\"button\\\" class=\\\"close\\\" aria-label=\\\"Close\\\" (click)=\\\"modalRef.hide()\\\">\\n            <i class=\\\"fa fa-close\\\"></i>\\n        </button>\\n    </div>\\n    <div class=\\\"modal-body\\\">\\n        <bs-sortable *ngIf=\\\"selectedInstanceOrder\\\"\\n                     [(ngModel)]=\\\"selectedInstanceOrder\\\"\\n                     itemClass=\\\"sortable-item\\\"\\n                     itemActiveClass=\\\"sortable-item-active\\\"\\n                     placeholderItem=\\\"Drag here\\\"\\n                     placeholderClass=\\\"placeholderStyle\\\"\\n                     wrapperClass=\\\"sortable-wrapper\\\"\\n                     fieldName=\\\"name\\\"\\n        ></bs-sortable>\\n    </div>\\n    <div class=\\\"modal-footer\\\">\\n        <button type=\\\"button\\\" class=\\\"ripple module-control-button-element default\\\" (click)=\\\"reorderApply()\\\">Да</button>\\n        <button type=\\\"button\\\" class=\\\"ripple module-control-button-element cancel\\\" (click)=\\\"modalRef.hide()\\\">Отмена</button>\\n    </div>\\n</ng-template>\"","import {Component, OnInit, Input, OnChanges, TemplateRef, ViewChild} from '@angular/core';\nimport {FormBuilder} from '@angular/forms';\nimport {BsModalRef, BsModalService} from \"ngx-bootstrap\";\nimport {PageEditorTreeItemComponent} from \"../page-editor-tree-item/page-editor-tree-item.component\";\n\n@Component({\n  selector: 'page-editor',\n  templateUrl: './page-editor-tree.component.html',\n  styleUrls: ['./page-editor-tree.component.css'],\n  providers: [ FormBuilder ],\n})\nexport class PageEditorTreeComponent implements OnInit, OnChanges {\n  @Input() params: any;\n  @Input() values: any;\n  @Input() uniqKey: string;\n  @Input() generalName: string;\n  @Input() itemTitle: string;\n  @Input() level: number = 0;\n\n  paramsHasGroups: boolean;\n  groupedParamsSet: any;\n  notGroupdParams: any;\n\n  selectedInstanceOrder: Array<any>;\n  selectedInstanceKey: string;\n\n  public logToggle($event, key: string)\n  {\n      //console.log('Accrodion toggle event!');\n      //console.log(key);\n      //console.log(this.uniqKey);\n      //console.log($event);\n  }\n\n  public get getHeading()\n  {\n      return this.level == 0 ? 'Содержимое блока' : this.itemTitle;\n  }\n\n  public reorder(key: string) {\n      this.prepareSelectedInstanceOrder(key);\n      this.openModal(this.reorderDialog);\n  }\n\n  private prepareSelectedInstanceOrder(key: string) {\n      this.selectedInstanceKey = key;\n      this.selectedInstanceOrder = [];\n      let orderId = 0;\n\n      for (let instance of this.values[key]) {\n          this.selectedInstanceOrder.push({\n              id: orderId,\n              name: PageEditorTreeItemComponent.obtainSectionTitle(this.params, key, instance)\n          });\n          orderId ++;\n      }\n  }\n\n  public reorderApply() {\n      let orderedSections = [];\n      for (let realId in this.selectedInstanceOrder) {\n          orderedSections[realId] = this.values[this.selectedInstanceKey][this.selectedInstanceOrder[realId].id];\n      }\n\n      this.values[this.selectedInstanceKey] = orderedSections;\n      this.modalRef.hide();\n  }\n\n  @ViewChild('reorderDialog') reorderDialog: any;\n\n  modalRef: BsModalRef;\n\n  openModal(template: TemplateRef<any>) {\n      this.modalRef = this.modalService.show(template);\n  }\n\n\n  public constructor(\n      private modalService: BsModalService\n  ) {\n\n  }\n\n  ngOnInit() {\n    this.initGroupedParamsInfo();\n  }\n  ngOnChanges() {\n    this.initGroupedParamsInfo();\n  }\n\n  initGroupedParamsInfo() {\n    this.groupedParamsSet = {};\n    this.notGroupdParams = {};\n    let paramsHasGroups = false;\n    for (let key in this.params) {\n      let param = this.params[key];\n      if (!param.tabTitle) {\n        this.notGroupdParams[key] = param;\n      } else {\n          paramsHasGroups = true;\n          let title = param.tabTitle;\n          if (this.groupedParamsSet[title] === undefined) {\n              this.groupedParamsSet[title] = {\n                  title: title,\n                  values : {}\n              };\n          }\n\n          this.groupedParamsSet[title].values[key] = param;\n      }\n    }\n\n    this.paramsHasGroups = paramsHasGroups;\n  }\n}\n","module.exports = \"\"","module.exports = \"<p>\\n  page works!\\n</p>\\n\"","import { Component, OnInit } from '@angular/core';\n\n\n@Component({\n  selector: 'app-page',\n  templateUrl: './page.component.html',\n  styleUrls: ['./page.component.css'],\n})\nexport class PageComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","module.exports = \"select {\\n  margin: 10px;\\n  width: -webkit-fill-available;\\n}\\n.navbar-selector-item a {\\n  display: inline;\\n  padding: 0;\\n}\\n.navbar-selector-item a i {\\n  float: right;\\n}\\n\"","module.exports = \"<select [(ngModel)]=\\\"selectedDomain\\\" class=\\\"form-control form-control-lg\\\">\\n  <option *ngFor='let domain of domains' [value]=\\\"domain.id\\\">{{domain.title}}</option>\\n</select>\\n<div *ngFor='let page of groupedPages[selectedDomain]' class='navbar-selector-item' (click)=\\\"loadPage(page)\\\" [ngClass]=\\\"{'active':page.id==selectedPageId}\\\">\\n  {{page.name}}\\n  <a *ngIf=\\\"page.url\\\" [href]=\\\"page.url\\\" target=\\\"_blank\\\"><i class=\\\"fa fa-external-link\\\" aria-hidden=\\\"true\\\"></i></a>\\n</div>\\n<div class=\\\"toolbar-element\\\">\\n  <div (click)=\\\"openModal(createPage)\\\"><i class=\\\"fa fa-plus\\\"></i></div>\\n  <div (click)=\\\"openModal(reorderPages)\\\"><i class=\\\"fa fa-bars\\\"></i></div>\\n</div>\\n<ng-template #createPage>\\n  <div class=\\\"modal-header\\\">\\n    <h4 class=\\\"modal-title pull-left\\\">Создать новую страницу</h4>\\n    <button type=\\\"button\\\" class=\\\"close pull-right\\\" aria-label=\\\"Close\\\" (click)=\\\"modalRef.hide()\\\">\\n      <span aria-hidden=\\\"true\\\">&times;</span>\\n    </button>\\n  </div>\\n  <div class=\\\"modal-body\\\">\\n    <div>\\n      Введите название страницы:\\n    </div>\\n    <div>\\n      <input type=\\\"text\\\" #newPageName>\\n    </div>\\n    <div>\\n      Выберите домен:\\n    </div>\\n    <div>\\n      <select #newPageDomain class=\\\"form-control form-control-lg\\\" [value]=\\\"selectedDomain\\\">\\n        <option *ngFor='let domain of domains' [value]=\\\"domain.id\\\">{{domain.title}}</option>\\n      </select>\\n    </div>\\n    <div>\\n      Введите url:\\n    </div>\\n    <div>\\n      {{findDomainById(newPageDomain.value).base_url}}\\n      <input type=\\\"text\\\" #newPageUrl>\\n    </div>\\n    <div>\\n      Показывать в меню:\\n    </div>\\n    <div>\\n      <input type=\\\"checkbox\\\" #showInMenu>\\n    </div>\\n\\n\\n    <div>\\n      <button class=\\\"btn btn-primary\\\"\\n        (click)=\\\"createNewPage(newPageName.value, newPageDomain.value, showInMenu.value, newPageUrl.value); modalRef.hide();\\\">создать</button>\\n    </div>\\n  </div>\\n</ng-template>\\n\\n<ng-template #reorderPages>\\n  <div class=\\\"modal-header\\\">\\n    <h4 class=\\\"modal-title\\\">Поменять местами</h4>\\n    <button type=\\\"button\\\" class=\\\"close\\\" aria-label=\\\"Close\\\" (click)=\\\"modalRef.hide()\\\">\\n      <span aria-hidden=\\\"true\\\">&times;</span>\\n    </button>\\n  </div>\\n  <div class=\\\"modal-body\\\">\\n    <bs-sortable *ngIf=\\\"groupedPages[selectedDomain]\\\"\\n                 [(ngModel)]=\\\"groupedPages[selectedDomain]\\\"\\n                 itemClass=\\\"sortable-item\\\"\\n                 itemActiveClass=\\\"sortable-item-active\\\"\\n                 placeholderItem=\\\"Drag here\\\"\\n                 placeholderClass=\\\"placeholderStyle\\\"\\n                 wrapperClass=\\\"sortable-wrapper\\\"\\n                 fieldName=\\\"name\\\"\\n    ></bs-sortable>\\n  </div>\\n  <div class=\\\"modal-footer\\\">\\n    <button type=\\\"button\\\" class=\\\"save ripple module-control-button-element default\\\" (click)=\\\"reorderApply();modalRef.hide();\\\">Да</button>\\n    <button type=\\\"button\\\" class=\\\"ripple module-control-button-element cancel\\\" (click)=\\\"modalRef.hide()\\\">Отмена</button>\\n  </div>\\n</ng-template>\\n\"","import {Component, EventEmitter, OnInit, Output, TemplateRef} from '@angular/core';\nimport {PagesService} from '../pages.service';\nimport {Page} from '../models/page.interface';\nimport {Domain} from '../models/domain.interface';\n\nimport {SelectItemEvent} from \"../models/select-item-event\";\nimport {SelectItemService} from \"../select-item.service\";\nimport {BsModalRef, BsModalService} from \"ngx-bootstrap\";\nimport {HttpClient} from \"@angular/common/http\";\nimport {Action} from \"../models/action\";\nimport {PageType} from \"../models/page-type\";\nimport {bindToComponentState} from \"../storage\";\nimport {State} from \"../models/state\";\nimport {ModelService} from \"../model.service\";\n\n@Component({\n    selector: 'pages-list',\n    templateUrl: './pages-list.component.html',\n    styleUrls: ['./pages-list.component.css']\n})\nexport class PagesListComponent extends State implements OnInit {\n    groupedPages: Page[][];\n    pages: Page[];\n    domains: Domain[];\n    actions: Action[];\n    pageTypes: PageType[];\n\n    domainsLoaded = false;\n    pagesLoaded = false;\n\n    @bindToComponentState\n    selectedDomain: number;\n\n    @bindToComponentState\n    selectedPageId: number;\n\n    processLoadedState()\n    {\n        let state = this.getState();\n        for (let key in state)\n        {\n            this[key] = state[key];\n        }\n\n        if (this.pages) {\n            this.loadPage(this.pages.find(p => p.id == this.selectedPageId), true);\n        }\n    }\n\n    modalRef: BsModalRef;\n\n    loadPage(page: Page, initial: boolean = false) {\n        this.selectedPageId = page.id;\n        this.selectItemService.emit(new SelectItemEvent(\n            SelectItemEvent.Type.Page,\n            {\n                page: page,\n                pageId: page.id,\n                initial: initial\n            }\n        ));\n    }\n\n    reorderApply() {\n        this.modelService.reorderApply('page', this.groupedPages[this.selectedDomain]);\n    }\n\n    findDomainById(domainId) {\n        return this.domains.find(d => d.id == domainId);\n    }\n\n    openModal(template: TemplateRef<any>, options) {\n        this.modalRef = this.modalService.show(template, options);\n    }\n\n    constructor(private pageService: PagesService,\n                private selectItemService: SelectItemService,\n                private modalService: BsModalService,\n                private modelService: ModelService) {\n        super();\n        this.selectItemService.event$.subscribe((e: SelectItemEvent) => {\n            if (e.itemType === SelectItemEvent.Type.PageRemove) {\n                this.pages = this.pages.filter(p => p.id !== e.payload.pageId);\n                this.groupPages();\n            }\n        });\n    }\n\n    groupPages(): void {\n        this.groupedPages = [];\n        if (this.domainsLoaded && this.pagesLoaded) {\n            for (let page of this.pages) {\n                if (this.groupedPages[page.domain_id] === undefined) {\n                    this.groupedPages[page.domain_id] = [];\n                }\n\n                this.groupedPages[page.domain_id].push(page);\n            }\n        }\n\n        for (let domainId in this.groupedPages) {\n            this.groupedPages[domainId] = this.groupedPages[domainId].sort((a: Page, b: Page) => {return a.order - b.order});\n        }\n    };\n\n    createNewPage(\n        name: string,\n        domainId: number,\n        showInMenu: boolean,\n        url: string\n    ): void {\n        this.pageService.createPage({\n           'name' : name,\n           'domain_id' : domainId,\n           'show_in_menu' : showInMenu,\n           'url' : url\n        }).subscribe(page => {\n            this.groupedPages[page.domain_id].push(page);\n            this.selectedDomain = domainId;\n        });\n    }\n\n    getPages(): void {\n\n        this.pageService.getPages()\n            .subscribe(pages => {\n                this.pages = pages;\n                this.pagesLoaded = true;\n                this.groupPages();\n                this.processLoadedState();\n            });\n    }\n\n    getDomains(): void {\n\n        this.pageService.getDomains()\n            .subscribe(domains => {\n                this.domains = domains;\n                this.domainsLoaded = true;\n                this.groupPages();\n                this.processLoadedState();\n            });\n    }\n\n    getActions(): void {\n        this.pageService.getActions()\n            .subscribe(actions => {\n                this.actions = actions.filter(a => a.is_available == true);\n            });\n    }\n\n    getPagesTypes(): void {\n        this.pageService.getPageTypes()\n            .subscribe(pageTypes => {\n                this.pageTypes = pageTypes;\n            });\n    }\n\n    ngOnInit() {\n        this.getPages();\n        this.getDomains();\n        this.getActions();\n        this.getPagesTypes();\n        this.groupedPages = [];\n    }\n}","import {Injectable} from '@angular/core';\nimport {Page} from './models/page.interface';\nimport {PageFields} from './models/page-fields.interface';\nimport {Domain} from './models/domain.interface';\nimport {HttpClient, HttpHeaders} from '@angular/common/http';\nimport {Observable, Subject, pipe} from 'rxjs';\nimport {Action} from \"./models/action\";\nimport {PageType} from \"./models/page-type\";\n\n@Injectable()\nexport class PagesService {\n\n    private pagesUrl = '/api/page';\n    private pageFieldsUrl = '/api/pageFields';\n    private domainsUrl = '/api/domain';\n    private actionsUrl = '/api/actions';\n    private pageTypesUrl = '/api/pageTypes';\n\n    constructor(private http: HttpClient) {\n    }\n\n    createPage(pageData: any): Observable<Page> {\n        return this.http.post<Page>(this.pagesUrl, pageData);\n    }\n\n    getPages(): Observable<Page[]> {\n        return this.http.get<Page[]>(this.pagesUrl);\n    }\n\n    getPage(pageId: number): Observable<Page> {\n        return this.http.get<Page>(this.pagesUrl  + '/' + pageId);\n    }\n\n    getPageFields(pageId: number, language: number): Observable<PageFields> {\n        return this.http.get<PageFields>(this.pageFieldsUrl + '/' + pageId + '?lang=' + language);\n    }\n\n    savePageFields(pageId: number, pageFields: Object, language: number) {\n        return this.http.put(this.pageFieldsUrl + '/' + pageId + '?lang=' + language, pageFields);\n    }\n\n    savePage(page: Page, language: number) {\n        return this.http.put(this.pagesUrl + '/' + page.id + '?lang=' + language, page);\n    }\n\n    deletePage(pageId: number) {\n        return this.http.delete(this.pagesUrl + '/' + pageId);\n    }\n\n    getDomains(): Observable<Domain[]> {\n        return this.http.get<Domain[]>(this.domainsUrl);\n    }\n\n    getActions(): Observable<Action[]> {\n        return this.http.get<Action[]>(this.actionsUrl);\n    }\n\n    getPageTypes(): Observable<PageType[]> {\n        return this.http.get<PageType[]>(this.pageTypesUrl);\n    }\n}","module.exports = \".bordered-section {\\n  border: 1px solid #444;\\n  margin: 5px;\\n}\\n.shadowed {\\n  box-shadow: 0 0 25px rgba(0, 0, 0, 0.2);\\n}\\n.put-right {\\n  position: absolute;\\n  right: 11px;\\n  left: 350px;\\n  top: 17px;\\n  max-height: 100%;\\n  overflow-y: auto;\\n}\\n.sections-selector,\\n.general-info,\\n.items-block {\\n  background-color: #fff;\\n  margin: 15px;\\n  display: block;\\n  width: 100%;\\n  vertical-align: top;\\n}\\n.sections-selector + page-editor,\\n.general-info + page-editor,\\n.items-block + page-editor {\\n  background-color: #fff;\\n  margin-left: 10px;\\n  padding: 10px;\\n  box-shadow: 0 0 50px rgba(0, 0, 0, 0.05);\\n  display: inline-block;\\n  vertical-align: top;\\n}\\n.sections-selector .item,\\n.general-info .item,\\n.items-block .item {\\n  height: 35px;\\n  line-height: 35px;\\n  padding-left: 10px;\\n  position: relative;\\n  overflow: hidden;\\n}\\n.sections-selector .item:not(.selected) .delete,\\n.general-info .item:not(.selected) .delete,\\n.items-block .item:not(.selected) .delete {\\n  display: none;\\n}\\n.sections-selector .item.selected,\\n.general-info .item.selected,\\n.items-block .item.selected {\\n  background-color: #eee;\\n}\\n.sections-selector .item.selected .delete,\\n.general-info .item.selected .delete,\\n.items-block .item.selected .delete {\\n  position: absolute;\\n  top: -5px;\\n  right: 0;\\n  padding: 5px;\\n  background-color: #eee;\\n}\\n\"","module.exports = \"<div class=\\\"page-editor\\\">\\n    <div class=\\\"wrapper\\\">\\n\\n        <div class=\\\"module-menu-element\\\" *ngIf=\\\"selectedPageId !== null\\\">\\n            <h3 *ngIf=\\\"selectedPageId == 26\\\">Тренеры</h3>\\n            <div class=\\\"items-block\\\" *ngIf=\\\"selectedPageId == 26\\\">\\n                <trainers class=\\\"integrated\\\"></trainers>\\n            </div>\\n\\n            <h3 *ngIf=\\\"selectedPageId == 19\\\">Номера</h3>\\n            <div class=\\\"items-block\\\" *ngIf=\\\"selectedPageId == 19\\\">\\n                <rooms class=\\\"integrated\\\"></rooms>\\n            </div>\\n\\n\\n            <h3>Список секций</h3>\\n            <div class=\\\"sections-selector\\\" *ngIf=\\\"selectedPageFieldsSections\\\">\\n                <div *ngFor=\\\"let section of selectedPageFieldsSections.values; index as sectionNumber;\\\"\\n                     (click)=\\\"selectSection(sectionNumber)\\\" [class.selected]=\\\"sectionNumber === selectedSectionNumber\\\" class=\\\"item\\\">\\n                    {{getSectionTitle(sectionNumber)}}\\n                    <div class=\\\"delete\\\" click-stop-propagation (click)=\\\"deleteSectionWithConfirm('sectionsParams', sectionNumber)\\\"><i class=\\\"fa fa-close\\\"></i></div>\\n                </div>\\n                <div class=\\\"sections-panel toolbar-element\\\" *ngIf=\\\"selectedPageFields.params['sectionsParams'] !== undefined && (selectedPageFields.params['sectionsParams']['availableInstances'] | json) != '{}'\\\">\\n                    <div class=\\\"btn-group\\\" dropdown #dropdown=\\\"bs-dropdown\\\" [autoClose]=\\\"true\\\">\\n                        <div dropdownToggle aria-controls=\\\"dropdown-basic\\\">\\n                            <i class=\\\"fa fa-plus\\\"></i>\\n                        </div>\\n                        <ul id=\\\"dropdown-triggers-manual\\\" *dropdownMenu class=\\\"dropdown-menu\\\"\\n                            role=\\\"menu\\\" aria-labelledby=\\\"button-triggers-manual\\\">\\n                            <li *ngFor=\\\"let sectionType in selectedPageFields.params['sectionsParams']['availableInstances']\\\" role=\\\"menuitem\\\">\\n                                <a class=\\\"dropdown-item\\\" (click)=\\\"appendSection('sectionsParams', sectionType)\\\">\\n                                    {{selectedPageFields.params['sectionsParams']['instancesLabels'][sectionType]}}\\n                                </a>\\n                            </li>\\n                        </ul>\\n                        <div (click)=\\\"reorder()\\\"><i class=\\\"fa fa-bars\\\"></i></div>\\n                    </div>\\n                </div>\\n            </div>\\n\\n            <h3>Общие настройки</h3>\\n            <div (click)=\\\"selectOther()\\\"  class=\\\"general-info\\\">\\n                <div class=\\\"item\\\" [class.selected]=\\\"selectOtherParams === true\\\">Общие настройки</div>\\n            </div>\\n\\n            <div class=\\\"module-panel\\\" *ngIf=\\\"selectedPageFields !== null\\\">\\n                <button (click)=\\\"save()\\\" class=\\\"save ripple module-control-button-element default\\\">Сохранить</button>\\n                <button (click)=\\\"deleteWithConfirm()\\\" class=\\\"ripple module-control-button-element delete\\\">Удалить</button>\\n            </div>\\n        </div>\\n        <div class=\\\"module-content-element\\\">\\n            <accordion *ngIf=\\\"selectOtherParams == true\\\">\\n                <accordion-group heading=\\\"Параметры страницы\\\">\\n                    <div class=\\\"field title\\\">\\n                        ID страницы: {{currentPage.id}}\\n                    </div>\\n                    <div class=\\\"field\\\">\\n                        <div class=\\\"title\\\"><label for=\\\"editor-page-name\\\">Название</label></div>\\n                        <div class=\\\"content\\\">\\n                            <input id=\\\"editor-page-name\\\" [(ngModel)]=\\\"currentPage.name\\\">\\n                        </div>\\n                    </div>\\n                    <div class=\\\"field\\\">\\n                        <div class=\\\"title\\\"><label for=\\\"editor-page-url\\\">URL</label></div>\\n                        <div class=\\\"content\\\">\\n                            <input id=\\\"editor-page-url\\\" [(ngModel)]=\\\"currentPage.url\\\">\\n                        </div>\\n                    </div>\\n                    <div class=\\\"field\\\">\\n                        <div class=\\\"title\\\"><label for=\\\"editor-page-published\\\">Опубликована</label></div>\\n                        <div class=\\\"content\\\">\\n                            <mat-checkbox [color]=\\\"'primary'\\\" id=\\\"editor-page-published\\\" [(ngModel)]=\\\"currentPage.is_enabled\\\"></mat-checkbox>\\n                        </div>\\n                    </div>\\n                    <div class=\\\"field\\\">\\n                        <div class=\\\"title\\\"><label for=\\\"editor-page-show\\\">Показывать в меню</label></div>\\n                        <div class=\\\"content\\\">\\n                            <mat-checkbox [color]=\\\"'primary'\\\" id=\\\"editor-page-show\\\" [(ngModel)]=\\\"currentPage.show_in_menu\\\"></mat-checkbox>\\n                        </div>\\n                    </div>\\n                </accordion-group>\\n            </accordion>\\n            <page-editor *ngIf=\\\"selectOtherParams == true && sectionsInited\\\"\\n                         [params]=\\\"selectedPageFieldsOther.params\\\"\\n                         [values]=\\\"selectedPageFieldsOther.values\\\"\\n                         [uniqKey]=\\\"'root'\\\">\\n            </page-editor>\\n            <page-editor *ngIf=\\\"selectedSectionNumber !== null && sectionsInited\\\"\\n                         [params]=\\\"selectedPageFieldsSections.params['availableInstances'][selectedPageFieldsSections.values[selectedSectionNumber].type]\\\"\\n                         [values]=\\\"selectedPageFieldsSections.values[selectedSectionNumber]\\\"\\n                         [uniqKey]=\\\"'root'\\\">\\n            </page-editor>\\n        </div>\\n    </div>\\n</div>\\n<ng-template #confirmationDialog class=\\\"alert-box\\\">\\n    <div class=\\\"modal-header\\\">\\n        <h4 class=\\\"modal-title\\\">Подтвердите действиe</h4>\\n        <button type=\\\"button\\\" class=\\\"close\\\" aria-label=\\\"Close\\\" (click)=\\\"modalRef.hide()\\\">\\n            <span aria-hidden=\\\"true\\\">&times;</span>\\n        </button>\\n    </div>\\n    <div class=\\\"modal-body\\\">\\n        Удалить страницу?\\n    </div>\\n    <div class=\\\"modal-footer\\\">\\n        <button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" (click)=\\\"delete()\\\">Да</button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" (click)=\\\"modalRef.hide()\\\">Нет</button>\\n    </div>\\n</ng-template>\\n\\n<ng-template #sectionConfirmationDialog class=\\\"alert-box\\\">\\n    <div class=\\\"modal-header\\\">\\n        <h4 class=\\\"modal-title\\\">Подтвердите действиe</h4>\\n        <button type=\\\"button\\\" class=\\\"close\\\" aria-label=\\\"Close\\\" (click)=\\\"modalRef.hide()\\\">\\n            <span aria-hidden=\\\"true\\\">&times;</span>\\n        </button>\\n    </div>\\n    <div class=\\\"modal-body\\\">\\n        Удалить секцию?\\n    </div>\\n    <div class=\\\"modal-footer\\\">\\n        <button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" (click)=\\\"deleteSection()\\\">Да</button>\\n        <button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" (click)=\\\"modalRef.hide()\\\">Нет</button>\\n    </div>\\n</ng-template>\\n\\n\\n<ng-template #reorderDialog>\\n    <div class=\\\"modal-header\\\">\\n        <h4 class=\\\"modal-title\\\">Поменять местами секции</h4>\\n        <button type=\\\"button\\\" class=\\\"close\\\" aria-label=\\\"Close\\\" (click)=\\\"modalRef.hide()\\\">\\n            <span aria-hidden=\\\"true\\\">&times;</span>\\n        </button>\\n    </div>\\n    <div class=\\\"modal-body\\\">\\n        <bs-sortable *ngIf=\\\"pageFieldsSectionsOrder\\\"\\n            [(ngModel)]=\\\"pageFieldsSectionsOrder\\\"\\n            itemClass=\\\"sortable-item\\\"\\n            itemActiveClass=\\\"sortable-item-active\\\"\\n            placeholderItem=\\\"Drag here\\\"\\n            placeholderClass=\\\"placeholderStyle\\\"\\n            wrapperClass=\\\"sortable-wrapper\\\"\\n            fieldName=\\\"name\\\"\\n        ></bs-sortable>\\n    </div>\\n    <div class=\\\"modal-footer\\\">\\n        <button type=\\\"button\\\" class=\\\"ripple module-control-button-element default\\\" (click)=\\\"reorderApply()\\\">Да</button>\\n        <button type=\\\"button\\\" class=\\\"ripple module-control-button-element cancel\\\" (click)=\\\"modalRef.hide()\\\">Отмена</button>\\n    </div>\\n</ng-template>\\n\"","import {ChangeDetectionStrategy, ChangeDetectorRef, Component, OnInit, ViewChild} from '@angular/core';\nimport { PagesService } from '../pages.service';\nimport { Page } from '../models/page.interface';\nimport { Domain } from '../models/domain.interface';\n\nimport {SelectItemService} from \"../select-item.service\";\nimport {SelectItemEvent} from \"../models/select-item-event\";\nimport {PageFields} from \"../models/page-fields.interface\";\nimport {Subject} from \"rxjs/Subject\";\nimport {BsModalRef, BsModalService} from \"ngx-bootstrap\";\nimport {State} from \"../models/state\";\nimport {bindToComponentState} from \"../storage\";\nimport {NotificationService} from \"../notification.service\";\nimport {PageEditorTreeItemComponent} from \"../page-editor-tree-item/page-editor-tree-item.component\";\n\n@Component({\n  selector: 'app-pages',\n  templateUrl: './pages.component.html',\n  styleUrls: ['./pages.component.css'],\n})\nexport class PagesComponent extends State implements OnInit {\n\n\tstatic ADMIN_TITLE_FIELD = 'adminTitle';\n\n\tgroupedPages: object[][];\n\tpages:   Page[];\n\tdomains: Domain[];\n\tdomainsLoaded =  false;\n\tpagesLoaded =  false;\n\tselectedDomain: number = 1;\n\tselectedPageId: number = null;\n\tcurrentPage: Page;\n\n\tselectedPageFields: PageFields = null;\n\tselectedPageFieldsOther: any;\n    selectedPageFieldsSections: any;\n    pageFieldsSectionsOrder: any;\n\n    @bindToComponentState\n    selectedSectionNumber: number;\n\n    @bindToComponentState\n\tselectOtherParams: boolean;\n\t\n    language: number = 1;\n\n\t@ViewChild('confirmationDialog') confirmationDialog;\n\t@ViewChild('sectionConfirmationDialog') sectionConfirmationDialog;\n\t@ViewChild('reorderDialog') reorderDialog;\n    modalRef: BsModalRef;\n\n    processLoadedState() {\n        let state = this.getState();\n        for (let key in state) {\n            this[key] = state[key];\n        }\n    }\n\n\tconstructor(\n\t\tprivate pageService: PagesService,\n\t\tprivate selectItemService: SelectItemService,\n        private modalService: BsModalService,\n        private ref: ChangeDetectorRef,\n\t\tprivate notificationService: NotificationService\n\t) {\n\n\t\tsuper();\n        selectItemService.event$.subscribe((event: SelectItemEvent) => {\n            if (event.itemType === SelectItemEvent.Type.LanguageChange) {\n                this.language = event.payload.language;\n                if (this.selectedPageId !== null) {\n                    this.loadPage(this.selectedPageId, false);\n\t\t\t\t}\n            } else if (event.itemType === SelectItemEvent.Type.Page) {\n            \tthis.currentPage = event.payload.page;\n                this.loadPage(event.payload.pageId, !event.payload.initial);\n                if (!event.payload.initial) {\n                    this.selectItemService.emitCloseAll('page');\n\t\t\t\t}\n            } else if (event.itemType === SelectItemEvent.Type.CloseAllSelectedItems && event.payload.model !== 'page') {\n            \tthis.unload();\n\t\t\t}\n        });\n\t}\n\n\tunload() {\n        this.selectOtherParams = false;\n        this.selectedSectionNumber = null;\n\t}\n\n\tselectSection(sectionNumber: number) {\n        this.selectOtherParams = false;\n\t\tthis.selectedSectionNumber = sectionNumber;\n        this.selectItemService.emitCloseAll('page');\n\t}\n\n\tcloseSection() {\n\t\tthis.selectedSectionNumber = null;\n\t\tthis.selectOtherParams = false;\n\t}\n\n\tselectOther() {\n\t\tthis.selectedSectionNumber = null;\n\t\tthis.selectOtherParams = true;\n\t\tthis.selectItemService.emitCloseAll('page');\n\t}\n\n\tcloseOther() {\n\t\tthis.selectedSectionNumber = null;\n\t\tthis.selectOtherParams = false;\n\t}\n\n    loadPage(pageId: number, unload: boolean) {\n\t\tthis.pageService.getPageFields(pageId, this.language)\n\t\t\t.subscribe(page => {\n\t\t\t\t//console.log('Initing section!');\n                this.initSectionsAndOther(page);\n\t\t\t\tthis.selectedPageFields = page;\n\n\t\t\t\tif (unload) {\n\t\t\t\t\tthis.unload();\n\t\t\t\t}\n\t\t\t});\n\n        this.selectedPageId = pageId;\n\n        if (unload) {\n            this.unload();\n        }\n\t}\n\n\tpublic reorderApply(): void {\n\t    let orderedSections = [];\n\t    for (let realId in this.pageFieldsSectionsOrder) {\n\t        orderedSections[realId] = this.selectedPageFields.values['sectionsParams'][this.pageFieldsSectionsOrder[realId].id];\n        }\n\n        this.selectedPageFields.values['sectionsParams'] = orderedSections;\n\t    this.selectedPageFieldsSections.values = orderedSections;\n\t    this.modalRef.hide();\n    }\n\n\n    public prepareSectionInstance(sectionInstance, sectionType: string, fieldName: string) {\n        let newSection = {\n            sectionType: sectionType,\n            type: sectionType,\n            sectionTypeName: this.selectedPageFields.params[fieldName]['instancesLabels'][sectionType]\n        };\n\n        for (let key in sectionInstance) {\n            if (sectionInstance[key].type !== 'composite') {\n                newSection[key] = sectionInstance[key].default;\n            } else {\n                newSection[key] = [];\n            }\n        }\n\n        return newSection;\n\t}\n\n    public appendSection(fieldName: string = 'sectionsParams', sectionType: string) {\n\t    let newSection = this.prepareSectionInstance(this.selectedPageFields.params[fieldName]['availableInstances'][sectionType], sectionType, fieldName);\n\n\t    this.selectedPageFields.values[fieldName].push(newSection);\n\n\t    this.initSectionsAndOther(this.selectedPageFields);\n    }\n\n    private deleteSectionFieldName = null;\n    private deleteSectionNumber = null;\n\n    public deleteSectionWithConfirm(fieldName: string = 'sectionsParams', sectionNumber: number) {\n        this.deleteSectionFieldName = fieldName;\n        this.deleteSectionNumber = sectionNumber\n    \tthis.modalRef = this.modalService.show(this.sectionConfirmationDialog);\n\t}\n\n\tpublic deleteSection() {\n    \tlet fieldName = this.deleteSectionFieldName;\n    \tlet sectionNumber = this.deleteSectionNumber;\n        this.selectedPageFields.values[fieldName].splice(sectionNumber, 1);\n        this.selectedSectionNumber = null;\n        this.initSectionsAndOther(this.selectedPageFields);\n        this.modalRef.hide();\n\t}\n\n    private sectionsInited = false;\n\n    initSectionsAndOther(pageFields: PageFields, process: boolean = true) {\n    \tif (process) {\n            this.processLoadedState();\n\t\t}\n\n        this.selectedPageFieldsOther = {\n        \tparams: {},\n\t\t\tvalues: []\n\t\t};\n\n        this.selectedPageFieldsSections = {\n            params: {},\n            values: [],\n        };\n\n        this.pageFieldsSectionsOrder = [];\n\n        let orderId = 0;\n    \tfor (let key in pageFields.params) {\n    \t\tif (key === 'sectionsParams') {\n    \t\t\tthis.selectedPageFieldsSections = {\n    \t\t\t\tparams: pageFields.params['sectionsParams'],\n    \t\t\t\tvalues: Object.values(pageFields.values['sectionsParams']),\n\t\t\t\t};\n    \t\t\tfor (let section of pageFields.values['sectionsParams']) {\n    \t\t\t    let sectionType = section.type;\n    \t\t\t    let sectionName = this.getSectionTitle(orderId);\n\n                    this.pageFieldsSectionsOrder.push({\n                        id: orderId,\n                        name: sectionName\n                    });\n                    orderId ++;\n    \t\t\t}\n\t\t\t} else {\n    \t\t\tthis.selectedPageFieldsOther.params[key] = pageFields.params[key];\n    \t\t\tthis.selectedPageFieldsOther.values[key] = pageFields.values[key];\n\t\t\t}\n\t\t}\n\n\t\tthis.sectionsInited = true;\n\t}\n\n    getPageFieldsValues(params, values): any {\n        let result = {};\n\n\t\tfor (let key in params) {\n            if (params[key].type === 'composite') {\n                let sectionDataList = [];\n                for (let section of values[key]) {\n                \tlet sectionData = this.getPageFieldsValues(params[key]['availableInstances'][section.type], section);\n                \tsectionData.type = section.type;\n                    sectionDataList.push(sectionData);\n                }\n\n                result[key] = sectionDataList;\n            } else {\n                result[key] = values[key];\n            }\n\t\t}\n\n\t\treturn result;\n\t}\n\n\tvalidatePageFieldsValues(params, values): boolean {\n    \tfor (let key in params) {\n    \t\tif (params[key].type !== 'composite') {\n                if (params[key].required === 1 && !values[key]) {\n                    return false;\n                }\n\t\t\t} else {\n                for (let section of values[key]) {\n                    if (!this.validatePageFieldsValues(params[key]['availableInstances'][section.type], section)) {\n                    \treturn false;\n\t\t\t\t\t}\n                }\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tsave(): void {\n\t\tif (!this.validatePageFieldsValues(this.selectedPageFields.params, this.selectedPageFields.values)) {\n\t\t\tthis.notificationService.error(\"Невозможно сохранить страницу, заполните обязательные поля\");\n\t\t\treturn;\n\t\t}\n\n\t\tthis.copyOtherParamsChanges();\n\n\t\tthis.pageService.savePage(this.currentPage, this.language).subscribe();\n\n\t    this.pageService.savePageFields(this.selectedPageId, this.getPageFieldsValues(this.selectedPageFields.params, this.selectedPageFields.values), this.language)\n            .subscribe();\n    }\n\n    private copyOtherParamsChanges() {\n        for (let key in this.selectedPageFieldsOther.values) {\n            this.selectedPageFields.values[key] = this.selectedPageFieldsOther.values[key];\n        }\n\t}\n\n\tpublic getSectionTitle(sectionNumber: number)\n\t{\n\t\tlet sectionValues = this.selectedPageFieldsSections.values[sectionNumber];\n\t\tlet name = sectionValues.sectionTypeName;\n\n        if (sectionValues[PagesComponent.ADMIN_TITLE_FIELD]) {\n            name = name + ' - ' + sectionValues[PagesComponent.ADMIN_TITLE_FIELD];\n        }\n\n        return name;\n\t}\n\n\n    deleteWithConfirm(): void {\n        this.modalRef = this.modalService.show(this.confirmationDialog);\n\t}\n\n    reorder(): void {\n        this.modalRef = this.modalService.show(this.reorderDialog);\n    }\n\n    public delete(): void {\n\t\tthis.pageService.deletePage(this.selectedPageId)\n\t\t\t.subscribe(() => {\n\t\t\t\tthis.pages = this.pages.filter(p => p.id !== this.selectedPageId);\n\t\t\t\tthis.selectItemService.emitEventOfType(SelectItemEvent.Type.PageRemove, {\n\t\t\t\t\tpageId: this.selectedPageId\n\t\t\t\t});\n                this.selectedPageId = null;\n                this.modalRef.hide();\n\t\t\t});\n    }\n\n\tgroupPages(): void {\n\t\tif (this.domainsLoaded && this.pagesLoaded) {\n\t\t\tfor (let page of this.pages) {\n\t\t\t\tif (this.groupedPages[page.domain_id] === undefined) {\n\t\t\t\t\tthis.groupedPages[page.domain_id] = [];\n\t\t\t\t}\n\n\t\t\t\tthis.groupedPages[page.domain_id].push(page);\n\t\t\t}\n\t\t}\n\t};\n\n\tgetPages(): void {\n\n\t\tthis.pageService.getPages()\n\t\t\t.subscribe(pages => {\n\t\t\t\tthis.pages = pages;\n\t\t\t\tthis.pagesLoaded = true;\n\t\t\t\tthis.groupPages();\n\t\t\t});\n\t}\n\n\tgetDomains(): void {\n\n\t\tthis.pageService.getDomains()\n\t\t\t.subscribe(domains => {\n\t\t\t\tthis.domains = domains;\n\t\t\t\tthis.domainsLoaded = true;\n\t\t\t});\n\t}\n\n\tngOnInit() {\n\t\tthis.getPages();\n\t\tthis.getDomains();\n\t\tthis.groupedPages = [];\n\t}\n}\n","module.exports = \".image-card {\\n  display: inline-block;\\n  width: 11.5%;\\n  padding-top: 11.5%;\\n  position: relative;\\n  margin: 0.5%;\\n}\\n.image-card:hover .short-description {\\n  height: initial;\\n  white-space: initial;\\n  line-height: 22px;\\n  padding: 13px;\\n  padding-left: 12px;\\n}\\n.image-card:before {\\n  position: absolute;\\n  top: 5px;\\n  right: 5px;\\n  bottom: 0;\\n  left: 5px;\\n  content: \\\"\\\";\\n  border-radius: 6px;\\n  box-shadow: 0 3px 15px 0 rgba(0, 0, 0, 0.4);\\n}\\n.image-card .plus {\\n  width: 31px;\\n  height: 31px;\\n  position: relative;\\n  background: url(/admin/assets/icons/plus.svg) no-repeat;\\n  font-size: 0;\\n  margin-top: 11px;\\n  display: block;\\n}\\n.image-card.ticked .image-card-wrapper:after {\\n  position: absolute;\\n  content: '';\\n  width: 100%;\\n  height: 100%;\\n  border: 4px solid #4a90e2;\\n  display: block;\\n}\\n.image-card .image-card-wrapper {\\n  width: 100%;\\n  height: 100%;\\n  overflow: hidden;\\n  position: absolute;\\n  top: 0;\\n  bottom: 0;\\n  background-color: #fff;\\n  border-radius: 6px;\\n  box-sizing: border-box;\\n}\\n.image-card:before {\\n  position: absolute;\\n  top: 5px;\\n  right: 5px;\\n  bottom: 0;\\n  left: 5px;\\n  content: \\\"\\\";\\n  border-radius: 6px;\\n  box-shadow: 0 3px 15px 0 rgba(0, 0, 0, 0.4);\\n}\\n.image-card img {\\n  position: absolute;\\n  top: 50%;\\n  left: 50%;\\n  -webkit-transform: translateY(-50%) translateX(-50%);\\n          transform: translateY(-50%) translateX(-50%);\\n}\\n.image-card img.landscape {\\n  height: 100%!important;\\n}\\n.image-card img.portrait {\\n  width: 100%!important;\\n}\\n.image-card .new-image,\\n.image-card .load-more {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n  background-color: #fff;\\n  border-radius: 6px;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  align-items: center;\\n  text-align: center;\\n}\\n.image-card .short-description {\\n  position: absolute;\\n  bottom: 0;\\n  white-space: nowrap;\\n  text-overflow: ellipsis;\\n  width: 100%;\\n  overflow: hidden;\\n  padding: 12px;\\n  background-color: #fff;\\n  box-shadow: 0 -4px 7px rgba(0, 0, 0, 0.3);\\n}\\n.image-card:not(:hover) .delete {\\n  display: none;\\n}\\n.image-card .delete {\\n  cursor: pointer;\\n  position: absolute;\\n  top: 5px;\\n  right: 5px;\\n  color: #000;\\n}\\n.new-image.image-wrapper {\\n  margin-bottom: 0!important;\\n}\\n\"","module.exports = \"<div class=\\\"object-editor\\\" [ngClass]=\\\"{active: room !== null}\\\">\\n  <div class=\\\"close\\\" (click)=\\\"close()\\\">\\n    <i class=\\\"fa fa-window-close\\\" aria-hidden=\\\"true\\\"></i>\\n  </div>\\n  <div *ngIf=\\\"room !== null\\\">\\n    <div class=\\\"field name\\\">\\n      <span class=\\\"label\\\">Название комнаты</span>\\n      <input type=\\\"text\\\" [(ngModel)]=\\\"room.title\\\">\\n    </div>\\n\\n    <div class=\\\"field price\\\">\\n      <span class=\\\"label\\\">Цена</span>\\n      <input type=\\\"text\\\" [(ngModel)]=\\\"room.price_from\\\">\\n    </div>\\n\\n    <div class=\\\"field square\\\">\\n      <span class=\\\"label\\\">Площадь</span>\\n      <input type=\\\"text\\\" [(ngModel)]=\\\"room.square\\\">\\n    </div>\\n\\n    <div class=\\\"field description\\\">\\n      <span class=\\\"label\\\">Описание комнаты</span>\\n      <textarea ngxTrumbowygEditor [(ngModel)]=\\\"room.text\\\" [options]=\\\"editorOptions\\\"></textarea>\\n    </div>\\n\\n    <div class=\\\"field images\\\">\\n      <span class=\\\"label\\\">Изображения</span>\\n\\n      <div *ngIf=\\\"roomImages.length === 0\\\">\\n        <div class=\\\"image-card\\\" (click)=\\\"chooser.showPopup()\\\">\\n          <div class=\\\"new-image image-wrapper\\\">\\n            Добавить еще<br>\\n            <i class=\\\"plus\\\"></i><br>\\n          </div>\\n        </div>\\n      </div>\\n\\n      <ng-template #imageTemplate let-item=\\\"item\\\" let-index=\\\"index\\\">\\n        <div class=\\\"image-card\\\" (click)=\\\"chooser.showPopup()\\\" *ngIf=\\\"index === 0\\\">\\n          <div class=\\\"new-image image-wrapper\\\">\\n            Добавить еще<br>\\n            <i class=\\\"plus\\\"></i><br>\\n          </div>\\n        </div>\\n        <div class=\\\"image-card\\\" (click)=\\\"chooser.showFastEditor(item.value)\\\">\\n          <div class=\\\"image-card-wrapper\\\">\\n            <img #imagesList [src]=\\\"'/' + item.value.filename\\\" (load)=\\\"detectOrientation(index)\\\">\\n          </div>\\n          <span class=\\\"delete\\\" (click)=\\\"removeImage(item.value)\\\">\\n            <i class=\\\"fa fa-close\\\"></i>\\n          </span>\\n        </div>\\n      </ng-template>\\n\\n      <bs-sortable #sortable\\n              [(ngModel)]=\\\"roomImages\\\"\\n              [itemTemplate]=\\\"imageTemplate\\\"\\n              itemClass=\\\"sortable-item-unset\\\"\\n              itemActiveClass=\\\"sortable-item-active\\\"\\n      ></bs-sortable>\\n\\n      <app-image-chooser-popup #chooser (selectedImageIds)=\\\"appendImages($event)\\\" [multiple]=\\\"true\\\"></app-image-chooser-popup>\\n    </div>\\n\\n    <div class=\\\"field alias\\\">\\n      <span class=\\\"label\\\">Путь URL</span>\\n      <input type=\\\"text\\\" [(ngModel)]=\\\"room.alias\\\">\\n    </div>\\n\\n    <div class=\\\"field published\\\">\\n      <span class=\\\"label\\\">Опубликован</span>\\n      <mat-checkbox [color]=\\\"'primary'\\\" [(ngModel)]=\\\"room.published\\\"></mat-checkbox>\\n    </div>\\n\\n    <div class=\\\"buttons\\\">\\n      <button type=\\\"button\\\" class=\\\"ripple module-control-button-element default\\\" (click)=\\\"save()\\\">Сохранить</button>\\n      <button type=\\\"button\\\" class=\\\"ripple module-control-button-element delete\\\" (click)=\\\"openModal(confirmDelete)\\\">Удалить</button>\\n    </div>\\n  </div>\\n</div>\\n<ng-template #imageChoose>\\n  <div class=\\\"modal-header\\\">\\n    <h4 class=\\\"modal-title pull-left\\\">Выберите изображение</h4>\\n    <button type=\\\"button\\\" class=\\\"close pull-right\\\" aria-label=\\\"Close\\\" (click)=\\\"modalRef.hide()\\\">\\n      <span aria-hidden=\\\"true\\\">&times;</span>\\n    </button>\\n  </div>\\n  <div class=\\\"modal-body\\\">\\n    <app-image-chooser (selectedImageId)=\\\"selectImage($event)\\\"></app-image-chooser>\\n    <button class=\\\"btn btn-primary\\\">выбор</button>\\n    <button class=\\\"btn btn-danger\\\" (click)=\\\"modalRef.hide()\\\">отмена</button>\\n  </div>\\n</ng-template>\\n<ng-template #confirmDelete>\\n  <div class=\\\"modal-header\\\">\\n    <h4 class=\\\"modal-title pull-left\\\">Вы точно хотите удалить этот номер?</h4>\\n    <button type=\\\"button\\\" class=\\\"close pull-right\\\" aria-label=\\\"Close\\\" (click)=\\\"modalRef.hide()\\\">\\n      <span aria-hidden=\\\"true\\\">&times;</span>\\n    </button>\\n  </div>\\n  <div class=\\\"modal-body\\\">\\n    <div class=\\\"buttons\\\">\\n      <button class=\\\"ripple module-control-button-element cancel\\\" (click)=\\\"modalRef.hide()\\\">отмена</button>\\n      <button class=\\\"ripple module-control-button-element delete\\\" (click)=\\\"delete()\\\">да, удалить</button>\\n    </div>\\n  </div>\\n</ng-template>\"","import {Component, OnInit, TemplateRef, ViewChild, ViewChildren} from '@angular/core';\nimport {SelectItemEvent} from \"../models/select-item-event\";\nimport {SelectItemService} from \"../select-item.service\";\nimport {ModelService} from \"../model.service\";\nimport {BsModalRef, BsModalService, SortableComponent} from \"ngx-bootstrap\";\nimport {Room} from \"../models/room\";\nimport {CmsImage} from \"../models/cms-image\";\nimport * as $ from 'jquery';\nimport {AppModule} from \"../app.module\";\n\n@Component({\n    selector: 'room-editor',\n    templateUrl: './room-editor.component.html',\n    styleUrls: ['../common/object-editor.component.css', './room-editor.component.css'],\n})\nexport class RoomEditorComponent implements OnInit {\n\n    modalRef: BsModalRef;\n\n    private room: Room;\n\n    constructor(private selectItemService: SelectItemService,\n                private modelService: ModelService,\n                private modalService: BsModalService) {\n        selectItemService.event$.subscribe((event: SelectItemEvent) => {\n            if (event.itemType === SelectItemEvent.Type.RoomSelect) {\n                this.room = event.payload.room;\n                this.reloadImages();\n                if (!event.payload.initial) {\n                    this.selectItemService.emitCloseAll('room');\n                }\n            }\n        });\n\n        this.editorOptions.btns = [\n            ['strong', 'em', 'del'],\n            ['link'],\n            ['justifyLeft', 'justifyCenter', 'justifyRight', 'justifyFull'],\n            ['unorderedList', 'orderedList'],\n        ];\n    }\n\n    public editorOptions = AppModule.editorOptions;\n\n    public roomImages = [];\n\n    @ViewChildren('imagesList') imageList;\n\n    @ViewChild('sortable') sortableComponent: SortableComponent;\n\n    removeImage(image) {\n        this.roomImages = this.roomImages.filter(i => i.id != image.id);\n        this.sortableComponent.writeValue(this.roomImages);\n    }\n\n    appendImages(images) {\n        this.roomImages = this.roomImages.concat(images.filter(i => !this.roomImages.find(img => img.id === i.id)));\n        this.sortableComponent.writeValue(this.roomImages);\n    }\n\n    public detectOrientation(i: number) {\n        let image = $('.image-card img').eq(i);\n\n        console.log(image.get(0));\n\n        if (image.width() > image.height()) {\n            image.addClass('landscape');\n        } else if (image.width() < image.height()) {\n            image.addClass('portrait');\n        }\n    }\n\n    private reloadInProgress = false;\n\n    private reloadImages() {\n        this.roomImages = [];\n        let observable = this.modelService.getRoomImages(this.room);\n\n        if (observable !== null && !this.reloadInProgress) {\n\n            this.reloadInProgress = true;\n\n            observable.subscribe(\n                (images) => {\n                    images.forEach(i => {\n                        this.roomImages.push(CmsImage.fromRaw(i));\n                    });\n                    this.sortableComponent.writeValue(this.roomImages);\n                    this.reloadInProgress = false;\n                }, (error) => {\n                    this.reloadInProgress = false;\n                }\n            );\n        }\n    }\n\n    openModal(template: TemplateRef<any>) {\n        this.modalRef = this.modalService.show(template);\n    }\n\n    public close() {\n        if (this.room !== null) {\n            this.selectItemService.emit(\n                new SelectItemEvent(SelectItemEvent.Type.RoomClose, {\n                    roomId: this.room.id\n                })\n            );\n        }\n\n        this.room = null;\n    }\n\n    public save() {\n        this.room.setImages(this.roomImages);\n        this.modelService.saveRoom(this.room);\n    }\n\n    public delete() {\n        this.modelService.deleteRoom(this.room)\n            .subscribe(() => {\n                let roomId = this.room.id;\n                this.room = null;\n                this.modalRef.hide();\n                this.selectItemService.emit(\n                    new SelectItemEvent(SelectItemEvent.Type.RoomRemove, {\n                        roomId: roomId\n                    }));\n            });\n    }\n\n    ngOnInit() {\n        this.room = null;\n    }\n}\n","module.exports = \"<div class=\\\"content\\\">\\n    <div class=\\\"module-list\\\">\\n        <ul class=\\\"object-list-element\\\" *ngIf=\\\"rooms !== null\\\" [ngClass]=\\\"{active: selectedRoom !== null}\\\" #trainersList>\\n            <li class=\\\"object-item\\\" *ngFor=\\\"let room of rooms\\\" (click)=\\\"loadRoom(room)\\\" [ngClass]=\\\"{active: this.selectedRoom && room.id == selectedRoom.id}\\\">\\n                <h2 class=\\\"object-name\\\">\\n                    {{room.title | wordCountLimit: 2 }}\\n                    <a *ngIf=\\\"getRoomPageUrl(room) !== null\\\" [href]=\\\"getRoomPageUrl(room)\\\" target=\\\"_blank\\\"><i class=\\\"fa fa-external-link\\\" aria-hidden=\\\"true\\\"></i></a>\\n                </h2>\\n            </li>\\n        </ul>\\n        <div class=\\\"toolbar-element\\\">\\n            <div (click)=\\\"openModal(createRoom)\\\"><i class=\\\"fa fa-plus\\\"></i></div>\\n            <div (click)=\\\"openModal(reorderRooms)\\\"><i class=\\\"fa fa-bars\\\"></i></div>\\n        </div>\\n    </div>\\n    <div class=\\\"module-editor module-editor-visible\\\" [ngClass]=\\\"{'visible': selectedRoom != null}\\\">\\n        <room-editor></room-editor>\\n    </div>\\n</div>\\n<ng-template #createRoom>\\n    <div class=\\\"modal-header\\\">\\n        <h4 class=\\\"modal-title pull-left\\\">Создать нового номера</h4>\\n        <button type=\\\"button\\\" class=\\\"close pull-right\\\" aria-label=\\\"Close\\\" (click)=\\\"modalRef.hide()\\\">\\n            <span aria-hidden=\\\"true\\\">&times;</span>\\n        </button>\\n    </div>\\n    <div class=\\\"modal-body\\\">\\n        <label>\\n            Название:\\n        </label>\\n        <div>\\n            <input type=\\\"text\\\" #newRoomName>\\n        </div>\\n    </div>\\n    <div class=\\\"modal-footer\\\">\\n        <div class=\\\"buttons\\\">\\n            <button type=\\\"button\\\" class=\\\"ripple module-control-button-element default\\\" (click)=\\\"createNewRoom(newRoomName.value)\\\">Создать</button>\\n            <button type=\\\"button\\\" class=\\\"ripple module-control-button-element delete\\\" (click)=\\\"closeModal()\\\">Отмена</button>\\n        </div>\\n    </div>\\n</ng-template>\\n\\n<ng-template #reorderRooms>\\n    <div class=\\\"modal-header\\\">\\n        <h4 class=\\\"modal-title\\\">Поменять местами</h4>\\n        <button type=\\\"button\\\" class=\\\"close\\\" aria-label=\\\"Close\\\" (click)=\\\"modalRef.hide()\\\">\\n            <span aria-hidden=\\\"true\\\">&times;</span>\\n        </button>\\n    </div>\\n    <div class=\\\"modal-body\\\">\\n        <bs-sortable *ngIf=\\\"rooms\\\"\\n                     [(ngModel)]=\\\"rooms\\\"\\n                     itemClass=\\\"sortable-item\\\"\\n                     itemActiveClass=\\\"sortable-item-active\\\"\\n                     placeholderItem=\\\"Drag here\\\"\\n                     placeholderClass=\\\"placeholderStyle\\\"\\n                     wrapperClass=\\\"sortable-wrapper\\\"\\n                     fieldName=\\\"title\\\"\\n        ></bs-sortable>\\n    </div>\\n    <div class=\\\"modal-footer\\\">\\n        <div class=\\\"buttons\\\">\\n            <button type=\\\"button\\\" class=\\\"ripple module-control-button-element save\\\" (click)=\\\"reorderApply();modalRef.hide();\\\">Да</button>\\n            <button type=\\\"button\\\" class=\\\"ripple module-control-button-element cancel\\\" (click)=\\\"modalRef.hide()\\\">Отмена</button>\\n        </div>\\n    </div>\\n</ng-template>\"","import {Component, OnInit, TemplateRef, ViewChild} from '@angular/core';\nimport {ModelService} from \"../model.service\";\nimport {Room} from \"../models/room\";\nimport {SelectItemEvent} from \"../models/select-item-event\";\nimport {SelectItemService} from \"../select-item.service\";\nimport {BsModalRef, BsModalService} from \"ngx-bootstrap\";\nimport {State} from \"../models/state\";\nimport {bindToComponentState} from \"../storage\";\nimport {Trainer} from \"../models/trainer\";\nimport {TrainersComponent} from \"../trainers/trainers.component\";\nimport {Page} from \"../models/page.interface\";\nimport {PagesService} from \"../pages.service\";\n\n@Component({\n    selector: 'rooms',\n    templateUrl: './rooms.component.html',\n    styleUrls: ['../common/object-list.component.css'],\n})\nexport class RoomsComponent extends State implements OnInit {\n\n    static DETAIL_ROOM_PAGE_ID = 28;\n\n    @ViewChild('roomsList') roomsContainer: any;\n\n    modalRef: BsModalRef;\n\n    openModal(template: TemplateRef<any>) {\n        this.modalRef = this.modalService.show(template);\n    }\n\n    closeModal()\n    {\n        this.modalRef.hide();\n    }\n\n    public rooms: Room[];\n\n    processLoadedState() {\n        let state = this.getState();\n        for (let key in state) {\n            this[key] = state[key];\n        }\n\n        if (this.selectedRoom !== null && this.rooms) {\n            this.loadRoom(this.rooms.find(r => r.id == this.selectedRoom.id), true);\n        }\n    }\n\n    @bindToComponentState\n    public selectedRoom: Room;\n\n    public newRoom: Room;\n\n    constructor(private modelService: ModelService,\n                private selectItemService: SelectItemService,\n                private modalService: BsModalService,\n                private pagesService: PagesService) {\n        super();\n        this.newRoom = new Room();\n\n        selectItemService.event$.subscribe((event: SelectItemEvent) => {\n            if (event.itemType === SelectItemEvent.Type.LanguageChange) {\n                this.loadRooms(true);\n            } else if (event.itemType === SelectItemEvent.Type.RoomRemove) {\n                this.rooms = this.rooms.filter(t => t.id !== event.payload.roomId);\n            } else if (event.itemType === SelectItemEvent.Type.RoomClose) {\n                if (this.selectedRoom.id == event.payload.roomId) {\n                    this.unselectRoom();\n                }\n            } else if (event.itemType === SelectItemEvent.Type.CloseAllSelectedItems && event.payload.model !== 'room') {\n                this.unselectRoom();\n            }\n        });\n    }\n\n    public reorderApply() {\n        this.modelService.reorderApply('room', this.rooms);\n    }\n\n    private loadRooms(force: boolean = false) {\n        this.modelService.getRooms().subscribe(rooms => {\n            rooms.sort((a, b) => {\n                return a.n - b.n\n            });\n            this.rooms = rooms.map(room => Room.fromRaw(room));\n            this.processLoadedState();\n            if (force) {\n                if (this.selectedRoom !== null) {\n                    const selectedRoomId = this.selectedRoom.id;\n                    this.selectedRoom = this.rooms.find(r => r.id == selectedRoomId);\n                    this.loadRoom(this.selectedRoom);\n                }\n            }\n        });\n    }\n\n    private unselectRoom() {\n        this.selectedRoom = null;\n    }\n\n    public loadRoom(room: Room, initial: boolean = false) {\n        this.selectedRoom = room;\n\n        this.selectItemService.emit(new SelectItemEvent(\n            SelectItemEvent.Type.RoomSelect,\n            {\n                room: room,\n                initial: initial\n            }\n        ));\n    }\n\n    public createNewRoom(newRoomName) {\n        this.newRoom.title = newRoomName;\n\n        this.modelService.createRoom(this.newRoom).subscribe(room => {\n            this.rooms.push(room as Room);\n            this.loadRoom(room as Room);\n            this.modalRef.hide();\n            this.newRoom = new Room();\n            this.roomsContainer.scrollTop = this.roomsContainer.scrollHeight;\n        });\n    }\n\n    private detailPage: Page | null = null;\n\n    public getRoomPageUrl(room) {\n        if (!room.alias || !room.alias.trim()) {\n            return null;\n        }\n\n        if (this.detailPage !== null) {\n            let aliasRegex = /<alias:(.*)>/gi;\n            return this.detailPage.url.replace(aliasRegex, room.alias);\n        }\n\n        return null;\n    }\n\n    private loadDetailPage() {\n        this.pagesService.getPage(RoomsComponent.DETAIL_ROOM_PAGE_ID).subscribe((page) => {\n            this.detailPage = page;\n        });\n    }\n\n    ngOnInit() {\n        this.loadRooms();\n        this.loadDetailPage();\n    }\n}\n","import { Injectable } from '@angular/core';\nimport { Subject } from \"rxjs/Subject\";\nimport {SelectItemEvent} from \"./models/select-item-event\";\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class SelectItemService {\n  private _event = new Subject();\n  event$ = this._event.asObservable();\n\n  emitEventOfType(type: SelectItemEvent.Type, options: any = {}) {\n    this.emit(new SelectItemEvent(type, options));\n  }\n\n  emitImageChooserEvent() {\n    this.emitEventOfType(SelectItemEvent.Type.ImageChooserApply);\n  }\n\n  emit(selectItem: SelectItemEvent) {\n    this._event.next(selectItem);\n  }\n\n  emitCloseAll(model: string) {\n    this._event.next(new SelectItemEvent(SelectItemEvent.Type.CloseAllSelectedItems, {model: model}))\n  }\n}","import {SelectItemEvent} from \"../models/select-item-event\";\nimport {SelectItemService} from \"../select-item.service\";\nimport {Component, Injectable} from \"@angular/core\";\n\n@Injectable()\nexport class LanguageService {\n    private language: number = 1;\n\n    public constructor(private selectItemService: SelectItemService) {\n        this.selectItemService.event$.subscribe((event: SelectItemEvent) => {\n            if (event.itemType === SelectItemEvent.Type.LanguageChange) {\n                this.language = event.payload.language;\n            }\n        });\n    }\n\n    public getLanguage(): number\n    {\n        return this.language;\n    }\n}","module.exports = \"select {\\n  margin: 10px;\\n  width: -webkit-fill-available;\\n}\\n\"","module.exports = \"<select [(ngModel)]=\\\"selectedDomain\\\" class=\\\"form-control form-control-lg\\\" *ngIf=\\\"domains !== null\\\">\\n  <option *ngFor='let domain of domains' [value]=\\\"domain.id\\\">{{domain.title}}</option>\\n</select>\\n<div *ngIf=\\\"groupedSettings !== null && groupedSettings[selectedDomain]\\\">\\n  <div *ngFor='let groupTitle in groupedSettings[selectedDomain]' class='navbar-selector-item' (click)=\\\"loadGroup(groupTitle)\\\"\\n       [ngClass]=\\\"{'active':groupTitle==selectedGroupTitle}\\\"> {{groupTitle}} </div>\\n</div>\"","import {Component, EventEmitter, OnInit, Output} from '@angular/core';\nimport {PagesService} from '../pages.service';\nimport {Page} from '../models/page.interface';\nimport {Domain} from '../models/domain.interface';\n\nimport {SelectItemEvent} from \"../models/select-item-event\";\nimport {SelectItemService} from \"../select-item.service\";\nimport {SettingsService} from \"../settings.service\";\n\n@Component({\n    selector: 'settings-list',\n    templateUrl: './settings-list.component.html',\n    styleUrls: ['./settings-list.component.css']\n})\nexport class SettingsListComponent implements OnInit {\n    groupedSettings: any = null;\n    domains: Domain[] = null;\n\n    settingsLoaded: boolean = false;\n    domainsLoaded: boolean = false;\n\n    selectedDomain: number = 1;\n    selectedGroupTitle: string = null;\n\n    loadGroup(groupTitle: string) {\n        this.selectedGroupTitle = groupTitle;\n        let group = this.groupedSettings[this.selectedDomain][groupTitle];\n        this.selectItemService.emit(new SelectItemEvent(\n            SelectItemEvent.Type.SettingsGroup,\n            {\n                groupTitle: groupTitle,\n                groupData: group\n            }\n        ));\n    }\n\n    constructor(private pageService: PagesService,\n                private selectItemService: SelectItemService,\n                private settingsService: SettingsService,) {\n    }\n\n    loadSettings(): void {\n        this.getSettings();\n        for (let domain of this.domains) {\n            this.getSettings(domain.id);\n        }\n    };\n\n    getSettings(siteId?: number): void {\n        this.settingsService.getSettings(siteId)\n            .subscribe(settings => {\n                this.groupedSettings[siteId ? siteId : 0] = settings;\n                this.settingsLoaded = true;\n            });\n    }\n\n    getDomains(): void {\n\n        this.pageService.getDomains()\n            .subscribe(domains => {\n                this.domains = domains;\n                this.domainsLoaded = true;\n                this.loadSettings();\n            });\n    }\n\n    ngOnInit() {\n        this.groupedSettings = [];\n        this.getDomains();\n    }\n}","import { Injectable } from '@angular/core';\nimport { Page } from './models/page.interface';\nimport { PageFields } from './models/page-fields.interface';\nimport { Domain } from './models/domain.interface';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Observable, Subject, pipe } from 'rxjs';\nimport {Settings} from \"./models/settings\";\nimport {Room} from \"./models/room\";\n\n@Injectable()\nexport class SettingsService {\n\n  private settingsUrl      = '/api/settings';\n\n  constructor(private http: HttpClient) {}\n\n  getSettings(siteId?: number): Observable<any> {\n      return this.http.get<any>(this.settingsUrl + (siteId ? '?site_id=' + siteId : ''));\n  }\n\n  save(item: Settings) {\n      return this.http.put(this.settingsUrl + '/' + item.id, item).subscribe();\n  }\n}","module.exports = \".settings-container {\\n  overflow: hidden;\\n}\\n.settings-sub-group {\\n  margin: 10px;\\n}\\n.settings-sub-group header {\\n  background: #f8efc0;\\n}\\n\"","module.exports = \"<div class=\\\"settings-container\\\" *ngIf=\\\"groupSettings\\\">\\n    <accordion [closeOthers]=\\\"true\\\" class=\\\"settings-sub-group\\\">\\n        <accordion-group heading=\\\"{{subGroupTitle}}\\\" *ngFor=\\\"let subGroupTitle in groupSettings\\\">\\n            <section class=\\\"settings-list\\\">\\n                <div *ngFor=\\\"let item of groupSettings[subGroupTitle]\\\">\\n                    <app-page-editor-field-extended *ngIf=\\\"isExtended(item)\\\" [title]=\\\"item.header\\\" [params]=\\\"item\\\" [valueSet]=\\\"item\\\" [valueKey]=\\\"'value'\\\"></app-page-editor-field-extended>\\n                    <app-page-editor-field *ngIf=\\\"!isExtended(item)\\\" [title]=\\\"item.header\\\" [params]=\\\"item\\\" [valueSet]=\\\"item\\\" [valueKey]=\\\"'value'\\\"></app-page-editor-field>\\n                </div>\\n            </section>\\n            <button (click)=\\\"save()\\\"class=\\\"ripple module-control-button-element default\\\">Сохранить</button>\\n        </accordion-group>\\n    </accordion>\\n</div>\"","import {ChangeDetectionStrategy, ChangeDetectorRef, Component, OnInit, ViewChild} from '@angular/core';\nimport { PagesService } from '../pages.service';\nimport { Page } from '../models/page.interface';\nimport { Domain } from '../models/domain.interface';\n\nimport {SelectItemService} from \"../select-item.service\";\nimport {SelectItemEvent} from \"../models/select-item-event\";\nimport {PageFields} from \"../models/page-fields.interface\";\nimport {Subject} from \"rxjs/Subject\";\nimport {BsModalRef, BsModalService} from \"ngx-bootstrap\";\nimport {SettingsService} from \"../settings.service\";\n\n@Component({\n  selector: 'app-settings',\n  templateUrl: './settings.component.html',\n  styleUrls: ['./settings.component.css', '../page-editor-field/page-editor-field.component.css'],\n})\nexport class SettingsComponent implements OnInit {\n\n\tprivate groupSettings = null;\n\n\tprivate initialValues;\n\n\tconstructor(\n\t\tprivate pageService: PagesService,\n\t\tprivate selectItemService: SelectItemService,\n\t\tprivate settinsService: SettingsService\n\t) {\n        selectItemService.event$.subscribe((event: SelectItemEvent) => {\n            if (event.itemType === SelectItemEvent.Type.SettingsGroup) {\n                this.groupSettings = event.payload.groupData;\n                this.initialValues = [];\n                for (let subGroupTitle in this.groupSettings) {\n                \tfor (let item of this.groupSettings[subGroupTitle]) {\n                \t\tthis.initialValues[item.id] = item.value;\n\t\t\t\t\t}\n\t\t\t\t}\n                //console.log('ivaules:');\n                //console.log(this.initialValues);\n            }\n        });\n\t}\n\n\tpublic save() {\n        for (let subGroupTitle in this.groupSettings) {\n            for (let item of this.groupSettings[subGroupTitle]) {\n                if (this.initialValues[item.id] !== item.value) {\n                \tthis.settinsService.save(item);\n\t\t\t\t}\n            }\n        }\n\t}\n\n\tpublic isExtended(item: any)\n\t{\n\t\treturn item.type &&\n\t\t\t(item.type == 'simple_json_list' ||\n\t\t\titem.type == 'simple_json');\n\t}\n\n\tngOnInit() {\n\n\t}\n}\n","import { Injectable } from '@angular/core';\nimport {State} from \"./models/state\";\n\nexport function bindToComponentState(target: State, property): any {\n    let val;\n    return {\n        set: function (value) {\n            val = value;\n            this.setStateProperty(property, value);\n        },\n        get: function() {\n            return val;\n        },\n        enumerable: true,\n        configurable: true\n    };\n};\n\nexport function getFromLocalStorage(key: string) {\n    if (localStorage[key] === undefined) {\n        return [];\n    }\n\n    return JSON.parse(localStorage[key]);\n}","module.exports = \".bordered-section {\\n  border: 1px solid #444;\\n  margin: 5px;\\n}\\n.shadowed {\\n  box-shadow: 0 0 25px rgba(0, 0, 0, 0.2);\\n}\\n.put-right {\\n  position: absolute;\\n  right: 11px;\\n  left: 350px;\\n  top: 17px;\\n  max-height: 100%;\\n  overflow-y: auto;\\n}\\n:host > div:not(.inline) {\\n  width: 100%;\\n  display: block;\\n  position: relative;\\n  text-align: left;\\n  padding: 10px;\\n}\\n:host .inline {\\n  display: inline-block;\\n}\\n:host .inline .selected-tags-list {\\n  margin-top: 0!important;\\n}\\n:host .inline .filter-group {\\n  display: inline-block;\\n  vertical-align: top;\\n  height: 40px;\\n  padding: 10px;\\n}\\n:host .inline .filter-group .field-wrapper {\\n  display: block;\\n}\\n:host .inline .filter-group .selected-tags-list,\\n:host .inline .filter-group .field-wrapper :not(.tag),\\n:host .inline .filter-group .selected-tags-list * {\\n  display: inline-block;\\n}\\n:host .inline .filter-group .tags-list-box {\\n  top: 30px;\\n}\\n.input-wrapper {\\n  position: relative;\\n}\\n.input-wrapper input {\\n  width: 100%;\\n  border-color: #ced4da;\\n}\\n.input-wrapper .tags-list-box {\\n  position: absolute;\\n  z-index: 99;\\n  left: 0;\\n  width: 100%;\\n  margin-top: 5px;\\n  box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);\\n  background-color: #fff;\\n}\\n.input-wrapper .tags-list-box .tag {\\n  padding: 5px;\\n  padding-left: 10px;\\n}\\n.input-wrapper .tags-list-box .tag.selected {\\n  background-color: #e1e1e1;\\n}\\n.selected-tags-list {\\n  margin-top: 10px;\\n}\\n.selected-tags-list .tag {\\n  border-radius: 18px;\\n  background-color: #f8efc0;\\n  color: #000;\\n  padding: 5px;\\n  margin: 0 4px;\\n  padding-left: 10px;\\n  padding-right: 20px;\\n  display: inline-block;\\n  position: relative;\\n  margin-bottom: 8px;\\n}\\n.selected-tags-list .tag .close {\\n  top: 11px;\\n  right: 6px;\\n  font-size: 0.7em;\\n  position: absolute;\\n}\\n.filter-group:not(:last-child) {\\n  margin-bottom: 15px;\\n}\\n\"","module.exports = \"<div *ngIf=\\\"imageFilters !== null\\\" (click)=\\\"blurProcessing($event)\\\" [class.inline]=\\\"inline\\\">\\n    <div class=\\\"filter-group\\\">\\n        Тип фото:\\n        <select *ngIf=\\\"fixedImageTypeId === null\\\" [(ngModel)]=\\\"selectedTypeId\\\" class=\\\"form-control form-control-lg field-wrapper\\\" (ngModelChange)=\\\"applyFilter()\\\">\\n            <option selected [value]=\\\"0\\\">Любой</option>\\n            <option *ngFor='let type of imageFilters.types' [value]=\\\"type.id\\\">{{type.name}}</option>\\n        </select>\\n        <div *ngIf=\\\"fixedImageTypeId !== null\\\">{{fixedTypeName}}</div>\\n    </div>\\n    <div class=\\\"filter-group\\\">\\n        Теги:\\n        <div class=\\\"field-wrapper\\\">\\n            <div class=\\\"input-wrapper\\\">\\n                <input class=\\\"form-control form-control-lg\\\" (click)=\\\"showAvailableTags()\\\" [(ngModel)]=\\\"tagsFilter\\\"\\n                       (keydown.arrowup)=\\\"decreaseSelectedTagIndex()\\\"\\n                       (keydown.arrowdown)=\\\"increaseSelectedTagIndex()\\\"\\n                       (keyup.enter)=\\\"selectTag()\\\"\\n                       [focus]=\\\"focusEventEmitter\\\" id=\\\"tags-input\\\"\\n                >\\n                <div class=\\\"tags-list-box\\\" id=\\\"tags-list-box\\\" *ngIf=\\\"showTagsBox\\\">\\n                    <div class=\\\"tag\\\" [class.selected]=\\\"i === selectedTagIndex\\\" *ngFor=\\\"let tag of getFilteredTags; let i = index;\\\" (mouseup)=\\\"selectTag(tag)\\\" (mouseenter)=\\\"setSelectedTagIndex(i)\\\">\\n                        {{ tag }}\\n                    </div>\\n                </div>\\n            </div>\\n            <div class=\\\"selected-tags-list\\\">\\n                <div class=\\\"tag\\\" *ngFor=\\\"let tag of filter.selectedTags\\\">\\n                    {{ tag }}\\n                    <i class=\\\"fa fa-close close\\\" (click)=\\\"unselectTag(tag)\\\"></i>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\\"filter-group\\\" *ngIf=\\\"showShowTitles\\\">\\n        Показывать подписи<mat-checkbox [color]=\\\"'primary'\\\" [(ngModel)]=\\\"filter.showDescriptions\\\" (ngModelChange)=\\\"applyFilter()\\\"></mat-checkbox>\\n    </div>\\n</div>\\n\"","import {Component, EventEmitter, Input, OnChanges, OnInit, SimpleChanges} from '@angular/core';\nimport {SubMenuComponent} from '../sub-menu.component';\nimport {PagesListComponent} from '../../pages-list/pages-list.component'\nimport {ModelService} from \"../../model.service\";\nimport {ImageFilters} from \"../../models/image-filters\";\nimport {SelectItemService} from \"../../select-item.service\";\nimport {SelectItemEvent} from \"../../models/select-item-event\";\nimport {ImageFilter} from \"../../models/image-filter\";\nimport {ImageType} from \"../../models/image-type\";\n\n\n@Component({\n    selector: 'sub-menu-images',\n    templateUrl: './images.component.html',\n    styleUrls: ['./images.component.css'],\n})\nexport class SubMenuImagesComponent extends SubMenuComponent {\n\n    private filter: ImageFilter;\n\n    private tagsFilter: string = '';\n\n    private showTagsBox: boolean = false;\n\n    private selectedTagIndex: number = 0;\n\n    public focusEventEmitter = new EventEmitter<boolean>();\n\n    @Input()\n    inline: boolean = false;\n\n    @Input()\n    showShowTitles: boolean = true;\n\n    @Input()\n    fixedImageTypeId: number = null;\n\n    fixedTypeName: string = null;\n\n    private selectedTypeId: number = 0;\n\n    private isTagSelected(tag: string): boolean {\n        return !!this.filter.selectedTags.find(t => t === tag);\n    }\n\n    public setSelectedTagIndex(index) {\n        this.selectedTagIndex = index;\n    }\n\n    public increaseSelectedTagIndex() {\n        this.selectedTagIndex++;\n        if (this.selectedTagIndex >= this.getFilteredTags.length) {\n            this.selectedTagIndex = 0;\n        }\n    }\n\n    public blurProcessing($event) {\n        if ($event.srcElement.id !== 'tags-input' && $event.srcElement.id !== 'tags-list-box') {\n            console.log('hide');\n            this.showAvailableTags(false);\n            this.focusEventEmitter.emit(false);\n        }\n    }\n\n    public decreaseSelectedTagIndex() {\n        this.selectedTagIndex--;\n        if (this.selectedTagIndex < 0) {\n            this.selectedTagIndex = this.getFilteredTags.length - 1;\n        }\n    }\n\n    private showAvailableTags(show: boolean = true) {\n        if (show) {\n            this.selectedTagIndex = 0;\n        }\n        this.showTagsBox = show;\n    }\n\n    public applyFilter() {\n        if (this.fixedImageTypeId !== null) {\n            this.filter.selectedType = this.imageFilters.types.find(t => t.id == this.fixedImageTypeId);\n        } else {\n            console.log(this.selectedTypeId);\n            this.filter.selectedType = (this.selectedTypeId ? this.imageFilters.types.find(t => t.id == this.selectedTypeId) : null);\n        }\n\n        console.log(this.filter);\n\n        this.selectItemService.emitEventOfType(SelectItemEvent.Type.ApplyFilter, {\n            'filter': this.filter\n        });\n    }\n\n    public unselectTag(tag: string) {\n        this.filter.selectedTags = this.filter.selectedTags.filter(t => t !== tag);\n        this.applyFilter();\n    }\n\n    public processBlur($event) {\n        console.log($event);\n    }\n\n    public selectTag(tag: string = null) {\n\n        if (tag === null) {\n            tag = this.getFilteredTags[this.selectedTagIndex];\n        }\n\n        if (!this.filter.selectedTags.find(t => t === tag)) {\n            this.filter.selectedTags.push(tag);\n            this.tagsFilter = '';\n            this.showAvailableTags(false);\n            this.focusEventEmitter.emit(false);\n            this.applyFilter();\n        }\n    }\n\n    public get getFilteredTags() {\n        let result = [];\n        if (!this.tagsFilter) {\n            result = this.imageFilters.tags.filter((tag) => {\n                return !this.isTagSelected(tag);\n            });\n        } else {\n            result = this.imageFilters.tags.filter((tag) => {\n                return tag.startsWith(this.tagsFilter) && !this.isTagSelected(tag);\n            });\n        }\n\n        return result.sort((a: string, b: string) => {\n            a = a.toLowerCase();\n            b = b.toLowerCase();\n            return a < b ? -1 : (a > b ? 1 : 0);\n        });\n    }\n\n    private imageFilters: ImageFilters = null;\n\n    public constructor(private modelService: ModelService,\n                       private selectItemService: SelectItemService) {\n        super();\n        this.filter = new ImageFilter();\n        this.filter.selectedTags = [];\n        this.filter.selectedType = null;\n        this.selectItemService.event$.subscribe((event: SelectItemEvent) => {\n            if (event.itemType === SelectItemEvent.Type.NewTag) {\n                const tag = event.payload.tag;\n                if (this.imageFilters.tags.find(t => t === tag) === undefined) {\n                    this.imageFilters.tags.push(tag);\n                }\n            }\n\n            if (event.itemType === SelectItemEvent.Type.RefreshTags) {\n                this.loadImageFilters();\n            }\n\n            if (event.itemType === SelectItemEvent.Type.AvailableTags) {\n                this.loadImageFilters(event.payload.availableTags);\n            }\n        });\n    }\n\n    private loadImageFilters(availableTags?) {\n        this.modelService.getImageFilters().subscribe((filters) => {\n            this.imageFilters = filters;\n            if (availableTags) {\n                this.imageFilters.tags = this.imageFilters.tags.filter(t => availableTags.find(t) !== undefined);\n            }\n            if (this.fixedImageTypeId !== null) {\n                let fixedType = this.imageFilters.types.find(t => t.id == this.fixedImageTypeId);\n                this.fixedTypeName = fixedType.name;\n            }\n            if (this.filter.selectedTags.length) {\n                let oldSelectedTags = Object.assign({}, this.filter.selectedTags);\n                this.filter.selectedTags = this.filter.selectedTags.filter(tag => {\n                    return !!this.imageFilters.tags.find(t => t === tag);\n                });\n\n                if (oldSelectedTags !== this.filter.selectedTags) {\n                    this.applyFilter();\n                }\n            }\n        });\n    }\n\n    ngOnInit() {\n        this.loadImageFilters();\n    }\n\n}","module.exports = \".bordered-section {\\n  border: 1px solid #444;\\n  margin: 5px;\\n}\\n.shadowed {\\n  box-shadow: 0 0 25px rgba(0, 0, 0, 0.2);\\n}\\n.put-right {\\n  position: absolute;\\n  right: 11px;\\n  left: 350px;\\n  top: 17px;\\n  max-height: 100%;\\n  overflow-y: auto;\\n}\\n:host {\\n  width: 100%;\\n  display: block;\\n  overflow: hidden;\\n  position: relative;\\n}\\n\"","module.exports = \"<pages-list></pages-list>\"","import { Component, OnInit } from '@angular/core';\nimport { SubMenuComponent } from '../sub-menu.component';\nimport { PagesListComponent } from '../../pages-list/pages-list.component'\n\n@Component({\n  selector: 'sub-menu-pages',\n  templateUrl: './pages.component.html',\n  styleUrls: ['./pages.component.css'],\n})\nexport class SubMenuPagesComponent extends SubMenuComponent {\n\n  ngOnInit() {\n  }\n\n}","module.exports = \".bordered-section {\\n  border: 1px solid #444;\\n  margin: 5px;\\n}\\n.shadowed {\\n  box-shadow: 0 0 25px rgba(0, 0, 0, 0.2);\\n}\\n.put-right {\\n  position: absolute;\\n  right: 11px;\\n  left: 350px;\\n  top: 17px;\\n  max-height: 100%;\\n  overflow-y: auto;\\n}\\n:host {\\n  width: 100%;\\n  display: block;\\n  overflow: hidden;\\n  position: relative;\\n}\\n\"","module.exports = \"<settings-list></settings-list>\"","import { Component, OnInit } from '@angular/core';\nimport { SubMenuComponent } from '../sub-menu.component';\nimport { SettingsListComponent } from '../../settings-list/settings-list.component'\n\n@Component({\n  selector: 'sub-menu-settings',\n  templateUrl: './settings.component.html',\n  styleUrls: ['./settings.component.css'],\n})\nexport class SubMenuSettingsComponent extends SubMenuComponent {\n\n  ngOnInit() {\n  }\n\n}","module.exports = \".bordered-section {\\n  border: 1px solid #444;\\n  margin: 5px;\\n}\\n.shadowed {\\n  box-shadow: 0 0 25px rgba(0, 0, 0, 0.2);\\n}\\n.put-right {\\n  position: absolute;\\n  right: 11px;\\n  left: 350px;\\n  top: 17px;\\n  max-height: 100%;\\n  overflow-y: auto;\\n}\\n.sub-menu {\\n  background-color: #fff;\\n  position: relative;\\n}\\n.sub-menu .navbar-selector-item {\\n  border: none!important;\\n}\\n.triangle.top {\\n  top: 0;\\n  right: 50%;\\n  position: absolute;\\n  content: '';\\n  display: block;\\n  width: 10px;\\n  height: 10px;\\n  background: #fff;\\n  -webkit-transform: rotate(45deg);\\n  transform: rotate(45deg);\\n  z-index: 1;\\n  margin-top: calc(-10px/2);\\n}\\n.sub-menu-items {\\n  display: none;\\n}\\n.active + .sub-menu-items {\\n  display: initial;\\n}\\n.menu-items {\\n  padding-left: 0;\\n  background-color: #eee;\\n}\\n.menu-items li {\\n  text-align: center;\\n}\\n.menu-items li a {\\n  color: #444;\\n  width: 100%;\\n}\\n.menu-items li a.active {\\n  background-color: #bbb;\\n}\\n\"","module.exports = \"<div class=\\\"sub-menu\\\">\\n  <div class=\\\"triangle top\\\" *ngIf=\\\"subMenu !== null &&\\n  (subMenu.getType() === 'pages' ||\\n   subMenu.getType() === 'settings' ||\\n   subMenu.getType() === 'images')\\\">\\n  </div>\\n  <sub-menu-pages *ngIf=\\\"subMenu !== null && subMenu.getType() === 'pages'\\\"></sub-menu-pages>\\n  <sub-menu-settings *ngIf=\\\"subMenu !== null && subMenu.getType() === 'settings'\\\"></sub-menu-settings>\\n  <sub-menu-images *ngIf=\\\"subMenu !== null && subMenu.getType() === 'images'\\\"></sub-menu-images>\\n</div>\"","import { Component, OnInit, Input, ViewEncapsulation } from '@angular/core';\nimport { SubMenu } from '../models/sub-menu';\nimport { SubMenuPagesComponent } from './pages/pages.component';\n\n@Component({\n  selector: 'sub-menu',\n  templateUrl: './sub-menu.component.html',\n  styleUrls: ['./sub-menu.component.css'],\n  encapsulation: ViewEncapsulation.None,\n})\n\nexport class SubMenuComponent implements OnInit {\n\n  @Input() subMenu: SubMenu;\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","module.exports = \"<div class=\\\"object-editor\\\" [ngClass]=\\\"{active: trainer !== null}\\\">\\n  <div class=\\\"close\\\" (click)=\\\"close()\\\">\\n    <i class=\\\"fa fa-window-close\\\" aria-hidden=\\\"true\\\"></i>\\n  </div>\\n  <div *ngIf=\\\"trainer !== null\\\">\\n    <div class=\\\"field name\\\">\\n      <span class=\\\"label\\\">Имя тренера</span>\\n      <input type=\\\"text\\\" [(ngModel)]=\\\"trainer.name\\\">\\n    </div>\\n\\n    <div class=\\\"field vk\\\">\\n      <span class=\\\"label\\\"><mat-checkbox [color]=\\\"'primary'\\\" [checked]=\\\"trainer.has_vk\\\" (change)=\\\"trainer.has_vk = 1 - trainer.has_vk\\\"></mat-checkbox> <a target=\\\"_blank\\\" href=\\\"{{trainer.vk_link}}\\\">VK</a></span>\\n      <input type=\\\"text\\\" [(ngModel)]=\\\"trainer.vk_link\\\" [disabled]=\\\"!trainer.has_vk\\\">\\n    </div>\\n    <div class=\\\"field fb\\\">\\n      <span class=\\\"label\\\"><mat-checkbox [color]=\\\"'primary'\\\" [checked]=\\\"trainer.has_fb\\\" (change)=\\\"trainer.has_fb = 1 - trainer.has_fb\\\"></mat-checkbox> <a target=\\\"_blank\\\" href=\\\"{{trainer.fb_link}}\\\">FB</a></span>\\n      <input type=\\\"text\\\" [(ngModel)]=\\\"trainer.fb_link\\\" [disabled]=\\\"!trainer.has_fb\\\">\\n    </div>\\n    <div class=\\\"field inst\\\">\\n      <span class=\\\"label\\\"><mat-checkbox [color]=\\\"'primary'\\\" [checked]=\\\"trainer.has_inst\\\" (change)=\\\"trainer.has_inst = 1 - trainer.has_inst\\\"></mat-checkbox> <a target=\\\"_blank\\\" href=\\\"{{trainer.inst_link}}\\\">Insta</a></span>\\n      <input type=\\\"text\\\" [(ngModel)]=\\\"trainer.inst_link\\\" [disabled]=\\\"!trainer.has_inst\\\">\\n    </div>\\n\\n\\n    <div class=\\\"field\\\">\\n      <span class=\\\"label\\\">Изображение</span>\\n      <img width=\\\"200px\\\" *ngIf=\\\"trainer.img_src\\\" (click)=\\\"chooser.showPopup()\\\" src=\\\"{{trainer.img_src}}\\\">\\n      <button *ngIf=\\\"!trainer.img_src\\\" (click)=\\\"chooser.showPopup()\\\">Browse</button>\\n      <app-image-chooser-popup #chooser (selectedImageId)=\\\"selectImage($event)\\\" [multiple]=\\\"false\\\" [fixedImageTypeId]=\\\"1\\\"></app-image-chooser-popup>\\n    </div>\\n\\n    <div class=\\\"field\\\">\\n      <span class=\\\"label\\\">Должность</span>\\n      <input type=\\\"text\\\" [(ngModel)]=\\\"trainer.position\\\">\\n    </div>\\n\\n    <div class=\\\"field\\\">\\n      <span class=\\\"label\\\">В 2 строки</span>\\n      <span [ngSwitch]=\\\"language\\\">\\n        <mat-checkbox [color]=\\\"'primary'\\\" *ngSwitchCase=\\\"1\\\" [(ngModel)]=\\\"trainer.two_lines_position\\\"></mat-checkbox>\\n        <mat-checkbox [color]=\\\"'primary'\\\" *ngSwitchCase=\\\"2\\\" [(ngModel)]=\\\"trainer.two_lines_position_en\\\"></mat-checkbox>\\n      </span>\\n    </div>\\n\\n    <div class=\\\"field\\\">\\n      <span class=\\\"label\\\">Описание</span>\\n      <textarea ngxTrumbowygEditor [(ngModel)]=\\\"trainer.description\\\"></textarea>\\n    </div>\\n\\n    <div class=\\\"field\\\">\\n      <span class=\\\"label\\\">Путь URL</span>\\n      <input type=\\\"text\\\" [(ngModel)]=\\\"trainer.alias\\\">\\n    </div>\\n\\n    <div class=\\\"field published\\\">\\n      <span class=\\\"label\\\">Опубликован</span>\\n      <mat-checkbox [color]=\\\"'primary'\\\" [(ngModel)]=\\\"trainer.published\\\"></mat-checkbox>\\n    </div>\\n\\n    <div class=\\\"buttons\\\">\\n      <button class=\\\"ripple module-control-button-element default\\\" (click)=\\\"save()\\\">Сохранить</button>\\n      <button class=\\\"ripple module-control-button-element delete\\\" (click)=\\\"openModal(confirmDelete)\\\">Удалить</button>\\n    </div>\\n  </div>\\n</div>\\n<ng-template #confirmDelete>\\n  <div class=\\\"modal-header\\\">\\n    <h4 class=\\\"modal-title pull-left\\\">Вы точно хотите удалить этого тренера?</h4>\\n    <button type=\\\"button\\\" class=\\\"close pull-right\\\" aria-label=\\\"Close\\\" (click)=\\\"modalRef.hide()\\\">\\n      <span aria-hidden=\\\"true\\\">&times;</span>\\n    </button>\\n  </div>\\n  <div class=\\\"modal-body\\\">\\n    <div class=\\\"buttons\\\">\\n      <button class=\\\"ripple module-control-button-element cancel\\\" (click)=\\\"modalRef.hide()\\\">отмена</button>\\n      <button class=\\\"ripple module-control-button-element delete\\\" (click)=\\\"delete()\\\">да, удалить</button>\\n    </div>\\n  </div>\\n</ng-template>\"","import {Component, OnInit, TemplateRef, ViewChild} from '@angular/core';\nimport {SelectItemEvent} from \"../models/select-item-event\";\nimport {SelectItemService} from \"../select-item.service\";\nimport {Trainer} from \"../models/trainer\";\nimport {ModelService} from \"../model.service\";\nimport {BsModalRef, BsModalService} from \"ngx-bootstrap\";\nimport {ReadFile} from 'ngx-file-helpers';\nimport {MenuService} from \"../menu.service\";\nimport {CmsImage} from \"../models/cms-image\";\nimport {TrainingActivity} from \"../models/training-activity\";\n\n\n@Component({\n    selector: 'trainer-editor',\n    templateUrl: './trainer-editor.component.html',\n    styleUrls: ['../common/object-editor.component.css'],\n})\nexport class TrainerEditorComponent implements OnInit {\n\n    modalRef: BsModalRef;\n\n    public trainer: Trainer;\n\n    public newImageFile: ReadFile;\n\n    private language: number = 1;\n\n    constructor(private selectItemService: SelectItemService,\n                private modelService: ModelService,\n                private modalService: BsModalService,) {\n\n        this.selectItemService.event$.subscribe((event: SelectItemEvent) => {\n            if (event.itemType === SelectItemEvent.Type.TrainerSelect) {\n                this.trainer = event.payload.trainer;\n                if (!event.payload.initial) {\n                    this.selectItemService.emitCloseAll('trainer');\n                }\n            } else if (event.itemType === SelectItemEvent.Type.CloseAllSelectedItems && event.payload.model !== 'trainer') {\n                this.close();\n            } else if (event.itemType === SelectItemEvent.Type.LanguageChange) {\n                this.language = event.payload.language;\n            }\n        });\n    }\n\n    selectImage(image: CmsImage) {\n        this.trainer.img_id = image.id;\n        this.trainer.img_src = image.filename;\n    }\n\n    openModal(template: TemplateRef<any>, options) {\n        this.modalRef = this.modalService.show(template, options);\n    }\n\n    public close() {\n        if (this.trainer !== null) {\n            this.selectItemService.emit(\n                new SelectItemEvent(SelectItemEvent.Type.TrainerClose, {\n                    trainerId: this.trainer.id\n                })\n            );\n        }\n\n        this.trainer = null;\n    }\n\n    public save() {\n        let trainerItem = Object.setPrototypeOf(this.trainer, Trainer.prototype);\n        this.modelService.saveTrainer(trainerItem);\n    }\n\n    public delete() {\n        this.modelService.deleteTrainer(this.trainer)\n            .subscribe(() => {\n                let trainerId = this.trainer.id;\n                this.trainer = null;\n                this.modalRef.hide();\n                this.selectItemService.emit(\n                    new SelectItemEvent(SelectItemEvent.Type.TrainerRemove, {\n                        trainerId: trainerId\n                    }));\n            });\n    }\n\n    public dropped(file: ReadFile) {\n        this.newImageFile = file;\n        //this.cropper.setImage(this.newImageFile.content);\n    }\n\n    public cancelImage() {\n        this.newImageFile = null;\n    }\n\n    public fileOver(event) {\n        //console.log(event);\n    }\n\n    public fileLeave(event) {\n        //console.log(event);\n    }\n\n\n    ngOnInit() {\n        this.trainer = null;\n        this.newImageFile = null;\n    }\n}\n","module.exports = \"<div class=\\\"content\\\">\\n    <div class=\\\"module-list\\\">\\n        <ul class=\\\"object-list-element\\\" *ngIf=\\\"trainers !== null\\\" [ngClass]=\\\"{active: selectedTrainer !== null}\\\" #trainersList>\\n            <li class=\\\"object-item\\\" *ngFor=\\\"let trainer of trainers\\\" (click)=\\\"loadTrainer(trainer)\\\" [ngClass]=\\\"{active: this.selectedTrainer && trainer.id == selectedTrainer.id}\\\">\\n                <h2 class=\\\"object-name\\\">\\n                    {{trainer.name | wordCountLimit: 2 }}\\n                    <a *ngIf=\\\"detailPage !== null && getTrainerPageUrl(trainer) !== null\\\" [href]=\\\"getTrainerPageUrl(trainer)\\\" target=\\\"_blank\\\"><i class=\\\"fa fa-external-link\\\" aria-hidden=\\\"true\\\"></i></a>\\n                </h2>\\n            </li>\\n        </ul>\\n        <div class=\\\"toolbar-element\\\">\\n            <div (click)=\\\"openModal(createTrainer)\\\"><i class=\\\"fa fa-plus\\\"></i></div>\\n            <div (click)=\\\"openModal(reorderTrainers)\\\"><i class=\\\"fa fa-bars\\\"></i></div>\\n        </div>\\n    </div>\\n    <div class=\\\"module-editor module-editor-visible\\\" [ngClass]=\\\"{'visible': selectedTrainer != null}\\\">\\n        <trainer-editor></trainer-editor>\\n    </div>\\n</div>\\n<ng-template #reorderTrainers>\\n    <div class=\\\"modal-header\\\">\\n        <h4 class=\\\"modal-title\\\">Поменять местами</h4>\\n        <button type=\\\"button\\\" class=\\\"close\\\" aria-label=\\\"Close\\\" (click)=\\\"modalRef.hide()\\\">\\n            <span aria-hidden=\\\"true\\\">&times;</span>\\n        </button>\\n    </div>\\n    <div class=\\\"modal-body\\\">\\n        <bs-sortable *ngIf=\\\"trainers\\\"\\n                     [(ngModel)]=\\\"trainers\\\"\\n                     itemClass=\\\"sortable-item\\\"\\n                     itemActiveClass=\\\"sortable-item-active\\\"\\n                     placeholderItem=\\\"Drag here\\\"\\n                     placeholderClass=\\\"placeholderStyle\\\"\\n                     wrapperClass=\\\"sortable-wrapper\\\"\\n                     fieldName=\\\"name\\\"\\n        ></bs-sortable>\\n    </div>\\n    <div class=\\\"modal-footer\\\">\\n        <button type=\\\"button\\\" class=\\\"save ripple module-control-button-element default\\\" (click)=\\\"reorderApply();modalRef.hide();\\\">Да</button>\\n        <button type=\\\"button\\\" class=\\\"ripple module-control-button-element cancel\\\" (click)=\\\"modalRef.hide()\\\">Отмена</button>\\n    </div>\\n</ng-template>\\n\\n<ng-template #createTrainer>\\n    <div class=\\\"modal-header\\\">\\n        <h4 class=\\\"modal-title pull-left\\\">Создать нового тренера</h4>\\n        <button type=\\\"button\\\" class=\\\"close pull-right\\\" aria-label=\\\"Close\\\" (click)=\\\"modalRef.hide()\\\">\\n            <span aria-hidden=\\\"true\\\">&times;</span>\\n        </button>\\n    </div>\\n    <div class=\\\"modal-body\\\">\\n        <label>\\n            Имя:\\n        </label>\\n        <div>\\n            <input type=\\\"text\\\" #newTrainerName>\\n        </div>\\n    </div>\\n    <div class=\\\"modal-footer\\\">\\n        <div class=\\\"buttons\\\">\\n            <button type=\\\"button\\\" class=\\\"ripple module-control-button-element default\\\" (click)=\\\"createNewTrainer(newTrainerName.value)\\\">Создать</button>\\n            <button type=\\\"button\\\" class=\\\"ripple module-control-button-element cancel\\\" (click)=\\\"modalRef.hide()\\\">Отмена</button>\\n        </div>\\n    </div>\\n</ng-template>\"","import {Component, OnInit, TemplateRef, ViewChild} from '@angular/core';\nimport {ModelService} from \"../model.service\";\nimport {Trainer} from \"../models/trainer\";\nimport {SelectItemEvent} from \"../models/select-item-event\";\nimport {SelectItemService} from \"../select-item.service\";\nimport {BsModalRef, BsModalService} from \"ngx-bootstrap\";\nimport {State} from \"../models/state\";\nimport {bindToComponentState} from \"../storage\";\nimport {PagesService} from \"../pages.service\";\n\n@Component({\n    selector: 'trainers',\n    templateUrl: './trainers.component.html',\n    styleUrls: ['../common/object-list.component.css'],\n})\nexport class TrainersComponent extends State implements OnInit {\n\n    @ViewChild('trainersList') trainersContainer: any;\n\n    static DETAIL_TRAINER_PAGE_ID = 29;\n\n    modalRef: BsModalRef;\n\n    openModal(template: TemplateRef<any>) {\n        this.modalRef = this.modalService.show(template);\n    }\n\n    processLoadedState() {\n        let state = this.getState();\n        for (let key in state) {\n            this[key] = state[key];\n        }\n\n        if (this.selectedTrainer !== null && this.trainers) {\n            this.loadTrainer(this.trainers.find(t => t.id == this.selectedTrainer.id), true);\n        }\n    }\n\n    detailPage = null;\n\n    public getTrainerPageUrl(trainer: Trainer)\n    {\n        if (!trainer.alias || !trainer.alias.trim()) {\n            return null;\n        }\n\n        if (this.detailPage !== null) {\n            let aliasRegex = /<alias:(.*)>/gi;\n            return this.detailPage.url.replace(aliasRegex, trainer.alias);\n        }\n\n        return null;\n    }\n\n    reorderApply() {\n        this.modelService.reorderApply('trainer', this.trainers);\n    }\n\n    public trainers: Trainer[];\n\n    @bindToComponentState\n    public selectedTrainer: Trainer;\n\n    public newTrainer: Trainer;\n\n    constructor(private modelService: ModelService,\n                private pagesService: PagesService,\n                private selectItemService: SelectItemService,\n                private modalService: BsModalService,) {\n        super();\n        this.newTrainer = new Trainer();\n\n        selectItemService.event$.subscribe((event: SelectItemEvent) => {\n            if (event.itemType === SelectItemEvent.Type.TrainerRemove) {\n                this.trainers = this.trainers.filter(t => t.id !== event.payload.trainerId);\n            } else if (event.itemType === SelectItemEvent.Type.LanguageChange) {\n                this.loadTrainers(true);\n            } else if (event.itemType === SelectItemEvent.Type.TrainerClose) {\n                if (this.selectedTrainer.id == event.payload.trainerId) {\n                    this.unselectTrainer();\n                }\n            }\n        });\n    }\n\n    private loadTrainers(force: boolean = false) {\n        this.modelService.getTrainers().subscribe(trainers => {\n            trainers.sort((a, b) => {\n                return a.n - b.n\n            });\n            this.trainers = trainers;\n            this.processLoadedState();\n            if (force) {\n                if (this.selectedTrainer !== null) {\n                    const selectedTrainerId = this.selectedTrainer.id;\n                    this.selectedTrainer = this.trainers.find(t => t.id == selectedTrainerId);\n                    this.loadTrainer(this.selectedTrainer);\n                }\n            }\n        });\n    }\n\n    private unselectTrainer() {\n        this.selectedTrainer = null;\n    }\n\n    public loadTrainer(trainer: Trainer, initial:boolean = false) {\n        this.selectedTrainer = trainer;\n        this.selectItemService.emit(new SelectItemEvent(\n            SelectItemEvent.Type.TrainerSelect,\n            {\n                trainer: trainer,\n                initial: initial\n            }\n        ));\n    }\n\n    public createNewTrainer(newTrainerName) {\n        this.newTrainer.name = newTrainerName;\n\n        this.modelService.createTrainer(this.newTrainer).subscribe(trainer => {\n            this.trainers.push(trainer as Trainer);\n            this.loadTrainer(trainer as Trainer);\n            this.modalRef.hide();\n            this.newTrainer = new Trainer();\n            this.trainersContainer.scrollTop = this.trainersContainer.scrollHeight;\n        });\n    }\n\n    private loadDetailPage() {\n        this.pagesService.getPage(TrainersComponent.DETAIL_TRAINER_PAGE_ID).subscribe((page) => {\n            this.detailPage = page;\n        });\n    }\n\n    ngOnInit() {\n        this.loadTrainers();\n        this.loadDetailPage();\n    }\n}","module.exports = \".image-card {\\n  display: inline-block;\\n  width: 11.5%;\\n  padding-top: 11.5%;\\n  position: relative;\\n  margin: 0.5%;\\n}\\n.image-card:hover .short-description {\\n  height: initial;\\n  white-space: initial;\\n  line-height: 22px;\\n  padding: 13px;\\n  padding-left: 12px;\\n}\\n.image-card:before {\\n  position: absolute;\\n  top: 5px;\\n  right: 5px;\\n  bottom: 0;\\n  left: 5px;\\n  content: \\\"\\\";\\n  border-radius: 6px;\\n  box-shadow: 0 3px 15px 0 rgba(0, 0, 0, 0.4);\\n}\\n.image-card .plus {\\n  width: 31px;\\n  height: 31px;\\n  position: relative;\\n  background: url(/admin/assets/icons/plus.svg) no-repeat;\\n  font-size: 0;\\n  margin-top: 11px;\\n  display: block;\\n}\\n.image-card.ticked .image-card-wrapper:after {\\n  position: absolute;\\n  content: '';\\n  width: 100%;\\n  height: 100%;\\n  border: 4px solid #4a90e2;\\n  display: block;\\n}\\n.image-card .image-card-wrapper {\\n  width: 100%;\\n  height: 100%;\\n  overflow: hidden;\\n  position: absolute;\\n  top: 0;\\n  bottom: 0;\\n  background-color: #fff;\\n  border-radius: 6px;\\n  box-sizing: border-box;\\n}\\n.image-card:before {\\n  position: absolute;\\n  top: 5px;\\n  right: 5px;\\n  bottom: 0;\\n  left: 5px;\\n  content: \\\"\\\";\\n  border-radius: 6px;\\n  box-shadow: 0 3px 15px 0 rgba(0, 0, 0, 0.4);\\n}\\n.image-card img {\\n  position: absolute;\\n  top: 50%;\\n  left: 50%;\\n  -webkit-transform: translateY(-50%) translateX(-50%);\\n          transform: translateY(-50%) translateX(-50%);\\n}\\n.image-card img.landscape {\\n  height: 100%!important;\\n}\\n.image-card img.portrait {\\n  width: 100%!important;\\n}\\n.image-card .new-image,\\n.image-card .load-more {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n  background-color: #fff;\\n  border-radius: 6px;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  align-items: center;\\n  text-align: center;\\n}\\n.image-card .short-description {\\n  position: absolute;\\n  bottom: 0;\\n  white-space: nowrap;\\n  text-overflow: ellipsis;\\n  width: 100%;\\n  overflow: hidden;\\n  padding: 12px;\\n  background-color: #fff;\\n  box-shadow: 0 -4px 7px rgba(0, 0, 0, 0.3);\\n}\\n@font-face {\\n  font-family: 'Acrom-Regular';\\n  src: url('/admin/assets/fonts/Acrom-Regular.eot?#iefix') format('embedded-opentype'), url('/admin/assets/fonts/Acrom-Regular.otf') format('opentype'), url('/admin/assets/fonts/Acrom-Regular.woff') format('woff'), url('/admin/assets/fonts/Acrom-Regular.ttf') format('truetype'), url('/admin/assets/fonts/Acrom-Regular.svg#Acrom-Regular') format('svg');\\n  font-weight: normal;\\n  font-style: normal;\\n}\\n@font-face {\\n  font-family: 'Acrom-Medium';\\n  src: url('/admin/assets/fonts/Acrom-Medium.eot?#iefix') format('embedded-opentype'), url('/admin/assets/fonts/Acrom-Medium.otf') format('opentype'), url('/admin/assets/fonts/Acrom-Medium.woff') format('woff'), url('/admin/assets/fonts/Acrom-Medium.ttf') format('truetype'), url('/admin/assets/fonts/Acrom-Medium.svg#Acrom-Medium') format('svg');\\n  font-weight: normal;\\n  font-style: normal;\\n}\\n@font-face {\\n  font-family: 'Acrom-Bold';\\n  src: url('/admin/assets/fonts/Acrom-Bold/Acrom-Bold.eot?#iefix') format('embedded-opentype'), url('/admin/assets/fonts/Acrom-Bold/Acrom-Bold.otf') format('opentype'), url('/admin/assets/fonts/Acrom-Bold/Acrom-Bold.woff') format('woff'), url('/admin/assets/fonts/Acrom-Bold/Acrom-Bold.ttf') format('truetype'), url('/admin/assets/fonts/Acrom-Bold/Acrom-Bold.svg#Acrom-Bold') format('svg');\\n  font-weight: normal;\\n  font-style: normal;\\n}\\n@font-face {\\n  font-family: 'Acrom-Light';\\n  src: url('/admin/assets/fonts/Acrom-Light/Acrom-Light.eot?#iefix') format('embedded-opentype'), url('/admin/assets/fonts/Acrom-Light/Acrom-Light.otf') format('opentype'), url('/admin/assets/fonts/Acrom-Light/Acrom-Light.woff') format('woff'), url('/admin/assets/fonts/Acrom-Light/Acrom-Light.ttf') format('truetype'), url('/admin/assets/fonts/Acrom-Light/Acrom-Light.svg#Acrom-Light') format('svg');\\n  font-weight: normal;\\n  font-style: normal;\\n}\\n.training-card {\\n  margin: 10px;\\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);\\n  background-color: #fff;\\n  padding: 10px;\\n  position: relative;\\n}\\n.training-card.settings h2 {\\n  font-family: \\\"Acrom-Bold\\\", sans-serif;\\n}\\n.training-card.settings .field {\\n  margin-bottom: 10px;\\n  position: relative;\\n}\\n.training-card.settings .field label {\\n  padding-top: 2px;\\n  float: left;\\n}\\n.training-card.settings .field .input {\\n  padding-left: 150px;\\n}\\n.training-card h2 {\\n  font-family: \\\"Acrom-Light\\\", sans-serif;\\n}\\n.training-card:not(:hover) .close {\\n  display: none;\\n}\\n.training-card .close {\\n  position: absolute;\\n  top: 10px;\\n  right: 10px;\\n  font-size: 20px;\\n  cursor: pointer;\\n}\\n\"","module.exports = \"<div *ngIf=\\\"isReady()\\\">\\n    <div class=\\\"settings training-card\\\" *ngIf=\\\"activityType !== null\\\">\\n        <h2>Настройки</h2>\\n        <div class=\\\"field\\\">\\n            <label>Заголовок</label>\\n            <div class=\\\"input\\\">\\n                <input [(ngModel)]=\\\"activityType.title\\\">\\n            </div>\\n        </div>\\n        <div class=\\\"field\\\">\\n            <label>Краткий заголовок</label>\\n            <div class=\\\"input\\\">\\n                <input [(ngModel)]=\\\"activityType.short_title\\\">\\n            </div>\\n        </div>\\n        <div class=\\\"field\\\">\\n            <label>Описание</label>\\n            <div class=\\\"input\\\">\\n                <textarea ngxTrumbowygEditor  [options]=\\\"editorOptions\\\" [(ngModel)]=\\\"activityType.description\\\"></textarea>\\n            </div>\\n        </div>\\n        <div class=\\\"field\\\">\\n            <label>Цвет</label>\\n            <div class=\\\"input\\\">\\n                <input class=\\\"color\\\"(colorPickerChange)=\\\"setColor($event)\\\" [colorPicker]=\\\"activityType.color\\\" [style.background]=\\\"activityType.color\\\" [cpOutputFormat]=\\\"hex\\\">\\n            </div>\\n        </div>\\n        <div class=\\\"actions\\\">\\n            <button (click)=\\\"save()\\\" class=\\\"save ripple module-control-button-element default\\\">Сохранить</button>\\n            <button (click)=\\\"deleteWithConfirm()\\\" class=\\\"ripple module-control-button-element delete\\\">Удалить</button>\\n        </div>\\n    </div>\\n    <div *ngFor=\\\"let activity of activities\\\" [class]=\\\"'training-card activity-' + activity.id\\\" (dblclick)=\\\"initEditingCard(activity)\\\">\\n        <div [ngSwitch]=\\\"isEditing(activity) && !isCreatingNew()\\\">\\n            <div *ngSwitchCase=\\\"false\\\">\\n                <div class=\\\"contents\\\">\\n                    <h2>{{activity.title}}</h2>\\n                    {{activity.description}}\\n                </div>\\n                <span class=\\\"close\\\" (click)=\\\"removeActivity(activity)\\\">\\n                    <i class=\\\"fa fa-close\\\"></i>\\n                </span>\\n            </div>\\n            <div *ngSwitchCase=\\\"true\\\">\\n                <div class=\\\"contents\\\">\\n                    <h2><input placeholder=\\\"Заголовок вида тренировок\\\" [focus]=\\\"autofocus\\\" [(ngModel)]=\\\"activity.title\\\" (blur)=\\\"leaveField('title', activity)\\\"></h2>\\n                    <textarea placeholder=\\\"Описание\\\" [(ngModel)]=\\\"activity.description\\\" (blur)=\\\"leaveField('description', activity)\\\"></textarea>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div *ngIf=\\\"isCreatingNew()\\\" class=\\\"training-card\\\">\\n        <div class=\\\"contents\\\">\\n            <h2><input placeholder=\\\"Заголовок вида тренировок\\\" [focus]=\\\"autofocus\\\" [(ngModel)]=\\\"newActivity.title\\\"></h2>\\n            <textarea placeholder=\\\"Описание\\\" [(ngModel)]=\\\"newActivity.description\\\"></textarea>\\n            <button (click)=\\\"createNew()\\\">добавить</button>\\n        </div>\\n        <span class=\\\"close\\\" (click)=\\\"closeNewActivity()\\\">\\n            <i class=\\\"fa fa-close\\\"></i>\\n        </span>\\n    </div>\\n    <div class=\\\"training-card\\\" (click)=\\\"createEditingCard()\\\">\\n        <div class=\\\"toolbar-element\\\">\\n            <div><i class=\\\"fa fa-plus\\\"></i></div>\\n        </div>\\n    </div>\\n</div>\\n\\n<ng-template #confirmDelete>\\n    <div class=\\\"modal-header\\\">\\n        <h4 class=\\\"modal-title pull-left\\\">Вы точно хотите удалить тип тренировок?</h4>\\n        <button type=\\\"button\\\" class=\\\"close pull-right\\\" aria-label=\\\"Close\\\" (click)=\\\"closePopup()\\\">\\n            <span aria-hidden=\\\"true\\\">&times;</span>\\n        </button>\\n    </div>\\n    <div class=\\\"modal-footer\\\">\\n        <div class=\\\"buttons\\\">\\n            <button type=\\\"button\\\" class=\\\"ripple module-control-button-element delete\\\" (click)=\\\"delete()\\\">Удалить</button>\\n            <button type=\\\"button\\\" class=\\\"ripple module-control-button-element cancel\\\" (click)=\\\"closePopup()\\\">Отмена</button>\\n        </div>\\n    </div>\\n</ng-template>\"","import {Component, EventEmitter, Input, OnChanges, OnInit, TemplateRef, ViewChild} from '@angular/core';\nimport {SelectItemService} from \"../select-item.service\";\nimport {ModelService} from \"../model.service\";\nimport {BsModalRef, BsModalService} from \"ngx-bootstrap\";\nimport {TrainingActivityType} from \"../models/training-activity-type\";\nimport {TrainingActivity} from \"../models/training-activity\";\nimport {SelectItemEvent} from \"../models/select-item-event\";\nimport * as $ from 'jquery';\nimport {AppModule} from \"../app.module\";\n\n@Component({\n    selector: 'trainings-editor',\n    templateUrl: './trainings-editor.component.html',\n    styleUrls: ['../common/object-editor.component.css', './trainings-editor.component.css'],\n})\nexport class TrainingsEditorComponent implements OnChanges {\n\n    @Input()\n    activityType: TrainingActivityType | null = null;\n\n    @ViewChild('confirmDelete')\n    confirmDelete: TemplateRef<any>;\n\n    private currentEditingId = 0;\n    private modalRef: BsModalRef;\n    private activities: TrainingActivity[] | null = null;\n    private newActivity: TrainingActivity | null = null;\n    public autofocus = new EventEmitter<boolean>(true);\n    public editorOptions = AppModule.editorOptions;\n\n    constructor(private selectItemService: SelectItemService,\n                private modelService: ModelService,\n                private modalService: BsModalService) {\n        this.autofocus.emit(true);\n\n        this.selectItemService.event$.subscribe((event: SelectItemEvent) => {\n            if (event.itemType === SelectItemEvent.Type.LanguageChange) {\n                this.reloadComponentState();\n            }\n        });\n\n        this.editorOptions.btns = [\n            ['strong', 'em', 'del'],\n            ['link'],\n            ['justifyLeft', 'justifyCenter', 'justifyRight', 'justifyFull'],\n            ['unorderedList', 'orderedList'],\n        ];\n    }\n\n    public deleteWithConfirm()\n    {\n        this.showPopup(this.confirmDelete);\n    }\n\n    public delete()\n    {\n        this.modelService.deleteTrainingActivityType(this.activityType)\n            .subscribe(() => {\n                this.selectItemService.emitEventOfType(SelectItemEvent.Type.TrainingItemTypeRemove, {\n                    activityTypeId: this.activityType.id\n                });\n                this.closePopup();\n            });\n    }\n\n    public save()\n    {\n        this.modelService.updateTrainingActivityType(this.activityType)\n            .subscribe();\n    }\n\n    public setColor(color)\n    {\n        if (this.activityType) {\n            this.activityType.color = color;\n        }\n    }\n\n\n    public leaveField(fieldName: string, activity = null)\n    {\n        this.checkFields(activity);\n    }\n\n    public createEditingCard()\n    {\n        this.newActivity = new TrainingActivity();\n        this.newActivity.type_id = this.activityType.id;\n        this.makeAutofocus();\n    }\n\n    public showPopup(target: TemplateRef<any>)\n    {\n        this.modalRef = this.modalService.show(target);\n    }\n\n    public closePopup()\n    {\n        this.modalRef.hide();\n    }\n\n    public isReady()\n    {\n        return this.activities !== null;\n    }\n\n    public ngOnChanges()\n    {\n        this.reloadComponentState();\n    }\n\n    public closeNewActivity()\n    {\n        this.newActivity = null;\n    }\n\n    public closeEditor()\n    {\n        this.currentEditingId = 0;\n    }\n\n    public isEditing(activity)\n    {\n        return this.currentEditingId === activity.id;\n    }\n\n    public initEditingCard(activity: TrainingActivity)\n    {\n        this.currentEditingId = activity.id;\n        this.closeNewActivity();\n        this.makeAutofocus();\n    }\n\n    public removeActivity(activity: TrainingActivity) {\n        this.modelService\n            .deleteTrainingActivity(activity)\n            .subscribe(() => {\n                this.activities = this.activities.filter(a => a.id !== activity.id);\n            });\n    }\n\n    public isCreatingNew()\n    {\n        return this.newActivity !== null;\n    }\n\n    public createNew()\n    {\n        this.modelService.createTrainingActivity(this.newActivity)\n            .subscribe((activity) => {\n                this.activities.push(activity);\n                this.closeNewActivity();\n            });\n    }\n\n    private reloadComponentState()\n    {\n        if (this.activityType !== null) {\n            this.initActivitiesList();\n        }\n    }\n\n    private makeAutofocus()\n    {\n        setTimeout(() => {\n            this.autofocus.emit(true);\n        }, 10);\n    }\n\n    private checkFields(activity)\n    {\n        setTimeout(() => {\n            let count = $('[class*=activity-' + activity.id + '] input:focus').length +\n                $('[class*=activity-' + activity.id + '] textarea:focus').length;\n            if (count === 0) {\n                this.applyEditingCard(activity);\n            }\n        }, 20);\n    }\n\n    private applyEditingCard(activity)\n    {\n        if (activity.title && activity.description) {\n            this.modelService.updateTrainingActivity(activity)\n                .subscribe((activity) => {\n                    this.closeEditor();\n                });\n        } else {\n            this.closeEditor();\n        }\n    }\n\n    private initActivitiesList()\n    {\n        let activityTypeId = this.activityType.id;\n\n        this.modelService\n            .getTrainingActivitiesByType(activityTypeId)\n            .subscribe((activities) => {\n                this.activities = activities.map(a => TrainingActivity.fromRaw(a));\n            }, (error) => {\n                console.log('Error loading activities of type ' + activityTypeId);\n                this.activities = null;\n            });\n    }\n}\n","module.exports = \".module-editor.nobg {\\n  background: none!important;\\n}\\n\"","module.exports = \"<div class=\\\"content\\\">\\n  <div class=\\\"module-list\\\">\\n    <ul class=\\\"object-list-element\\\" *ngIf=\\\"activityTypes !== null\\\" [class.active]=\\\"selectedActivityType !== null\\\" #trainingsList>\\n      <li class=\\\"object-item\\\" *ngFor=\\\"let activityType of activityTypes\\\" (click)=\\\"loadActivityType(activityType)\\\" [ngClass]=\\\"{active: this.selectedActivityType && activityType.id == selectedActivityType.id}\\\">\\n        <h2 class=\\\"object-name\\\">\\n          {{activityType.title | wordCountLimit: 2 }}\\n          </h2>\\n      </li>\\n    </ul>\\n    <div class=\\\"toolbar-element\\\">\\n      <div (click)=\\\"openModal(createActivityType)\\\"><i class=\\\"fa fa-plus\\\"></i></div>\\n      <div (click)=\\\"openModal(reorderActivityTypes)\\\"><i class=\\\"fa fa-bars\\\"></i></div>\\n    </div>\\n  </div>\\n  <div class=\\\"module-editor module-editor-visible nobg\\\" [ngClass]=\\\"{'visible': selectedActivityType != null}\\\">\\n    <trainings-editor [activityType]=\\\"selectedActivityType\\\"></trainings-editor>\\n  </div>\\n</div>\\n<ng-template #reorderActivityTypes>\\n  <div class=\\\"modal-header\\\">\\n    <h4 class=\\\"modal-title\\\">Поменять местами</h4>\\n    <button type=\\\"button\\\" class=\\\"close\\\" aria-label=\\\"Close\\\" (click)=\\\"modalRef.hide()\\\">\\n      <span aria-hidden=\\\"true\\\">&times;</span>\\n    </button>\\n  </div>\\n  <div class=\\\"modal-body\\\">\\n    <bs-sortable *ngIf=\\\"activityTypes\\\"\\n                 [(ngModel)]=\\\"activityTypes\\\"\\n                 itemClass=\\\"sortable-item\\\"\\n                 itemActiveClass=\\\"sortable-item-active\\\"\\n                 placeholderItem=\\\"Drag here\\\"\\n                 placeholderClass=\\\"placeholderStyle\\\"\\n                 wrapperClass=\\\"sortable-wrapper\\\"\\n                 fieldName=\\\"title\\\"\\n    ></bs-sortable>\\n  </div>\\n  <div class=\\\"modal-footer\\\">\\n    <button type=\\\"button\\\" class=\\\"save ripple module-control-button-element default\\\" (click)=\\\"reorderApply();modalRef.hide();\\\">Да</button>\\n    <button type=\\\"button\\\" class=\\\"ripple module-control-button-element cancel\\\" (click)=\\\"modalRef.hide()\\\">Отмена</button>\\n  </div>\\n</ng-template>\\n\\n<ng-template #createActivityType>\\n  <div class=\\\"modal-header\\\">\\n    <h4 class=\\\"modal-title pull-left\\\">Создать новый тип тренировок</h4>\\n    <button type=\\\"button\\\" class=\\\"close pull-right\\\" aria-label=\\\"Close\\\" (click)=\\\"modalRef.hide()\\\">\\n      <span aria-hidden=\\\"true\\\">&times;</span>\\n    </button>\\n  </div>\\n  <div class=\\\"modal-body\\\">\\n    <label>\\n      Заголовок:\\n    </label>\\n    <div>\\n      <input type=\\\"text\\\" #newActivityTypeName>\\n    </div>\\n  </div>\\n  <div class=\\\"modal-footer\\\">\\n    <div class=\\\"buttons\\\">\\n      <button type=\\\"button\\\" class=\\\"ripple module-control-button-element default\\\" (click)=\\\"createNewActivityType(newActivityTypeName.value)\\\">Создать</button>\\n      <button type=\\\"button\\\" class=\\\"ripple module-control-button-element cancel\\\" (click)=\\\"modalRef.hide()\\\">Отмена</button>\\n    </div>\\n  </div>\\n</ng-template>\"","import {Component, OnInit, TemplateRef} from '@angular/core';\nimport {ModelService} from \"../model.service\";\nimport {TrainingActivityType} from \"../models/training-activity-type\";\nimport {BsModalRef, BsModalService} from \"ngx-bootstrap\";\nimport {SelectItemService} from \"../select-item.service\";\nimport {SelectItemEvent} from \"../models/select-item-event\";\n\n@Component({\n    selector: 'trainings',\n    templateUrl: './trainings.component.html',\n    styleUrls: ['../common/object-list.component.css', './trainings.component.css'],\n})\nexport class TrainingsComponent implements OnInit {\n\n    public activityTypes: TrainingActivityType[]|null = null;\n\n    modalRef: BsModalRef;\n\n    openModal(template: TemplateRef<any>) {\n        this.modalRef = this.modalService.show(template);\n    }\n\n\n    selectedActivityType: TrainingActivityType|null = null;\n\n\n    constructor(\n        private modelService: ModelService,\n        private modalService: BsModalService,\n        private selectItemService: SelectItemService\n    ) {\n        this.selectItemService.event$.subscribe((e: SelectItemEvent) => {\n            if (e.itemType === SelectItemEvent.Type.TrainingItemTypeRemove) {\n                this.selectedActivityType = null;\n                this.activityTypes = this.activityTypes.filter(a => a.id !== e.payload.activityTypeId);\n            } else if (e.itemType === SelectItemEvent.Type.LanguageChange) {\n                this.loadActivities(true);\n            }\n        });\n    }\n\n    private loadActivities(force = false)\n    {\n        this.modelService.getTrainingActivityTypes().subscribe((activityTypes) => {\n            activityTypes.sort((a, b) => {\n                return a.n - b.n\n            });\n            this.activityTypes = activityTypes.map(a => TrainingActivityType.fromRaw(a));\n            if (force) {\n                if (this.selectedActivityType !== null) {\n                    const loadActivityTypeId = this.selectedActivityType.id;\n                    this.selectedActivityType = this.activityTypes.find(t => t.id == loadActivityTypeId);\n                    this.loadActivityType(this.selectedActivityType);\n                }\n            }\n        });\n    }\n\n    ngOnInit() {\n        this.loadActivities();\n    }\n\n    public reorderApply()\n    {\n        this.modelService.reorderApply('trainingActivityType', this.activityTypes);\n    }\n\n    public createNewActivityType(name: string)\n    {\n        let newActivityType = new TrainingActivityType();\n        newActivityType.short_title = name;\n        this.modelService.createTrainingActivityType(newActivityType).subscribe(activityType => {\n            console.log(activityType);\n           this.activityTypes.push(activityType);\n        });\n    }\n\n    public loadActivityType(activityType: TrainingActivityType)\n    {\n        this.selectedActivityType = activityType;\n    }\n}","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false\n};\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.log(err));\n"],"sourceRoot":""}